"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[936],{3174:(Mt,dt,i)=>{i.d(dt,{A:()=>Ri});var be=i(177),k=i(345),se=i(4438),_e=i(186),he=i(4292),Ce=i(3992),le=i(4435),ae=i(1269),oe=i(4905),ee=i(4423),q=i(2463),P=i(2101),Y=i(7951),Ee=i(2984),re=i(4461),j=i(4831),ue=i(2839),b=i(3930),S=j.A.inherit({_getDefaultOptions:function(){return(0,Y.X)(this.callBase(),{min:0,max:100,value:0})},_initMarkup:function(){this.$element().addClass("dx-trackbar"),this._renderWrapper(),this._renderContainer(),this._renderRange(),this._renderValue(),this._setRangeStyles(),this.callBase()},_render:function(){this.callBase(),this._setRangeStyles(this._rangeStylesConfig())},_renderWrapper:function(){this._$wrapper=(0,he.A)("<div>").addClass("dx-trackbar-wrapper").appendTo(this.$element())},_renderContainer:function(){this._$bar=(0,he.A)("<div>").addClass("dx-trackbar-container").appendTo(this._$wrapper)},_renderRange:function(){this._$range=(0,he.A)("<div>").addClass("dx-trackbar-range").appendTo(this._$bar)},_renderValue:function(){var Re=this.option("value"),E=this.option("min"),e=this.option("max");if(!(E>e)){if(Re<E)return this.option("value",E),void(this._currentRatio=0);if(Re>e)return this.option("value",e),void(this._currentRatio=1);var ne=E===e?0:(Re-E)/(e-E);!this._needPreventAnimation&&this._setRangeStyles({width:100*ne+"%"}),this.setAria({valuemin:this.option("min"),valuemax:e,valuenow:Re}),this._currentRatio=ne}},_rangeStylesConfig:function(){return{width:100*this._currentRatio+"%"}},_setRangeStyles:function(Re){b.A.stop(this._$range),Re?this._needPreventAnimation||!(0,le.Vd)()||b.A.animate(this._$range,{type:"custom",duration:100,to:Re}):this._$range.css({width:0})},_optionChanged:function(Re){switch(Re.name){case"value":this._renderValue(),this.callBase(Re);break;case"max":case"min":this._renderValue();break;default:this.callBase(Re)}},_dispose:function(){b.A.stop(this._$range),this.callBase()}});(0,oe.A)("dxTrackBar",S);var o="dx-progressbar-animating-segment",l=S.inherit({_getDefaultOptions:function(){return(0,Y.X)(this.callBase(),{value:0,statusFormat:function(Re){return"Progress: "+Math.round(100*Re)+"%"},showStatus:!0,onComplete:null,activeStateEnabled:!1,statusPosition:"bottom left",_animatingSegmentCount:0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(Re){return"android"===Re.platform},options:{_animatingSegmentCount:2}}])},_initMarkup:function(){this._renderStatus(),this._createCompleteAction(),this.callBase(),this.$element().addClass("dx-progressbar"),this._$wrapper.addClass("dx-progressbar-wrapper"),this._$bar.addClass("dx-progressbar-container"),this.setAria("role","progressbar"),(0,he.A)("<div>").addClass("dx-progressbar-range-container").appendTo(this._$wrapper).append(this._$bar),this._$range.addClass("dx-progressbar-range"),this._toggleStatus(this.option("showStatus"))},_useTemplates:function(){return!1},_createCompleteAction:function(){this._completeAction=this._createActionByOption("onComplete")},_renderStatus:function(){this._$status=(0,he.A)("<div>").addClass("dx-progressbar-status")},_renderIndeterminateState:function(){this._$segmentContainer=(0,he.A)("<div>").addClass("dx-progressbar-animating-container");for(var Re=this.option("_animatingSegmentCount"),E=0;E<Re;E++)(0,he.A)("<div>").addClass(o).addClass(o+"-"+(E+1)).appendTo(this._$segmentContainer);this._$segmentContainer.appendTo(this._$wrapper)},_toggleStatus:function(Re){var E=this.option("statusPosition").split(" ");Re?"top"===E[0]||"left"===E[0]?this._$status.prependTo(this._$wrapper):this._$status.appendTo(this._$wrapper):this._$status.detach(),this._togglePositionClass()},_togglePositionClass:function(){var E=this.option("statusPosition").split(" ");this._$wrapper.removeClass("dx-position-top-left dx-position-top-right dx-position-bottom-left dx-position-bottom-right dx-position-left dx-position-right");var e="dx-position-"+E[0];E[1]&&(e+="-"+E[1]),this._$wrapper.addClass(e)},_toggleIndeterminateState:function(Re){Re?(this._renderIndeterminateState(),this._$bar.toggle(!1)):(this._$bar.toggle(!0),this._$segmentContainer.remove(),delete this._$segmentContainer)},_renderValue:function(){var Re=this.option("value"),E=this.option("max");Re||0===Re?(this._$segmentContainer&&this._toggleIndeterminateState(!1),Re===E&&this._completeAction(),this.callBase(),this._setStatus()):this._toggleIndeterminateState(!0)},_setStatus:function(){var Re=this.option("statusFormat"),E=(Re=(0,q.Tn)(Re)?Re.bind(this):function(e){return e})(this._currentRatio,this.option("value"));this._$status.text(E)},_dispose:function(){this._$status.remove(),this.callBase()},_optionChanged:function(Re){switch(Re.name){case"statusFormat":this._setStatus();break;case"showStatus":this._toggleStatus(Re.value);break;case"statusPosition":this._toggleStatus(this.option("showStatus"));break;case"onComplete":this._createCompleteAction();break;case"_animatingSegmentCount":break;default:this.callBase(Re)}}});(0,oe.A)("dxProgressBar",l);const _=l;var h=i(3862),C=i(9104),F=i(8060),te=i(736),X=i(1299),ge=i(7669),He=(0,le.zk)(),p="dx-fileuploader-dragover",T="dx-fileuploader-file-container",s="dx-fileuploader-file-name",t="dx-fileuploader-file-size",u="dx-fileuploader-button",y="dx-fileuploader-button-container",pe="dx-fileuploader-upload-button",ze=()=>!!He.FormData;class tt extends j.A{_supportedKeys(){var E=e=>{e.preventDefault();var ne=this._selectButton.$element();ae.A.trigger(ne,F.U)};return(0,Y.X)(super._supportedKeys(),{space:E,enter:E})}_setOptionsByReference(){super._setOptionsByReference(),(0,Y.X)(this._optionsByReference,{value:!0})}_getDefaultOptions(){return(0,Y.X)(super._getDefaultOptions(),{chunkSize:0,value:[],selectButtonText:te.A.format("dxFileUploader-selectFile"),uploadButtonText:te.A.format("dxFileUploader-upload"),labelText:te.A.format("dxFileUploader-dropFile"),name:"files[]",multiple:!1,accept:"",uploadUrl:"/",allowCanceling:!0,showFileList:!0,progress:0,dialogTrigger:void 0,dropZone:void 0,readyToUploadMessage:te.A.format("dxFileUploader-readyToUpload"),uploadedMessage:te.A.format("dxFileUploader-uploaded"),uploadFailedMessage:te.A.format("dxFileUploader-uploadFailedMessage"),uploadAbortedMessage:te.A.format("dxFileUploader-uploadAbortedMessage"),uploadMode:"instantly",uploadMethod:"POST",uploadHeaders:{},uploadCustomData:{},onBeforeSend:null,onUploadStarted:null,onUploaded:null,onFilesUploaded:null,onProgress:null,onUploadError:null,onUploadAborted:null,onDropZoneEnter:null,onDropZoneLeave:null,allowedFileExtensions:[],maxFileSize:0,minFileSize:0,inputAttr:{},invalidFileExtensionMessage:te.A.format("dxFileUploader-invalidFileExtension"),invalidMaxFileSizeMessage:te.A.format("dxFileUploader-invalidMaxFileSize"),invalidMinFileSizeMessage:te.A.format("dxFileUploader-invalidMinFileSize"),extendSelection:!0,validationMessageMode:"always",uploadFile:null,uploadChunk:null,abortUpload:null,validationMessageOffset:{h:0,v:0},hoverStateEnabled:!0,useNativeInputClick:!1,useDragOver:!0,nativeDropSupported:!0,_uploadButtonType:"normal",_buttonStylingMode:"contained"})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>"desktop"===h.A.real().deviceType&&!h.A.isSimulator(),options:{focusStateEnabled:!0}},{device:[{platform:"android"}],options:{validationMessageOffset:{v:0}}},{device:()=>"desktop"!==h.A.real().deviceType,options:{useDragOver:!1}},{device:()=>!ze(),options:{uploadMode:"useForm"}},{device:()=>"desktop"!==h.A.real().deviceType,options:{nativeDropSupported:!1}},{device:()=>(0,X.gx)(),options:{_uploadButtonType:"default"}},{device:()=>(0,X.Ft)(),options:{_buttonStylingMode:"text"}}])}_initOptions(E){var e="labelText"in E;super._initOptions(E),!e&&!this._shouldDragOverBeRendered()&&this.option("labelText","")}_init(){super._init(),this._initFileInput(),this._initLabel(),this._setUploadStrategy(),this._createFiles(),this._createBeforeSendAction(),this._createUploadStartedAction(),this._createUploadedAction(),this._createFilesUploadedAction(),this._createProgressAction(),this._createUploadErrorAction(),this._createUploadAbortedAction(),this._createDropZoneEnterAction(),this._createDropZoneLeaveAction()}_setUploadStrategy(){var E=null;if(this.option("chunkSize")>0){var e=this.option("uploadChunk");E=e&&(0,q.Tn)(e)?new Pt(this):new Tt(this)}else{var ne=this.option("uploadFile");E=ne&&(0,q.Tn)(ne)?new M(this):new nt(this)}this._uploadStrategy=E}_initFileInput(){this._isCustomClickEvent=!1,this._$fileInput||(this._$fileInput=(0,he.A)("<input>").attr("type","file"),ae.A.on(this._$fileInput,"change",this._inputChangeHandler.bind(this)),ae.A.on(this._$fileInput,"click",E=>(E.stopPropagation(),this._resetInputValue(),this.option("useNativeInputClick")||this._isCustomClickEvent))),this._$fileInput.prop({multiple:this.option("multiple"),accept:this.option("accept"),title:this.option("hint")||null,tabIndex:-1})}_inputChangeHandler(){if(!this._doPreventInputChange){var E=this._$fileInput.val().replace(/^.*\\/,""),e=this._$fileInput.prop("files");if(!e||e.length||"useForm"===this.option("uploadMode")){var ne=e?this._getFiles(e):[{name:E}];this._changeValue(ne),"instantly"===this.option("uploadMode")&&this._uploadFiles()}}}_shouldFileListBeExtended(){return"useForm"!==this.option("uploadMode")&&this.option("extendSelection")&&this.option("multiple")}_changeValue(E){var e=this._shouldFileListBeExtended()?this.option("value").slice():[];this.option("value",e.concat(E))}_getFiles(E){var e=[];return(0,P.__)(E,(ne,je)=>e.push(je)),e}_getFile(E){var e=(0,q.kf)(E)?this.option("value")[E]:E;return this._files.filter(ne=>ne.value===e)[0]}_initLabel(){this._$inputLabel||(this._$inputLabel=(0,he.A)("<div>")),this._updateInputLabelText()}_updateInputLabelText(){var E=this._isInteractionDisabled()?"":this.option("labelText");this._$inputLabel.text(E)}_focusTarget(){return this.$element().find("."+u)}_getSubmitElement(){return this._$fileInput}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-fileuploader"),this._renderWrapper(),this._renderInputWrapper(),this._renderSelectButton(),this._renderInputContainer(),this._renderUploadButton(),this._preventRecreatingFiles=!0,this._activeDropZone=null}_render(){this._preventRecreatingFiles=!1,this._attachDragEventHandlers(this._$inputWrapper),this._attachDragEventHandlers(this.option("dropZone")),this._renderFiles(),super._render()}_createFileProgressBar(E){E.progressBar=this._createProgressBar(E.value.size),E.progressBar.$element().appendTo(E.$file),this._initStatusMessage(E),this._ensureCancelButtonInitialized(E)}_setStatusMessage(E,e){setTimeout(()=>{this.option("showFileList")&&E.$statusMessage&&(E.$statusMessage.text(e),E.$statusMessage.css("display",""),E.progressBar.$element().remove())},400)}_getUploadAbortedStatusMessage(){return"instantly"===this.option("uploadMode")?this.option("uploadAbortedMessage"):this.option("readyToUploadMessage")}_createFiles(){var E=this.option("value");this._files&&(0===E.length||!this._shouldFileListBeExtended())&&(this._preventFilesUploading(this._files),this._files=null),this._files||(this._files=[]),(0,P.__)(E.slice(this._files.length),(e,ne)=>{var je=this._createFile(ne);this._validateFile(je),this._files.push(je)})}_preventFilesUploading(E){E.forEach(e=>this._uploadStrategy.abortUpload(e))}_validateFile(E){E.isValidFileExtension=this._validateFileExtension(E),E.isValidMinSize=this._validateMinFileSize(E),E.isValidMaxSize=this._validateMaxFileSize(E)}_validateFileExtension(E){var e=this.option("allowedFileExtensions"),ne=this.option("accept"),je=this._getAllowedFileTypes(ne),at=E.value.name.substring(E.value.name.lastIndexOf(".")).toLowerCase();if(0!==ne.length&&!this._isFileTypeAllowed(E.value,je))return!1;if(0===e.length)return!0;for(var bt=0;bt<e.length;bt++)if(at===e[bt].toLowerCase())return!0;return!1}_validateMaxFileSize(E){var e=E.value.size,ne=this.option("maxFileSize");return!(ne>0)||e<=ne}_validateMinFileSize(E){var e=E.value.size,ne=this.option("minFileSize");return!(ne>0)||e>=ne}_createBeforeSendAction(){this._beforeSendAction=this._createActionByOption("onBeforeSend",{excludeValidators:["readOnly"]})}_createUploadStartedAction(){this._uploadStartedAction=this._createActionByOption("onUploadStarted",{excludeValidators:["readOnly"]})}_createUploadedAction(){this._uploadedAction=this._createActionByOption("onUploaded",{excludeValidators:["readOnly"]})}_createFilesUploadedAction(){this._filesUploadedAction=this._createActionByOption("onFilesUploaded",{excludeValidators:["readOnly"]})}_createProgressAction(){this._progressAction=this._createActionByOption("onProgress",{excludeValidators:["readOnly"]})}_createUploadAbortedAction(){this._uploadAbortedAction=this._createActionByOption("onUploadAborted",{excludeValidators:["readOnly"]})}_createUploadErrorAction(){this._uploadErrorAction=this._createActionByOption("onUploadError",{excludeValidators:["readOnly"]})}_createDropZoneEnterAction(){this._dropZoneEnterAction=this._createActionByOption("onDropZoneEnter")}_createDropZoneLeaveAction(){this._dropZoneLeaveAction=this._createActionByOption("onDropZoneLeave")}_createFile(E){return{value:E,loadedSize:0,onProgress:(0,ee.A)(),onAbort:(0,ee.A)(),onLoad:(0,ee.A)(),onError:(0,ee.A)(),onLoadStart:(0,ee.A)(),isValidFileExtension:!0,isValidMaxSize:!0,isValidMinSize:!0,isValid(){return this.isValidFileExtension&&this.isValidMaxSize&&this.isValidMinSize},isInitialized:!1}}_resetFileState(E){E.isAborted=!1,E.uploadStarted=!1,E.isStartLoad=!1,E.loadedSize=0,E.chunksData=void 0,E.request=void 0}_renderFiles(){var E,e=this.option("value");this._$filesContainer?(!this._shouldFileListBeExtended()||0===e.length)&&this._$filesContainer.empty():this._$filesContainer=(0,he.A)("<div>").addClass("dx-fileuploader-files-container").appendTo(this._$content);var ne=this.option("showFileList");ne&&(0,P.__)(this._files,(je,at)=>{at.$file||this._renderFile(at)}),this.$element().toggleClass("dx-fileuploader-show-file-list",ne),this._toggleFileUploaderEmptyClassName(),this._updateFileNameMaxWidth(),null===(E=this._validationMessage)||void 0===E||E.repaint()}_renderFile(E){var e=E.value,ne=(0,he.A)("<div>").addClass(T).appendTo(this._$filesContainer);this._renderFileButtons(E,ne),E.$file=(0,he.A)("<div>").addClass("dx-fileuploader-file").appendTo(ne);var je=(0,he.A)("<div>").addClass("dx-fileuploader-file-info").appendTo(E.$file);E.$statusMessage=(0,he.A)("<div>").addClass("dx-fileuploader-file-status-message").appendTo(E.$file),(0,he.A)("<div>").addClass(s).text(e.name).appendTo(je),(0,q.O9)(e.size)&&(0,he.A)("<div>").addClass(t).text(this._getFileSize(e.size)).appendTo(je),E.isValid()?E.$statusMessage.text(this.option("readyToUploadMessage")):(E.isValidFileExtension||E.$statusMessage.append(this._createValidationElement("invalidFileExtensionMessage")),E.isValidMaxSize||E.$statusMessage.append(this._createValidationElement("invalidMaxFileSizeMessage")),E.isValidMinSize||E.$statusMessage.append(this._createValidationElement("invalidMinFileSizeMessage")),ne.addClass("dx-fileuploader-invalid"))}_createValidationElement(E){return(0,he.A)("<span>").text(this.option(E))}_updateFileNameMaxWidth(){var E=this.option("allowCanceling")&&"useForm"!==this.option("uploadMode")?1:0,e="useButtons"===this.option("uploadMode")?1:0,ne=(0,_e.RG)(this._$filesContainer.find("."+T).first())||(0,_e.RG)(this._$filesContainer),je=this._$filesContainer.find("."+y).eq(0),at=(0,_e.RG)(je)*(E+e),bt=this._$filesContainer.find("."+t).eq(0),Vt=bt.text();bt.text("1000 Mb");var Kt=(0,_e.RG)(bt);bt.text(Vt),this._$filesContainer.find("."+s).css("maxWidth",ne-at-Kt)}_renderFileButtons(E,e){var ne=this._getCancelButton(E);ne&&e.append(ne);var je=this._getUploadButton(E);je&&e.append(je)}_getCancelButton(E){if("useForm"===this.option("uploadMode"))return null;var{allowCanceling:e,readOnly:ne,hoverStateEnabled:je,_buttonStylingMode:at}=this.option();return E.cancelButton=this._createComponent((0,he.A)("<div>").addClass(u+" dx-fileuploader-cancel-button"),ue.A,{onClick:()=>this._removeFile(E),icon:"close",visible:e,disabled:ne,integrationOptions:{},hoverStateEnabled:je,stylingMode:at}),(0,he.A)("<div>").addClass(y).append(E.cancelButton.$element())}_getUploadButton(E){if(!E.isValid()||"useButtons"!==this.option("uploadMode"))return null;var{hoverStateEnabled:e,_buttonStylingMode:ne}=this.option();return E.uploadButton=this._createComponent((0,he.A)("<div>").addClass(u+" "+pe),ue.A,{onClick:()=>this._uploadFile(E),icon:"upload",hoverStateEnabled:e,stylingMode:ne}),E.onLoadStart.add(()=>E.uploadButton.option({visible:!1,disabled:!0})),E.onAbort.add(()=>E.uploadButton.option({visible:!0,disabled:!1})),(0,he.A)("<div>").addClass(y).append(E.uploadButton.$element())}_removeFile(E){var e;null===(e=E.$file)||void 0===e||e.parent().remove(),this._files.splice(this._files.indexOf(E),1);var ne=this.option("value").slice();ne.splice(ne.indexOf(E.value),1),this._preventRecreatingFiles=!0,this.option("value",ne),this._preventRecreatingFiles=!1,this._toggleFileUploaderEmptyClassName(),this._resetInputValue(!0)}removeFile(E){if("useForm"!==this.option("uploadMode")&&(0,q.O9)(E)){var e=this._getFile(E);e&&(e.uploadStarted&&this._preventFilesUploading([e]),this._removeFile(e))}}_toggleFileUploaderEmptyClassName(){this.$element().toggleClass("dx-fileuploader-empty",!this._files.length||this._hasInvalidFile(this._files))}_hasInvalidFile(E){for(var e=0;e<E.length;e++)if(!E[e].isValid())return!0;return!1}_getFileSize(E){for(var e=0,ne=[te.A.format("dxFileUploader-bytes"),te.A.format("dxFileUploader-kb"),te.A.format("dxFileUploader-Mb"),te.A.format("dxFileUploader-Gb")],je=ne.length-1;e<je&&E>=1024;)E/=1024,e++;return Math.round(E)+" "+ne[e]}_renderSelectButton(){var E=(0,he.A)("<div>").addClass(u).appendTo(this._$inputWrapper);this._selectButton=this._createComponent(E,ue.A,{text:this.option("selectButtonText"),focusStateEnabled:!1,integrationOptions:{},disabled:this.option("readOnly"),hoverStateEnabled:this.option("hoverStateEnabled")}),this._selectFileDialogHandler=this._selectButtonClickHandler.bind(this),"desktop"===h.A.real().deviceType?this._selectButton.option("onClick",this._selectFileDialogHandler):this._attachSelectFileDialogHandler(this._selectButton.$element()),this._attachSelectFileDialogHandler(this.option("dialogTrigger"))}_selectButtonClickHandler(){if(!this.option("useNativeInputClick")){if(this._isInteractionDisabled())return!1;this._isCustomClickEvent=!0,ae.A.trigger(this._$fileInput,"click"),this._isCustomClickEvent=!1}}_attachSelectFileDialogHandler(E){(0,q.O9)(E)&&(this._detachSelectFileDialogHandler(E),ae.A.on((0,he.A)(E),"click",this._selectFileDialogHandler))}_detachSelectFileDialogHandler(E){(0,q.O9)(E)&&ae.A.off((0,he.A)(E),"click",this._selectFileDialogHandler)}_renderUploadButton(){if("useButtons"===this.option("uploadMode")){var E=(0,he.A)("<div>").addClass(u).addClass(pe).appendTo(this._$content);this._uploadButton=this._createComponent(E,ue.A,{text:this.option("uploadButtonText"),onClick:this._uploadButtonClickHandler.bind(this),type:this.option("_uploadButtonType"),integrationOptions:{},hoverStateEnabled:this.option("hoverStateEnabled")})}}_uploadButtonClickHandler(){this._uploadFiles()}_shouldDragOverBeRendered(){return!this.option("readOnly")&&("useForm"!==this.option("uploadMode")||this.option("nativeDropSupported"))}_isInteractionDisabled(){return this.option("readOnly")||this.option("disabled")}_renderInputContainer(){this._$inputContainer=(0,he.A)("<div>").addClass("dx-fileuploader-input-container").appendTo(this._$inputWrapper),this._$fileInput.addClass("dx-fileuploader-input"),this._renderInput();var E="dx-fileuploader-input-label-".concat(new Ce.A);this._$inputLabel.attr("id",E).addClass("dx-fileuploader-input-label").appendTo(this._$inputContainer),this.setAria("labelledby",E,this._$fileInput)}_renderInput(){this.option("useNativeInputClick")?this._selectButton.option("template",this._selectButtonInputTemplate.bind(this)):(this._$fileInput.appendTo(this._$inputContainer),this._selectButton.option("template","content")),this._applyInputAttributes(this.option("inputAttr"))}_selectButtonInputTemplate(E,e){var ne=(0,he.A)(e),je=(0,he.A)("<span>").addClass("dx-button-text").text(E.text);return ne.append(je).append(this._$fileInput),ne}_renderInputWrapper(){this._$inputWrapper=(0,he.A)("<div>").addClass("dx-fileuploader-input-wrapper").appendTo(this._$content)}_detachDragEventHandlers(E){(0,q.O9)(E)&&ae.A.off((0,he.A)(E),(0,C.b4)("",this.NAME))}_attachDragEventHandlers(E){var e=E!==this._$inputWrapper;!(0,q.O9)(E)||!this._shouldDragOverBeRendered()||(this._detachDragEventHandlers(E),E=(0,he.A)(E),ae.A.on(E,(0,C.b4)("dragenter",this.NAME),this._dragEnterHandler.bind(this,e)),ae.A.on(E,(0,C.b4)("dragover",this.NAME),this._dragOverHandler.bind(this,e)),ae.A.on(E,(0,C.b4)("dragleave",this.NAME),this._dragLeaveHandler.bind(this,e)),ae.A.on(E,(0,C.b4)("drop",this.NAME),this._dropHandler.bind(this,e)))}_applyInputAttributes(E){this._$fileInput.attr(E)}_useInputForDrop(){return this.option("nativeDropSupported")&&"useForm"===this.option("uploadMode")}_getDropZoneElement(E,e){var ne=E?Array.from((0,he.A)(this.option("dropZone"))):[this._$inputWrapper];return(ne=ne.map(je=>(0,he.A)(je).get(0)))[ne.indexOf(e.currentTarget)]}_dragEnterHandler(E,e){if(this.option("disabled"))return!1;this._useInputForDrop()||e.preventDefault();var ne=this._getDropZoneElement(E,e);(0,q.O9)(ne)&&this._shouldRaiseDragOver(e,ne)&&(this._activeDropZone=ne,this._tryToggleDropZoneActive(!0,E,e))}_shouldRaiseDragOver(E,e){return null===this._activeDropZone&&this.isMouseOverElement(E,e,!1)&&E.originalEvent.dataTransfer.types.find(ne=>"Files"===ne)}_dragOverHandler(E,e){if(this._useInputForDrop()||e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="copy",!E){var ne=this._getDropZoneElement(!1,e);this._shouldRaiseDragOver(e,ne)&&this._dragEnterHandler(!1,e),this._shouldRaiseDragLeave(e,!1)&&this._dragLeaveHandler(!1,e)}}_dragLeaveHandler(E,e){this._useInputForDrop()||e.preventDefault(),this._shouldRaiseDragLeave(e,E)&&(this._tryToggleDropZoneActive(!1,E,e),this._activeDropZone=null)}_shouldRaiseDragLeave(E,e){return null!==this._activeDropZone&&!this.isMouseOverElement(E,this._activeDropZone,!e,-1)}_tryToggleDropZoneActive(E,e,ne){var je=E?"addClass":"removeClass";this[E?"_dropZoneEnterAction":"_dropZoneLeaveAction"]({event:ne,dropZoneElement:this._activeDropZone}),e||this.$element()[je](p)}_dropHandler(E,e){if(this._activeDropZone=null,E||this.$element().removeClass(p),!(this._useInputForDrop()||E&&this._isInteractionDisabled())){e.preventDefault();var je=this._getFiles(e.originalEvent.dataTransfer.files);!this.option("multiple")&&je.length>1||0===je.length||(this._changeValue(je),"instantly"===this.option("uploadMode")&&this._uploadFiles())}}_areAllFilesLoaded(){return this._files.every(E=>!E.isValid()||E._isError||E._isLoaded||E.isAborted)}_handleAllFilesUploaded(){this._recalculateProgress(),this._areAllFilesLoaded()&&this._filesUploadedAction()}_getAllowedFileTypes(E){return E.length?E.split(",").map(e=>e.trim()):[]}_isFileTypeAllowed(E,e){for(var ne=0,je=e.length;ne<je;ne++){var at=e[ne];if("."===at[0]){if(at=at.replace(".","\\."),E.name.match(new RegExp(at+"$","i")))return!0}else if(at=at.replace(new RegExp("\\*","g"),""),E.type.match(new RegExp(at,"i")))return!0}return!1}_renderWrapper(){var E=(0,he.A)("<div>").addClass("dx-fileuploader-wrapper").appendTo(this.$element()),e=(0,he.A)("<div>").addClass("dx-fileuploader-container").appendTo(E);this._$content=(0,he.A)("<div>").addClass("dx-fileuploader-content").appendTo(e)}_clean(){this._$fileInput.detach(),delete this._$filesContainer,this._detachSelectFileDialogHandler(this.option("dialogTrigger")),this._detachDragEventHandlers(this.option("dropZone")),this._files&&this._files.forEach(E=>{E.$file=null,E.$statusMessage=null}),super._clean()}abortUpload(E){if("useForm"!==this.option("uploadMode"))if((0,q.O9)(E)){var e=this._getFile(E);e&&this._preventFilesUploading([e])}else this._preventFilesUploading(this._files)}upload(E){if("useForm"!==this.option("uploadMode"))if((0,q.O9)(E)){var e=this._getFile(E);e&&ze()&&this._uploadFile(e)}else this._uploadFiles()}_uploadFiles(){ze()&&(0,P.__)(this._files,(E,e)=>this._uploadFile(e))}_uploadFile(E){this._uploadStrategy.upload(E)}_updateProgressBar(E,e){E.progressBar&&E.progressBar.option({value:e.loaded,showStatus:!0}),this._progressAction({file:E.value,segmentSize:e.currentSegmentSize,bytesLoaded:e.loaded,bytesTotal:e.total,event:e.event,request:E.request})}_updateTotalProgress(E,e){var ne=0;(0,q.O9)(E)&&(this._files.length>0&&this._areAllFilesLoaded()&&0===E&&0===e?ne=this._getProgressValue(1):E&&(ne=this._getProgressValue(e/E))),this.option("progress",ne),this._setLoadedSize(e)}_getProgressValue(E){return Math.floor(100*E)}_initStatusMessage(E){E.$statusMessage.css("display","none")}_ensureCancelButtonInitialized(E){if(!E.isInitialized){E.cancelButton.option("onClick",()=>{this._preventFilesUploading([E]),this._removeFile(E)});var e=()=>{setTimeout(()=>{E.cancelButton.option({visible:!1})},400)};E.onLoad.add(e),E.onError.add(e)}}_createProgressBar(E){return this._createComponent((0,he.A)("<div>"),_,{value:void 0,min:0,max:E,statusFormat:e=>this._getProgressValue(e)+"%",showStatus:!1,statusPosition:"right"})}_getTotalFilesSize(){return this._totalFilesSize||(this._totalFilesSize=0,(0,P.__)(this._files,(E,e)=>{this._totalFilesSize+=e.value.size})),this._totalFilesSize}_getTotalLoadedFilesSize(){return this._totalLoadedFilesSize||(this._totalLoadedFilesSize=0,(0,P.__)(this._files,(E,e)=>{this._totalLoadedFilesSize+=e.loadedSize})),this._totalLoadedFilesSize}_setLoadedSize(E){this._totalLoadedFilesSize=E}_recalculateProgress(){this._totalFilesSize=0,this._totalLoadedFilesSize=0,this._updateTotalProgress(this._getTotalFilesSize(),this._getTotalLoadedFilesSize())}isMouseOverElement(E,e,ne){var je=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return!1;var at=ne?parseFloat(He.getComputedStyle(e,":before").height):0,bt=ne?parseFloat(He.getComputedStyle(e,":after").height):0,Vt=(0,_e.A3)(e).left,Kt=(0,_e.A3)(e).top+at,Xt=e.offsetWidth,ii=e.offsetHeight-at-bt,ui=this._getEventX(E),di=this._getEventY(E);return ui+je>=Vt&&ui-je<Vt+Xt&&di+je>=Kt&&di-je<Kt+ii}_getEventX(E){return(0,C.kH)(E)?this._getTouchEventX(E):E.clientX+this._getDocumentScrollLeft()}_getEventY(E){return(0,C.kH)(E)?this._getTouchEventY(E):E.clientY+this._getDocumentScrollTop()}_getTouchEventX(E){var e=null;return E.changedTouches.length>0?e=E.changedTouches:E.targetTouches.length>0&&(e=E.targetTouches),e?e[0].pageX:0}_getTouchEventY(E){var e=null;return E.changedTouches.length>0?e=E.changedTouches:E.targetTouches.length>0&&(e=E.targetTouches),e?e[0].pageY:0}_getDocumentScrollTop(){var E=ge.A.getDocument();return E.documentElement.scrollTop||E.body.scrollTop}_getDocumentScrollLeft(){var E=ge.A.getDocument();return E.documentElement.scrollLeft||E.body.scrollLeft}_updateReadOnlyState(){var E=this.option("readOnly");this._selectButton.option("disabled",E),this._files.forEach(e=>{var ne;return null===(ne=e.cancelButton)||void 0===ne?void 0:ne.option("disabled",E)}),this._updateInputLabelText(),this._attachDragEventHandlers(this._$inputWrapper)}_updateHoverState(){var E,e,ne=this.option("hoverStateEnabled");null===(E=this._selectButton)||void 0===E||E.option("hoverStateEnabled",ne),null===(e=this._uploadButton)||void 0===e||e.option("hoverStateEnabled",ne),this._files.forEach(je=>{var at,bt;null===(at=je.uploadButton)||void 0===at||at.option("hoverStateEnabled",ne),null===(bt=je.cancelButton)||void 0===bt||bt.option("hoverStateEnabled",ne)})}_optionChanged(E){var{name:e,value:ne,previousValue:je}=E;switch(e){case"height":case"width":this._updateFileNameMaxWidth(),super._optionChanged(E);break;case"value":!ne.length&&this._$fileInput.val(""),this._preventRecreatingFiles||(this._createFiles(),this._renderFiles()),this._recalculateProgress(),super._optionChanged(E);break;case"name":case"hint":this._initFileInput(),super._optionChanged(E);break;case"accept":this._initFileInput();break;case"multiple":this._initFileInput(),E.value||this.clear();break;case"readOnly":this._updateReadOnlyState(),super._optionChanged(E);break;case"disabled":this._updateInputLabelText(),super._optionChanged(E);break;case"selectButtonText":this._selectButton.option("text",ne);break;case"uploadButtonText":this._uploadButton&&this._uploadButton.option("text",ne);break;case"_uploadButtonType":this._uploadButton&&this._uploadButton.option("type",ne);break;case"_buttonStylingMode":this._files.forEach(at=>{var bt,Vt;null===(bt=at.uploadButton)||void 0===bt||bt.option("stylingMode",ne),null===(Vt=at.cancelButton)||void 0===Vt||Vt.option("stylingMode",ne)});break;case"dialogTrigger":this._detachSelectFileDialogHandler(je),this._attachSelectFileDialogHandler(ne);break;case"dropZone":this._detachDragEventHandlers(je),this._attachDragEventHandlers(ne);break;case"maxFileSize":case"minFileSize":case"allowedFileExtensions":case"invalidFileExtensionMessage":case"invalidMaxFileSizeMessage":case"invalidMinFileSizeMessage":case"readyToUploadMessage":case"uploadedMessage":case"uploadFailedMessage":case"uploadAbortedMessage":case"nativeDropSupported":this._invalidate();break;case"labelText":this._updateInputLabelText();break;case"showFileList":this._preventRecreatingFiles||this._renderFiles();break;case"uploadFile":case"uploadChunk":case"chunkSize":this._setUploadStrategy();break;case"abortUpload":case"uploadUrl":case"progress":case"uploadMethod":case"uploadHeaders":case"uploadCustomData":case"extendSelection":break;case"hoverStateEnabled":this._updateHoverState(),super._optionChanged(E);break;case"allowCanceling":case"uploadMode":this.clear(),this._invalidate();break;case"onBeforeSend":this._createBeforeSendAction();break;case"onUploadStarted":this._createUploadStartedAction();break;case"onUploaded":this._createUploadedAction();break;case"onFilesUploaded":this._createFilesUploadedAction();break;case"onProgress":this._createProgressAction();break;case"onUploadError":this._createUploadErrorAction();break;case"onUploadAborted":this._createUploadAbortedAction();break;case"onDropZoneEnter":this._createDropZoneEnterAction();break;case"onDropZoneLeave":this._createDropZoneLeaveAction();break;case"useNativeInputClick":this._renderInput();break;case"useDragOver":this._attachDragEventHandlers(this._$inputWrapper);break;case"inputAttr":this._applyInputAttributes(this.option(e));break;default:super._optionChanged(E)}}_resetInputValue(E){"useForm"===this.option("uploadMode")&&!E||(this._doPreventInputChange=!0,this._$fileInput.val(""),this._doPreventInputChange=!1)}clear(){this.option("value",[])}}class ht{constructor(E,e){this.file=E,this.chunkSize=e,this.index=0}read(){if(!this.file)return null;var E=this.createBlobResult(this.file,this.index,this.chunkSize);return E.isCompleted&&(this.file=null),this.index++,E}createBlobResult(E,e,ne){var je=e*ne;return{blob:this.sliceFile(E,je,ne),index:e,isCompleted:je+ne>=E.size}}sliceFile(E,e,ne){return E.slice?E.slice(e,e+ne):E.webkitSlice?E.webkitSlice(e,e+ne):null}}class St{constructor(E){this.fileUploader=E}upload(E){E.isInitialized&&E.isAborted&&this.fileUploader._resetFileState(E),E.isValid()&&!E.uploadStarted&&(this._prepareFileBeforeUpload(E),this._uploadCore(E))}abortUpload(E){if(!(E._isError||E._isLoaded||E.isAborted)&&E.uploadStarted&&(E.isAborted=!0,E.request&&E.request.abort(),this._isCustomCallback("abortUpload"))){var e=this.fileUploader.option("abortUpload"),ne=this._createUploadArgument(E),je=null;try{var at=e(E.value,ne);je=(0,Ee.Sx)(at)}catch(bt){je=(new Ee.cY).reject(bt).promise()}je.done(()=>E.onAbort.fire()).fail(bt=>this._handleFileError(E,bt))}}_beforeSend(E,e){var ne=this._createUploadArgument(e);this.fileUploader._beforeSendAction({request:E,file:e.value,uploadInfo:ne}),e.request=E}_createUploadArgument(E){}_uploadCore(E){}_isCustomCallback(E){var e=this.fileUploader.option(E);return e&&(0,q.Tn)(e)}_handleProgress(E,e){E._isError||(E._isProgressStarted=!0,this._handleProgressCore(E,e))}_handleProgressCore(E,e){}_handleFileError(E,e){E._isError=!0,E.onError.fire(e)}_prepareFileBeforeUpload(E){var e;E.$file&&(null===(e=E.progressBar)||void 0===e||e.dispose(),this.fileUploader._createFileProgressBar(E)),E.isInitialized||(E.onLoadStart.add(this._onUploadStarted.bind(this,E)),E.onLoad.add(this._onLoadedHandler.bind(this,E)),E.onError.add(this._onErrorHandler.bind(this,E)),E.onAbort.add(this._onAbortHandler.bind(this,E)),E.onProgress.add(this._onProgressHandler.bind(this,E)),E.isInitialized=!0)}_shouldHandleError(E,e){return(this._isStatusError(e.status)||!E._isProgressStarted)&&!E.isAborted}_isStatusError(E){return 400<=E&&E<500||500<=E&&E<600}_onUploadStarted(E,e){E.uploadStarted=!0,this.fileUploader._uploadStartedAction({file:E.value,event:e,request:E.request})}_onAbortHandler(E,e){var ne={file:E.value,event:e,request:E.request,message:this.fileUploader._getUploadAbortedStatusMessage()};this.fileUploader._uploadAbortedAction(ne),this.fileUploader._setStatusMessage(E,ne.message),this.fileUploader._handleAllFilesUploaded()}_onErrorHandler(E,e){var ne={file:E.value,event:void 0,request:E.request,error:e,message:this.fileUploader.option("uploadFailedMessage")};this.fileUploader._uploadErrorAction(ne),this.fileUploader._setStatusMessage(E,ne.message),this.fileUploader._handleAllFilesUploaded()}_onLoadedHandler(E,e){var ne={file:E.value,event:e,request:E.request,message:this.fileUploader.option("uploadedMessage")};E._isLoaded=!0,this.fileUploader._uploadedAction(ne),this.fileUploader._setStatusMessage(E,ne.message),this.fileUploader._handleAllFilesUploaded()}_onProgressHandler(E,e){if(E){var ne=this.fileUploader._getTotalFilesSize(),je=this.fileUploader._getTotalLoadedFilesSize(),at=Math.min(e.loaded,E.value.size),bt=at-E.loadedSize;E.loadedSize=at,this.fileUploader._updateTotalProgress(ne,je+bt),this.fileUploader._updateProgressBar(E,this._getLoadedData(at,e.total,bt,e))}}_getLoadedData(E,e,ne,je){return{loaded:E,total:e,currentSegmentSize:ne}}_extendFormData(E){var e=this.fileUploader.option("uploadCustomData");for(var ne in e)Object.prototype.hasOwnProperty.call(e,ne)&&(0,q.O9)(e[ne])&&E.append(ne,e[ne])}}class xt extends St{constructor(E){super(E),this.chunkSize=this.fileUploader.option("chunkSize")}_uploadCore(E){var e=E.value,ne={name:e.name,loadedBytes:0,type:e.type,blobReader:new ht(e,this.chunkSize),guid:new Ce.A,fileSize:e.size,count:this._getFileChunksCount(e),customData:{}};E.chunksData=ne,this._sendChunk(E,ne)}_getFileChunksCount(E){return 0===E.size?1:Math.ceil(E.size/this.chunkSize)}_sendChunk(E,e){var ne=e.blobReader.read();e.currentChunk=ne,ne&&this._sendChunkCore(E,e,ne).done(()=>{E.isAborted||(e.loadedBytes+=ne.blob.size,E.onProgress.fire({loaded:e.loadedBytes,total:E.value.size}),ne.isCompleted&&E.onLoad.fire(),setTimeout(()=>this._sendChunk(E,e)))}).fail(je=>{this._shouldHandleError(E,je)&&this._handleFileError(E,je)})}_sendChunkCore(E,e,ne){}_tryRaiseStartLoad(E){E.isStartLoad||(E.isStartLoad=!0,E.onLoadStart.fire())}_getEvent(E){return null}_createUploadArgument(E){return this._createChunksInfo(E.chunksData)}_createChunksInfo(E){return{bytesUploaded:E.loadedBytes,chunkCount:E.count,customData:E.customData,chunkBlob:E.currentChunk.blob,chunkIndex:E.currentChunk.index}}}class Tt extends xt{_sendChunkCore(E,e,ne){return re.A.sendRequest({url:this.fileUploader.option("uploadUrl"),method:this.fileUploader.option("uploadMethod"),headers:this.fileUploader.option("uploadHeaders"),beforeSend:je=>this._beforeSend(je,E),upload:{onprogress:je=>this._handleProgress(E,je),onloadstart:()=>this._tryRaiseStartLoad(E),onabort:()=>E.onAbort.fire()},data:this._createFormData({fileName:e.name,blobName:this.fileUploader.option("name"),blob:ne.blob,index:ne.index,count:e.count,type:e.type,guid:e.guid,size:e.fileSize})})}_createFormData(E){var e=new He.FormData;return e.append(E.blobName,E.blob),e.append("chunkMetadata",JSON.stringify({FileName:E.fileName,Index:E.index,TotalCount:E.count,FileSize:E.size,FileType:E.type,FileGuid:E.guid})),this._extendFormData(e),e}}class Pt extends xt{_sendChunkCore(E,e){this._tryRaiseStartLoad(E);var ne=this._createChunksInfo(e),je=this.fileUploader.option("uploadChunk");try{var at=je(E.value,ne);return(0,Ee.Sx)(at)}catch(bt){return(new Ee.cY).reject(bt).promise()}}_shouldHandleError(E,e){return!0}}class Ht extends St{_uploadCore(E){E.loadedSize=0,this._uploadFile(E).done(()=>{E.isAborted||E.onLoad.fire()}).fail(e=>{this._shouldHandleError(E,e)&&this._handleFileError(E,e)})}_uploadFile(E){}_handleProgressCore(E,e){E.onProgress.fire(e)}_getLoadedData(E,e,ne,je){var at=super._getLoadedData(E,e,ne,je);return at.event=je,at}}class nt extends Ht{_uploadFile(E){return re.A.sendRequest({url:this.fileUploader.option("uploadUrl"),method:this.fileUploader.option("uploadMethod"),headers:this.fileUploader.option("uploadHeaders"),beforeSend:e=>this._beforeSend(e,E),upload:{onprogress:e=>this._handleProgress(E,e),onloadstart:()=>E.onLoadStart.fire(),onabort:()=>E.onAbort.fire()},data:this._createFormData(this.fileUploader.option("name"),E.value)})}_createFormData(E,e){var ne=new He.FormData;return ne.append(E,e,e.name),this._extendFormData(ne),ne}}class M extends Ht{_uploadFile(E){E.onLoadStart.fire();var e=this.fileUploader.option("uploadFile");try{var ne=e(E.value,je=>{this._handleProgress(E,{loaded:je,total:E.value.size})});return(0,Ee.Sx)(ne)}catch(je){return(new Ee.cY).reject(je).promise()}}_shouldHandleError(E,e){return!0}}(0,oe.A)("dxFileUploader",tt);const ce=tt;var Be=i(9417),Se=i(7283);const Ye={provide:Be.kq,useExisting:(0,se.Rfq)(()=>Qe),multi:!0};let Qe=(()=>{class Re extends Se.ic{constructor(e,ne,je,at,bt,Vt,Kt,Xt){super(e,ne,je,at,Kt,Xt),this._watcherHelper=at,this._idh=bt,this.touched=ii=>{},this._createEventEmitters([{subscribe:"beforeSend",emit:"onBeforeSend"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"dropZoneEnter",emit:"onDropZoneEnter"},{subscribe:"dropZoneLeave",emit:"onDropZoneLeave"},{subscribe:"filesUploaded",emit:"onFilesUploaded"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"progress",emit:"onProgress"},{subscribe:"uploadAborted",emit:"onUploadAborted"},{subscribe:"uploaded",emit:"onUploaded"},{subscribe:"uploadError",emit:"onUploadError"},{subscribe:"uploadStarted",emit:"onUploadStarted"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"abortUploadChange"},{emit:"acceptChange"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"allowCancelingChange"},{emit:"allowedFileExtensionsChange"},{emit:"chunkSizeChange"},{emit:"dialogTriggerChange"},{emit:"disabledChange"},{emit:"dropZoneChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"invalidFileExtensionMessageChange"},{emit:"invalidMaxFileSizeMessageChange"},{emit:"invalidMinFileSizeMessageChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"labelTextChange"},{emit:"maxFileSizeChange"},{emit:"minFileSizeChange"},{emit:"multipleChange"},{emit:"nameChange"},{emit:"progressChange"},{emit:"readOnlyChange"},{emit:"readyToUploadMessageChange"},{emit:"rtlEnabledChange"},{emit:"selectButtonTextChange"},{emit:"showFileListChange"},{emit:"tabIndexChange"},{emit:"uploadAbortedMessageChange"},{emit:"uploadButtonTextChange"},{emit:"uploadChunkChange"},{emit:"uploadCustomDataChange"},{emit:"uploadedMessageChange"},{emit:"uploadFailedMessageChange"},{emit:"uploadFileChange"},{emit:"uploadHeadersChange"},{emit:"uploadMethodChange"},{emit:"uploadModeChange"},{emit:"uploadUrlChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),Vt.setHost(this)}get abortUpload(){return this._getOption("abortUpload")}set abortUpload(e){this._setOption("abortUpload",e)}get accept(){return this._getOption("accept")}set accept(e){this._setOption("accept",e)}get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get allowCanceling(){return this._getOption("allowCanceling")}set allowCanceling(e){this._setOption("allowCanceling",e)}get allowedFileExtensions(){return this._getOption("allowedFileExtensions")}set allowedFileExtensions(e){this._setOption("allowedFileExtensions",e)}get chunkSize(){return this._getOption("chunkSize")}set chunkSize(e){this._setOption("chunkSize",e)}get dialogTrigger(){return this._getOption("dialogTrigger")}set dialogTrigger(e){this._setOption("dialogTrigger",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get dropZone(){return this._getOption("dropZone")}set dropZone(e){this._setOption("dropZone",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(e){this._setOption("inputAttr",e)}get invalidFileExtensionMessage(){return this._getOption("invalidFileExtensionMessage")}set invalidFileExtensionMessage(e){this._setOption("invalidFileExtensionMessage",e)}get invalidMaxFileSizeMessage(){return this._getOption("invalidMaxFileSizeMessage")}set invalidMaxFileSizeMessage(e){this._setOption("invalidMaxFileSizeMessage",e)}get invalidMinFileSizeMessage(){return this._getOption("invalidMinFileSizeMessage")}set invalidMinFileSizeMessage(e){this._setOption("invalidMinFileSizeMessage",e)}get isDirty(){return this._getOption("isDirty")}set isDirty(e){this._setOption("isDirty",e)}get isValid(){return this._getOption("isValid")}set isValid(e){this._setOption("isValid",e)}get labelText(){return this._getOption("labelText")}set labelText(e){this._setOption("labelText",e)}get maxFileSize(){return this._getOption("maxFileSize")}set maxFileSize(e){this._setOption("maxFileSize",e)}get minFileSize(){return this._getOption("minFileSize")}set minFileSize(e){this._setOption("minFileSize",e)}get multiple(){return this._getOption("multiple")}set multiple(e){this._setOption("multiple",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get progress(){return this._getOption("progress")}set progress(e){this._setOption("progress",e)}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOption("readOnly",e)}get readyToUploadMessage(){return this._getOption("readyToUploadMessage")}set readyToUploadMessage(e){this._setOption("readyToUploadMessage",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get selectButtonText(){return this._getOption("selectButtonText")}set selectButtonText(e){this._setOption("selectButtonText",e)}get showFileList(){return this._getOption("showFileList")}set showFileList(e){this._setOption("showFileList",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get uploadAbortedMessage(){return this._getOption("uploadAbortedMessage")}set uploadAbortedMessage(e){this._setOption("uploadAbortedMessage",e)}get uploadButtonText(){return this._getOption("uploadButtonText")}set uploadButtonText(e){this._setOption("uploadButtonText",e)}get uploadChunk(){return this._getOption("uploadChunk")}set uploadChunk(e){this._setOption("uploadChunk",e)}get uploadCustomData(){return this._getOption("uploadCustomData")}set uploadCustomData(e){this._setOption("uploadCustomData",e)}get uploadedMessage(){return this._getOption("uploadedMessage")}set uploadedMessage(e){this._setOption("uploadedMessage",e)}get uploadFailedMessage(){return this._getOption("uploadFailedMessage")}set uploadFailedMessage(e){this._setOption("uploadFailedMessage",e)}get uploadFile(){return this._getOption("uploadFile")}set uploadFile(e){this._setOption("uploadFile",e)}get uploadHeaders(){return this._getOption("uploadHeaders")}set uploadHeaders(e){this._setOption("uploadHeaders",e)}get uploadMethod(){return this._getOption("uploadMethod")}set uploadMethod(e){this._setOption("uploadMethod",e)}get uploadMode(){return this._getOption("uploadMode")}set uploadMode(e){this._setOption("uploadMode",e)}get uploadUrl(){return this._getOption("uploadUrl")}set uploadUrl(e){this._setOption("uploadUrl",e)}get validationError(){return this._getOption("validationError")}set validationError(e){this._setOption("validationError",e)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(e){this._setOption("validationErrors",e)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(e){this._setOption("validationStatus",e)}get value(){return this._getOption("value")}set value(e){this._setOption("value",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}change(e){}_createInstance(e,ne){return new ce(e,ne)}writeValue(e){this.eventHelper.lockedValueChangeEvent=!0,this.value=e,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(e){this.disabled=e}registerOnChange(e){this.change=e}registerOnTouched(e){this.touched=e}_createWidget(e){super._createWidget(e),this.instance.on("focusOut",ne=>{this.eventHelper.fireNgEvent("onBlur",[ne])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(e){super.ngOnChanges(e),this.setupChanges("allowedFileExtensions",e),this.setupChanges("validationErrors",e),this.setupChanges("value",e)}setupChanges(e,ne){e in this._optionsToUpdate||this._idh.setup(e,ne)}ngDoCheck(){this._idh.doCheck("allowedFileExtensions"),this._idh.doCheck("validationErrors"),this._idh.doCheck("value"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(e,ne){let je=this._idh.setupSingle(e,ne),at=null!==this._idh.getChanges(e,ne);(je||at)&&super._setOption(e,ne)}}return Re.\u0275fac=function(e){return new(e||Re)(se.rXU(se.aKT),se.rXU(se.SKi),se.rXU(Se.zF),se.rXU(Se.jS),se.rXU(Se.$M),se.rXU(Se.fH),se.rXU(k.pJ),se.rXU(se.Agw))},Re.\u0275cmp=se.VBU({type:Re,selectors:[["dx-file-uploader"]],hostBindings:function(e,ne){1&e&&se.bIt("valueChange",function(at){return ne.change(at)})("onBlur",function(at){return ne.touched(at)})},inputs:{abortUpload:"abortUpload",accept:"accept",accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",allowCanceling:"allowCanceling",allowedFileExtensions:"allowedFileExtensions",chunkSize:"chunkSize",dialogTrigger:"dialogTrigger",disabled:"disabled",dropZone:"dropZone",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",invalidFileExtensionMessage:"invalidFileExtensionMessage",invalidMaxFileSizeMessage:"invalidMaxFileSizeMessage",invalidMinFileSizeMessage:"invalidMinFileSizeMessage",isDirty:"isDirty",isValid:"isValid",labelText:"labelText",maxFileSize:"maxFileSize",minFileSize:"minFileSize",multiple:"multiple",name:"name",progress:"progress",readOnly:"readOnly",readyToUploadMessage:"readyToUploadMessage",rtlEnabled:"rtlEnabled",selectButtonText:"selectButtonText",showFileList:"showFileList",tabIndex:"tabIndex",uploadAbortedMessage:"uploadAbortedMessage",uploadButtonText:"uploadButtonText",uploadChunk:"uploadChunk",uploadCustomData:"uploadCustomData",uploadedMessage:"uploadedMessage",uploadFailedMessage:"uploadFailedMessage",uploadFile:"uploadFile",uploadHeaders:"uploadHeaders",uploadMethod:"uploadMethod",uploadMode:"uploadMode",uploadUrl:"uploadUrl",validationError:"validationError",validationErrors:"validationErrors",validationStatus:"validationStatus",value:"value",visible:"visible",width:"width"},outputs:{onBeforeSend:"onBeforeSend",onContentReady:"onContentReady",onDisposing:"onDisposing",onDropZoneEnter:"onDropZoneEnter",onDropZoneLeave:"onDropZoneLeave",onFilesUploaded:"onFilesUploaded",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onProgress:"onProgress",onUploadAborted:"onUploadAborted",onUploaded:"onUploaded",onUploadError:"onUploadError",onUploadStarted:"onUploadStarted",onValueChanged:"onValueChanged",abortUploadChange:"abortUploadChange",acceptChange:"acceptChange",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",allowCancelingChange:"allowCancelingChange",allowedFileExtensionsChange:"allowedFileExtensionsChange",chunkSizeChange:"chunkSizeChange",dialogTriggerChange:"dialogTriggerChange",disabledChange:"disabledChange",dropZoneChange:"dropZoneChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",invalidFileExtensionMessageChange:"invalidFileExtensionMessageChange",invalidMaxFileSizeMessageChange:"invalidMaxFileSizeMessageChange",invalidMinFileSizeMessageChange:"invalidMinFileSizeMessageChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",labelTextChange:"labelTextChange",maxFileSizeChange:"maxFileSizeChange",minFileSizeChange:"minFileSizeChange",multipleChange:"multipleChange",nameChange:"nameChange",progressChange:"progressChange",readOnlyChange:"readOnlyChange",readyToUploadMessageChange:"readyToUploadMessageChange",rtlEnabledChange:"rtlEnabledChange",selectButtonTextChange:"selectButtonTextChange",showFileListChange:"showFileListChange",tabIndexChange:"tabIndexChange",uploadAbortedMessageChange:"uploadAbortedMessageChange",uploadButtonTextChange:"uploadButtonTextChange",uploadChunkChange:"uploadChunkChange",uploadCustomDataChange:"uploadCustomDataChange",uploadedMessageChange:"uploadedMessageChange",uploadFailedMessageChange:"uploadFailedMessageChange",uploadFileChange:"uploadFileChange",uploadHeadersChange:"uploadHeadersChange",uploadMethodChange:"uploadMethodChange",uploadModeChange:"uploadModeChange",uploadUrlChange:"uploadUrlChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[se.Jv_([Se.zF,Se.jS,Ye,Se.fH,Se.$M]),se.Vt3,se.OA$],decls:0,vars:0,template:function(e,ne){},encapsulation:2}),Re})(),pt=(()=>{class Re{}return Re.\u0275fac=function(e){return new(e||Re)},Re.\u0275mod=se.$C({type:Re}),Re.\u0275inj=se.G2t({imports:[[Se.p_,Se.xZ],Se.xZ]}),Re})();var At=i(1668),_t=i(8709),Fe=i(1837);const Je={provide:Be.kq,useExisting:(0,se.Rfq)(()=>vt),multi:!0};let vt=(()=>{class Re extends Se.ic{constructor(e,ne,je,at,bt,Vt,Kt,Xt){super(e,ne,je,at,Kt,Xt),this._watcherHelper=at,this._idh=bt,this.touched=ii=>{},this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"copy",emit:"onCopy"},{subscribe:"cut",emit:"onCut"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"paste",emit:"onPaste"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"buttonsChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"formatChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"invalidValueMessageChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maxChange"},{emit:"minChange"},{emit:"modeChange"},{emit:"nameChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"showClearButtonChange"},{emit:"showSpinButtonsChange"},{emit:"stepChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"useLargeSpinButtonsChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),Vt.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get buttons(){return this._getOption("buttons")}set buttons(e){this._setOption("buttons",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get format(){return this._getOption("format")}set format(e){this._setOption("format",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(e){this._setOption("inputAttr",e)}get invalidValueMessage(){return this._getOption("invalidValueMessage")}set invalidValueMessage(e){this._setOption("invalidValueMessage",e)}get isDirty(){return this._getOption("isDirty")}set isDirty(e){this._setOption("isDirty",e)}get isValid(){return this._getOption("isValid")}set isValid(e){this._setOption("isValid",e)}get label(){return this._getOption("label")}set label(e){this._setOption("label",e)}get labelMode(){return this._getOption("labelMode")}set labelMode(e){this._setOption("labelMode",e)}get max(){return this._getOption("max")}set max(e){this._setOption("max",e)}get min(){return this._getOption("min")}set min(e){this._setOption("min",e)}get mode(){return this._getOption("mode")}set mode(e){this._setOption("mode",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get placeholder(){return this._getOption("placeholder")}set placeholder(e){this._setOption("placeholder",e)}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOption("readOnly",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(e){this._setOption("showClearButton",e)}get showSpinButtons(){return this._getOption("showSpinButtons")}set showSpinButtons(e){this._setOption("showSpinButtons",e)}get step(){return this._getOption("step")}set step(e){this._setOption("step",e)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(e){this._setOption("stylingMode",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get useLargeSpinButtons(){return this._getOption("useLargeSpinButtons")}set useLargeSpinButtons(e){this._setOption("useLargeSpinButtons",e)}get validationError(){return this._getOption("validationError")}set validationError(e){this._setOption("validationError",e)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(e){this._setOption("validationErrors",e)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(e){this._setOption("validationMessageMode",e)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(e){this._setOption("validationMessagePosition",e)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(e){this._setOption("validationStatus",e)}get value(){return this._getOption("value")}set value(e){this._setOption("value",e)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(e){this._setOption("valueChangeEvent",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}change(e){}get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(e){this.setChildren("buttons",e)}_createInstance(e,ne){return new _t.A(e,ne)}writeValue(e){this.eventHelper.lockedValueChangeEvent=!0,this.value=e,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(e){this.disabled=e}registerOnChange(e){this.change=e}registerOnTouched(e){this.touched=e}_createWidget(e){super._createWidget(e),this.instance.on("focusOut",ne=>{this.eventHelper.fireNgEvent("onBlur",[ne])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(e){super.ngOnChanges(e),this.setupChanges("buttons",e),this.setupChanges("validationErrors",e)}setupChanges(e,ne){e in this._optionsToUpdate||this._idh.setup(e,ne)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(e,ne){let je=this._idh.setupSingle(e,ne),at=null!==this._idh.getChanges(e,ne);(je||at)&&super._setOption(e,ne)}}return Re.\u0275fac=function(e){return new(e||Re)(se.rXU(se.aKT),se.rXU(se.SKi),se.rXU(Se.zF),se.rXU(Se.jS),se.rXU(Se.$M),se.rXU(Se.fH),se.rXU(k.pJ),se.rXU(se.Agw))},Re.\u0275cmp=se.VBU({type:Re,selectors:[["dx-number-box"]],contentQueries:function(e,ne,je){if(1&e&&se.wni(je,Fe.BrI,4),2&e){let at;se.mGM(at=se.lsd())&&(ne.buttonsChildren=at)}},hostBindings:function(e,ne){1&e&&se.bIt("valueChange",function(at){return ne.change(at)})("onBlur",function(at){return ne.touched(at)})},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",buttons:"buttons",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",format:"format",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",invalidValueMessage:"invalidValueMessage",isDirty:"isDirty",isValid:"isValid",label:"label",labelMode:"labelMode",max:"max",min:"min",mode:"mode",name:"name",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",showClearButton:"showClearButton",showSpinButtons:"showSpinButtons",step:"step",stylingMode:"stylingMode",tabIndex:"tabIndex",text:"text",useLargeSpinButtons:"useLargeSpinButtons",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",visible:"visible",width:"width"},outputs:{onChange:"onChange",onContentReady:"onContentReady",onCopy:"onCopy",onCut:"onCut",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onOptionChanged:"onOptionChanged",onPaste:"onPaste",onValueChanged:"onValueChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",buttonsChange:"buttonsChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",formatChange:"formatChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",invalidValueMessageChange:"invalidValueMessageChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maxChange:"maxChange",minChange:"minChange",modeChange:"modeChange",nameChange:"nameChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",showClearButtonChange:"showClearButtonChange",showSpinButtonsChange:"showSpinButtonsChange",stepChange:"stepChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",textChange:"textChange",useLargeSpinButtonsChange:"useLargeSpinButtonsChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[se.Jv_([Se.zF,Se.jS,Je,Se.fH,Se.$M]),se.Vt3,se.OA$],decls:0,vars:0,template:function(e,ne){},encapsulation:2}),Re})(),Ot=(()=>{class Re{}return Re.\u0275fac=function(e){return new(e||Re)},Re.\u0275mod=se.$C({type:Re}),Re.\u0275inj=se.G2t({imports:[[Fe.GIV,Fe.u4t,Fe.Pxf,Se.p_,Se.xZ],Fe.GIV,Fe.u4t,Fe.Pxf,Se.xZ]}),Re})();var it=i(5042),De=i(4159),O=i(6961),Q=i(5281),ie=i(2934).A.inherit({_getDefaultOptions:function(){return(0,Y.X)(this.callBase(),{spellcheck:!0,minHeight:void 0,maxHeight:void 0,autoResizeEnabled:!1})},_initMarkup:function(){this.$element().addClass("dx-textarea"),this.callBase(),this.setAria("multiline","true")},_renderContentImpl:function(){this._updateInputHeight(),this.callBase()},_renderInput:function(){this.callBase(),this._renderScrollHandler()},_createInput:function(){var Re=(0,he.A)("<textarea>");return this._applyInputAttributes(Re,this.option("inputAttr")),this._updateInputAutoResizeAppearance(Re),Re},_setInputMinHeight:it.lQ,_renderScrollHandler:function(){this._eventY=0;var Re=this._input(),E=(0,Q.N)(Re,!0);ae.A.on(Re,(0,C.b4)(O.A.init,this.NAME),E,it.lQ),ae.A.on(Re,(0,C.b4)(De.A.down,this.NAME),this._pointerDownHandler.bind(this)),ae.A.on(Re,(0,C.b4)(De.A.move,this.NAME),this._pointerMoveHandler.bind(this))},_pointerDownHandler:function(Re){this._eventY=(0,C.rw)(Re).y},_pointerMoveHandler:function(Re){var E=(0,C.rw)(Re).y,e=this._eventY-E;(0,Q.f)(this._input(),e)&&(Re.isScrollingEvent=!0,Re.stopPropagation()),this._eventY=E},_renderDimensions:function(){var Re=this.$element(),E=Re.get(0),e=this._getOptionValue("width",E),ne=this._getOptionValue("height",E),je=this.option("minHeight"),at=this.option("maxHeight");Re.css({minHeight:void 0!==je?je:"",maxHeight:void 0!==at?at:"",width:e,height:ne})},_resetDimensions:function(){this.$element().css({height:"",minHeight:"",maxHeight:""})},_renderEvents:function(){this.option("autoResizeEnabled")&&ae.A.on(this._input(),(0,C.b4)("input paste",this.NAME),this._updateInputHeight.bind(this)),this.callBase()},_refreshEvents:function(){ae.A.off(this._input(),(0,C.b4)("input paste",this.NAME)),this.callBase()},_getHeightDifference(Re){return(0,_e.pD)(this._$element.get(0),!1)+(0,_e.pD)(this._$textEditorContainer.get(0),!1)+(0,_e.pD)(this._$textEditorInputContainer.get(0),!1)+(0,_e.GU)("height",(0,le.zk)().getComputedStyle(Re.get(0))).margin},_updateInputHeight:function(){if((0,le.Vd)()){var Re=this._input(),E=this.option("height"),e=void 0===E&&this.option("autoResizeEnabled");if(!(e||void 0===E&&this.option("minHeight")))return void Re.css("height","");this._resetDimensions(),this._$element.css("height",(0,_e.P$)(this._$element)),Re.css("height",0);var je=this._getHeightDifference(Re);this._renderDimensions();var at=this._getBoundaryHeight("minHeight"),bt=this._getBoundaryHeight("maxHeight"),Vt=Re[0].scrollHeight;if(void 0!==at&&(Vt=Math.max(Vt,at-je)),void 0!==bt){var Kt=bt-je,Xt=Vt>Kt;Vt=Math.min(Vt,Kt),this._updateInputAutoResizeAppearance(Re,!Xt)}Re.css("height",Vt),e&&this._$element.css("height","auto")}},_getBoundaryHeight:function(Re){var E=this.option(Re);if((0,q.O9)(E))return"number"==typeof E?E:(0,_e.hP)(E,this.$element().get(0).parentElement,this._$element.get(0))},_renderInputType:it.lQ,_visibilityChanged:function(Re){Re&&this._updateInputHeight()},_updateInputAutoResizeAppearance:function(Re,E){if(Re){var e=(0,it.YD)(E,this.option("autoResizeEnabled"));Re.toggleClass("dx-texteditor-input-auto-resize",e)}},_dimensionChanged:function(){this.option("visible")&&this._updateInputHeight()},_optionChanged:function(Re){switch(Re.name){case"autoResizeEnabled":this._updateInputAutoResizeAppearance(this._input(),Re.value),this._refreshEvents(),this._updateInputHeight();break;case"value":case"height":this.callBase(Re),this._updateInputHeight();break;case"minHeight":case"maxHeight":this._renderDimensions(),this._updateInputHeight();break;case"visible":this.callBase(Re),Re.value&&this._updateInputHeight();break;default:this.callBase(Re)}}});(0,oe.A)("dxTextArea",ie);const me=ie,ke={provide:Be.kq,useExisting:(0,se.Rfq)(()=>Ze),multi:!0};let Ze=(()=>{class Re extends Se.ic{constructor(e,ne,je,at,bt,Vt,Kt,Xt){super(e,ne,je,at,Kt,Xt),this._watcherHelper=at,this._idh=bt,this.touched=ii=>{},this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"copy",emit:"onCopy"},{subscribe:"cut",emit:"onCut"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"paste",emit:"onPaste"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"autoResizeEnabledChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maxHeightChange"},{emit:"maxLengthChange"},{emit:"minHeightChange"},{emit:"nameChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"spellcheckChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),Vt.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get autoResizeEnabled(){return this._getOption("autoResizeEnabled")}set autoResizeEnabled(e){this._setOption("autoResizeEnabled",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(e){this._setOption("inputAttr",e)}get isDirty(){return this._getOption("isDirty")}set isDirty(e){this._setOption("isDirty",e)}get isValid(){return this._getOption("isValid")}set isValid(e){this._setOption("isValid",e)}get label(){return this._getOption("label")}set label(e){this._setOption("label",e)}get labelMode(){return this._getOption("labelMode")}set labelMode(e){this._setOption("labelMode",e)}get maxHeight(){return this._getOption("maxHeight")}set maxHeight(e){this._setOption("maxHeight",e)}get maxLength(){return this._getOption("maxLength")}set maxLength(e){this._setOption("maxLength",e)}get minHeight(){return this._getOption("minHeight")}set minHeight(e){this._setOption("minHeight",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get placeholder(){return this._getOption("placeholder")}set placeholder(e){this._setOption("placeholder",e)}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOption("readOnly",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get spellcheck(){return this._getOption("spellcheck")}set spellcheck(e){this._setOption("spellcheck",e)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(e){this._setOption("stylingMode",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get validationError(){return this._getOption("validationError")}set validationError(e){this._setOption("validationError",e)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(e){this._setOption("validationErrors",e)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(e){this._setOption("validationMessageMode",e)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(e){this._setOption("validationMessagePosition",e)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(e){this._setOption("validationStatus",e)}get value(){return this._getOption("value")}set value(e){this._setOption("value",e)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(e){this._setOption("valueChangeEvent",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}change(e){}_createInstance(e,ne){return new me(e,ne)}writeValue(e){this.eventHelper.lockedValueChangeEvent=!0,this.value=e,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(e){this.disabled=e}registerOnChange(e){this.change=e}registerOnTouched(e){this.touched=e}_createWidget(e){super._createWidget(e),this.instance.on("focusOut",ne=>{this.eventHelper.fireNgEvent("onBlur",[ne])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(e){super.ngOnChanges(e),this.setupChanges("validationErrors",e)}setupChanges(e,ne){e in this._optionsToUpdate||this._idh.setup(e,ne)}ngDoCheck(){this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(e,ne){let je=this._idh.setupSingle(e,ne),at=null!==this._idh.getChanges(e,ne);(je||at)&&super._setOption(e,ne)}}return Re.\u0275fac=function(e){return new(e||Re)(se.rXU(se.aKT),se.rXU(se.SKi),se.rXU(Se.zF),se.rXU(Se.jS),se.rXU(Se.$M),se.rXU(Se.fH),se.rXU(k.pJ),se.rXU(se.Agw))},Re.\u0275cmp=se.VBU({type:Re,selectors:[["dx-text-area"]],hostBindings:function(e,ne){1&e&&se.bIt("valueChange",function(at){return ne.change(at)})("onBlur",function(at){return ne.touched(at)})},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",autoResizeEnabled:"autoResizeEnabled",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",isDirty:"isDirty",isValid:"isValid",label:"label",labelMode:"labelMode",maxHeight:"maxHeight",maxLength:"maxLength",minHeight:"minHeight",name:"name",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",spellcheck:"spellcheck",stylingMode:"stylingMode",tabIndex:"tabIndex",text:"text",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",visible:"visible",width:"width"},outputs:{onChange:"onChange",onContentReady:"onContentReady",onCopy:"onCopy",onCut:"onCut",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onOptionChanged:"onOptionChanged",onPaste:"onPaste",onValueChanged:"onValueChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",autoResizeEnabledChange:"autoResizeEnabledChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maxHeightChange:"maxHeightChange",maxLengthChange:"maxLengthChange",minHeightChange:"minHeightChange",nameChange:"nameChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",spellcheckChange:"spellcheckChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",textChange:"textChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[se.Jv_([Se.zF,Se.jS,ke,Se.fH,Se.$M]),se.Vt3,se.OA$],decls:0,vars:0,template:function(e,ne){},encapsulation:2}),Re})(),st=(()=>{class Re{}return Re.\u0275fac=function(e){return new(e||Re)},Re.\u0275mod=se.$C({type:Re}),Re.\u0275inj=se.G2t({imports:[[Se.p_,Se.xZ],Se.xZ]}),Re})();var Et=i(2277),yt=i(7018),et=i(8558),Wt=i(9896),zt=i(3514);i(4038);let Le=(()=>{class Re{}return Re.\u0275fac=function(e){return new(e||Re)},Re.\u0275mod=se.$C({type:Re}),Re.\u0275inj=se.G2t({imports:[[Fe.YLo,Fe.YaD,Fe.eNx,Fe.Bkf,Fe.nwt,Fe.hXw,Fe.YGc,Fe.gf0,Fe.rvW,Fe.Tob,Fe.$Ql,Fe.isg,Se.p_,Se.xZ],Fe.YLo,Fe.YaD,Fe.eNx,Fe.Bkf,Fe.nwt,Fe.hXw,Fe.YGc,Fe.gf0,Fe.rvW,Fe.Tob,Fe.$Ql,Fe.isg,Se.xZ]}),Re})();var Xe=i(4874),lt=i(3341),Dt="dx-radiobutton",$t="dx-radiobutton-icon";class gi extends Xe.A{_focusTarget(){return this.$element().parent()}_nullValueSelectionSupported(){return!0}_getDefaultOptions(){var E=super._getDefaultOptions();return(0,Y.X)(E,lt.A._dataExpressionDefaultOptions(),{_itemAttributes:{role:"radio"}})}_initMarkup(){super._initMarkup(),(0,it.zE)(()=>{this.itemElements().addClass(Dt)})}_keyboardEventBindingTarget(){return this._focusTarget()}_postprocessRenderItem(E){var{itemData:{html:e},itemElement:ne}=E;if(!e){var je=(0,he.A)("<div>").addClass($t);(0,he.A)("<div>").addClass("dx-radiobutton-icon-dot").appendTo(je);var at=(0,he.A)("<div>").append(je).addClass("dx-radio-value-container");(0,he.A)(ne).prepend(at)}super._postprocessRenderItem(E)}_processSelectableItem(E,e){super._processSelectableItem(E,e),E.toggleClass("dx-radiobutton-checked",e).find(".".concat($t)).first().toggleClass("dx-radiobutton-icon-checked",e),this.setAria("checked",e,E)}_refreshContent(){this._prepareContent(),this._renderContent()}_supportedKeys(){var E=super._supportedKeys();return(0,Y.X)({},E,{enter:function(e){return e.preventDefault(),E.enter.apply(this,arguments)},space:function(e){return e.preventDefault(),E.space.apply(this,arguments)}})}_itemElements(){return this._itemContainer().children(this._itemSelector())}_setAriaSelectionAttribute(){}}class ai extends j.A{_dataSourceOptions(){return{paginate:!1}}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{tablet:!0},options:{layout:"horizontal"}},{device:()=>"desktop"===h.A.real().deviceType&&!h.A.isSimulator(),options:{focusStateEnabled:!0}}])}_fireContentReadyAction(E){E&&super._fireContentReadyAction()}_focusTarget(){return this.$element()}_getAriaTarget(){return this.$element()}_getDefaultOptions(){var E=super._getDefaultOptions();return(0,Y.X)(E,(0,Y.X)(lt.A._dataExpressionDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,layout:"vertical"}))}_getItemValue(E){return this._valueGetter?this._valueGetter(E):E.text}_getSubmitElement(){return this._$submitElement}_init(){super._init(),this._activeStateUnit=".".concat(Dt),this._feedbackHideTimeout=100,this._initDataExpressions()}_initMarkup(){this.$element().addClass("dx-radiogroup"),this._renderSubmitElement(),this.setAria("role","radiogroup"),this._renderRadios(),this._renderLayout(),super._initMarkup()}_itemClickHandler(E){var{itemElement:e,event:ne,itemData:je}=E;if(this.itemElements().is(e)){var at=this._getItemValue(je);at!==this.option("value")&&(this._saveValueChangeEvent(ne),this.option("value",at))}}_getSelectedItemKeys(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("value");return"this"!==this.option("valueExpr")&&null===E||(0,q.O9)(E)?[E]:[]}_setSelection(E){var e=this._unwrappedValue(E);this._setCollectionWidgetOption("selectedItemKeys",this._getSelectedItemKeys(e))}_renderValidationState(){var E;super._renderValidationState(),null===(E=this._validationMessage)||void 0===E||E.$content().attr("role","alert")}_optionChanged(E){var{name:e,value:ne}=E;switch(this._dataExpressionOptionChanged(E),e){case"dataSource":this._invalidate();break;case"focusStateEnabled":case"accessKey":case"tabIndex":this._setCollectionWidgetOption(e,ne);break;case"disabled":super._optionChanged(E),this._setCollectionWidgetOption(e,ne);break;case"valueExpr":this._setCollectionWidgetOption("keyExpr",this._getCollectionKeyExpr());break;case"value":this._setSelection(ne),this._setSubmitValue(ne),super._optionChanged(E);break;case"items":this._setSelection(this.option("value"));break;case"itemTemplate":case"displayExpr":break;case"layout":this._renderLayout(),this._updateItemsSize();break;default:super._optionChanged(E)}}_render(){super._render(),this._updateItemsSize()}_renderLayout(){var E=this.option("layout"),e=this.$element();e.toggleClass("dx-radiogroup-vertical","vertical"===E),e.toggleClass("dx-radiogroup-horizontal","horizontal"===E)}_renderRadios(){this._areRadiosCreated=new Ee.cY;var E=(0,he.A)("<div>").appendTo(this.$element()),{displayExpr:e,accessKey:ne,focusStateEnabled:je,itemTemplate:at,tabIndex:bt}=this.option();this._createComponent(E,gi,{onInitialized:Vt=>{var{component:Kt}=Vt;this._radios=Kt},onContentReady:Vt=>{this._fireContentReadyAction(!0)},onItemClick:this._itemClickHandler.bind(this),displayExpr:e,accessKey:ne,dataSource:this._dataSource,focusStateEnabled:je,itemTemplate:at,keyExpr:this._getCollectionKeyExpr(),noDataText:"",scrollingEnabled:!1,selectByClick:!1,selectionMode:"single",selectedItemKeys:this._getSelectedItemKeys(),tabIndex:bt}),this._areRadiosCreated.resolve()}_renderSubmitElement(){this._$submitElement=(0,he.A)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue()}_setOptionsByReference(){super._setOptionsByReference(),(0,Y.X)(this._optionsByReference,{value:!0})}_setSubmitValue(E){var e;E=null!==(e=E)&&void 0!==e?e:this.option("value");var ne="this"===this.option("valueExpr")?this._displayGetter(E):E;this._$submitElement.val(ne)}_setCollectionWidgetOption(){this._areRadiosCreated.done(this._setWidgetOption.bind(this,"_radios",arguments))}_updateItemsSize(){if("horizontal"===this.option("layout"))this.itemElements().css("height","auto");else{var E=this.option("items").length;this.itemElements().css("height",100/E+"%")}}focus(){var E;null===(E=this._radios)||void 0===E||E.focus()}itemElements(){var E;return null===(E=this._radios)||void 0===E?void 0:E.itemElements()}}ai.include(lt.A),(0,oe.A)("dxRadioGroup",ai);const ci=ai,pi={provide:Be.kq,useExisting:(0,se.Rfq)(()=>jt),multi:!0};let jt=(()=>{class Re extends Se.ic{constructor(e,ne,je,at,bt,Vt,Kt,Xt){super(e,ne,je,at,Kt,Xt),this._watcherHelper=at,this._idh=bt,this.touched=ii=>{},this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"dataSourceChange"},{emit:"disabledChange"},{emit:"displayExprChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"layoutChange"},{emit:"nameChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"tabIndexChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueExprChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),Vt.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get dataSource(){return this._getOption("dataSource")}set dataSource(e){this._setOption("dataSource",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get displayExpr(){return this._getOption("displayExpr")}set displayExpr(e){this._setOption("displayExpr",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get isDirty(){return this._getOption("isDirty")}set isDirty(e){this._setOption("isDirty",e)}get isValid(){return this._getOption("isValid")}set isValid(e){this._setOption("isValid",e)}get items(){return this._getOption("items")}set items(e){this._setOption("items",e)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(e){this._setOption("itemTemplate",e)}get layout(){return this._getOption("layout")}set layout(e){this._setOption("layout",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOption("readOnly",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get validationError(){return this._getOption("validationError")}set validationError(e){this._setOption("validationError",e)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(e){this._setOption("validationErrors",e)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(e){this._setOption("validationMessageMode",e)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(e){this._setOption("validationMessagePosition",e)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(e){this._setOption("validationStatus",e)}get value(){return this._getOption("value")}set value(e){this._setOption("value",e)}get valueExpr(){return this._getOption("valueExpr")}set valueExpr(e){this._setOption("valueExpr",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}change(e){}get itemsChildren(){return this._getOption("items")}set itemsChildren(e){this.setChildren("items",e)}_createInstance(e,ne){return new ci(e,ne)}writeValue(e){this.eventHelper.lockedValueChangeEvent=!0,this.value=e,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(e){this.disabled=e}registerOnChange(e){this.change=e}registerOnTouched(e){this.touched=e}_createWidget(e){super._createWidget(e),this.instance.on("focusOut",ne=>{this.eventHelper.fireNgEvent("onBlur",[ne])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(e){super.ngOnChanges(e),this.setupChanges("dataSource",e),this.setupChanges("items",e),this.setupChanges("validationErrors",e)}setupChanges(e,ne){e in this._optionsToUpdate||this._idh.setup(e,ne)}ngDoCheck(){this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(e,ne){let je=this._idh.setupSingle(e,ne),at=null!==this._idh.getChanges(e,ne);(je||at)&&super._setOption(e,ne)}}return Re.\u0275fac=function(e){return new(e||Re)(se.rXU(se.aKT),se.rXU(se.SKi),se.rXU(Se.zF),se.rXU(Se.jS),se.rXU(Se.$M),se.rXU(Se.fH),se.rXU(k.pJ),se.rXU(se.Agw))},Re.\u0275cmp=se.VBU({type:Re,selectors:[["dx-radio-group"]],contentQueries:function(e,ne,je){if(1&e&&se.wni(je,Fe.CVf,4),2&e){let at;se.mGM(at=se.lsd())&&(ne.itemsChildren=at)}},hostBindings:function(e,ne){1&e&&se.bIt("valueChange",function(at){return ne.change(at)})("onBlur",function(at){return ne.touched(at)})},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",dataSource:"dataSource",disabled:"disabled",displayExpr:"displayExpr",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",isDirty:"isDirty",isValid:"isValid",items:"items",itemTemplate:"itemTemplate",layout:"layout",name:"name",readOnly:"readOnly",rtlEnabled:"rtlEnabled",tabIndex:"tabIndex",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueExpr:"valueExpr",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onValueChanged:"onValueChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",dataSourceChange:"dataSourceChange",disabledChange:"disabledChange",displayExprChange:"displayExprChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",layoutChange:"layoutChange",nameChange:"nameChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",tabIndexChange:"tabIndexChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueExprChange:"valueExprChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[se.Jv_([Se.zF,Se.jS,pi,Se.fH,Se.$M]),se.Vt3,se.OA$],decls:0,vars:0,template:function(e,ne){},encapsulation:2}),Re})(),vi=(()=>{class Re{}return Re.\u0275fac=function(e){return new(e||Re)},Re.\u0275mod=se.$C({type:Re}),Re.\u0275inj=se.G2t({imports:[[Fe.POb,Se.p_,Se.xZ],Fe.POb,Se.xZ]}),Re})();i(8543);let Ai=(()=>{class Re{}return Re.\u0275fac=function(e){return new(e||Re)},Re.\u0275mod=se.$C({type:Re}),Re.\u0275inj=se.G2t({imports:[[Fe.YLo,Fe.YaD,Fe.eNx,Fe.Bkf,Fe.nwt,Fe.hXw,Fe.YGc,Fe.gf0,Fe.rvW,Fe.Tob,Fe.$Ql,Se.p_,Se.xZ],Fe.YLo,Fe.YaD,Fe.eNx,Fe.Bkf,Fe.nwt,Fe.hXw,Fe.YGc,Fe.gf0,Fe.rvW,Fe.Tob,Fe.$Ql,Se.xZ]}),Re})();var hi=i(2898),Ii=i(560);i(9433);let Ei=(()=>{class Re{}return Re.\u0275fac=function(e){return new(e||Re)},Re.\u0275mod=se.$C({type:Re}),Re.\u0275inj=se.G2t({imports:[[Se.p_,Se.xZ],Se.xZ]}),Re})();i(1100);let xi=(()=>{class Re{}return Re.\u0275fac=function(e){return new(e||Re)},Re.\u0275mod=se.$C({type:Re}),Re.\u0275inj=se.G2t({imports:[[Se.p_,Se.xZ],Se.xZ]}),Re})();var yi=i(3281);let Ri=(()=>{class Re{static#e=this.\u0275fac=function(ne){return new(ne||Re)};static#t=this.\u0275mod=se.$C({type:Re});static#i=this.\u0275inj=se.G2t({imports:[be.MD,pt,At.F,Ot,st,Et.N,yt.S,et.t,Wt.A,zt.L,Le,vi,Ai,hi.L,Ii._,Ei,xi,yi.Z]})}return Re})()},3514:(Mt,dt,i)=>{i.d(dt,{L:()=>le,e:()=>Ce});var be=i(345),k=i(4438),se=i(2839),_e=i(7283);const he=["*"];let Ce=(()=>{class ae extends _e.ic{constructor(ee,q,P,Y,Ee,re,j){super(ee,q,P,Y,re,j),this._createEventEmitters([{subscribe:"click",emit:"onClick"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"iconChange"},{emit:"rtlEnabledChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"templateChange"},{emit:"textChange"},{emit:"typeChange"},{emit:"useSubmitBehaviorChange"},{emit:"validationGroupChange"},{emit:"visibleChange"},{emit:"widthChange"}]),Ee.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(ee){this._setOption("accessKey",ee)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(ee){this._setOption("activeStateEnabled",ee)}get disabled(){return this._getOption("disabled")}set disabled(ee){this._setOption("disabled",ee)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(ee){this._setOption("elementAttr",ee)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(ee){this._setOption("focusStateEnabled",ee)}get height(){return this._getOption("height")}set height(ee){this._setOption("height",ee)}get hint(){return this._getOption("hint")}set hint(ee){this._setOption("hint",ee)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(ee){this._setOption("hoverStateEnabled",ee)}get icon(){return this._getOption("icon")}set icon(ee){this._setOption("icon",ee)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(ee){this._setOption("rtlEnabled",ee)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(ee){this._setOption("stylingMode",ee)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(ee){this._setOption("tabIndex",ee)}get template(){return this._getOption("template")}set template(ee){this._setOption("template",ee)}get text(){return this._getOption("text")}set text(ee){this._setOption("text",ee)}get type(){return this._getOption("type")}set type(ee){this._setOption("type",ee)}get useSubmitBehavior(){return this._getOption("useSubmitBehavior")}set useSubmitBehavior(ee){this._setOption("useSubmitBehavior",ee)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(ee){this._setOption("validationGroup",ee)}get visible(){return this._getOption("visible")}set visible(ee){this._setOption("visible",ee)}get width(){return this._getOption("width")}set width(ee){this._setOption("width",ee)}_createInstance(ee,q){return new se.A(ee,q)}ngOnDestroy(){this._destroyWidget()}}return ae.\u0275fac=function(ee){return new(ee||ae)(k.rXU(k.aKT),k.rXU(k.SKi),k.rXU(_e.zF),k.rXU(_e.jS),k.rXU(_e.fH),k.rXU(be.pJ),k.rXU(k.Agw))},ae.\u0275cmp=k.VBU({type:ae,selectors:[["dx-button"]],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",icon:"icon",rtlEnabled:"rtlEnabled",stylingMode:"stylingMode",tabIndex:"tabIndex",template:"template",text:"text",type:"type",useSubmitBehavior:"useSubmitBehavior",validationGroup:"validationGroup",visible:"visible",width:"width"},outputs:{onClick:"onClick",onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",iconChange:"iconChange",rtlEnabledChange:"rtlEnabledChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",templateChange:"templateChange",textChange:"textChange",typeChange:"typeChange",useSubmitBehaviorChange:"useSubmitBehaviorChange",validationGroupChange:"validationGroupChange",visibleChange:"visibleChange",widthChange:"widthChange"},features:[k.Jv_([_e.zF,_e.jS,_e.fH]),k.Vt3],ngContentSelectors:he,decls:1,vars:0,template:function(ee,q){1&ee&&(k.NAR(),k.SdG(0))},encapsulation:2}),ae})(),le=(()=>{class ae{}return ae.\u0275fac=function(ee){return new(ee||ae)},ae.\u0275mod=k.$C({type:ae}),ae.\u0275inj=k.G2t({imports:[[_e.p_,_e.xZ],_e.xZ]}),ae})()},9896:(Mt,dt,i)=>{i.d(dt,{A:()=>ae});var be=i(345),k=i(4438),se=i(9454),_e=i(9417),he=i(7283);const Ce={provide:_e.kq,useExisting:(0,k.Rfq)(()=>le),multi:!0};let le=(()=>{class oe extends he.ic{constructor(q,P,Y,Ee,re,j,ue,b){super(q,P,Y,Ee,ue,b),this._watcherHelper=Ee,this._idh=re,this.touched=c=>{},this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"enableThreeStateBehaviorChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"iconSizeChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"nameChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),j.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(q){this._setOption("accessKey",q)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(q){this._setOption("activeStateEnabled",q)}get disabled(){return this._getOption("disabled")}set disabled(q){this._setOption("disabled",q)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(q){this._setOption("elementAttr",q)}get enableThreeStateBehavior(){return this._getOption("enableThreeStateBehavior")}set enableThreeStateBehavior(q){this._setOption("enableThreeStateBehavior",q)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(q){this._setOption("focusStateEnabled",q)}get height(){return this._getOption("height")}set height(q){this._setOption("height",q)}get hint(){return this._getOption("hint")}set hint(q){this._setOption("hint",q)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(q){this._setOption("hoverStateEnabled",q)}get iconSize(){return this._getOption("iconSize")}set iconSize(q){this._setOption("iconSize",q)}get isDirty(){return this._getOption("isDirty")}set isDirty(q){this._setOption("isDirty",q)}get isValid(){return this._getOption("isValid")}set isValid(q){this._setOption("isValid",q)}get name(){return this._getOption("name")}set name(q){this._setOption("name",q)}get readOnly(){return this._getOption("readOnly")}set readOnly(q){this._setOption("readOnly",q)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(q){this._setOption("rtlEnabled",q)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(q){this._setOption("tabIndex",q)}get text(){return this._getOption("text")}set text(q){this._setOption("text",q)}get validationError(){return this._getOption("validationError")}set validationError(q){this._setOption("validationError",q)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(q){this._setOption("validationErrors",q)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(q){this._setOption("validationMessageMode",q)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(q){this._setOption("validationMessagePosition",q)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(q){this._setOption("validationStatus",q)}get value(){return this._getOption("value")}set value(q){this._setOption("value",q)}get visible(){return this._getOption("visible")}set visible(q){this._setOption("visible",q)}get width(){return this._getOption("width")}set width(q){this._setOption("width",q)}change(q){}_createInstance(q,P){return new se.A(q,P)}writeValue(q){this.eventHelper.lockedValueChangeEvent=!0,this.value=q,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(q){this.disabled=q}registerOnChange(q){this.change=q}registerOnTouched(q){this.touched=q}_createWidget(q){super._createWidget(q),this.instance.on("focusOut",P=>{this.eventHelper.fireNgEvent("onBlur",[P])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(q){super.ngOnChanges(q),this.setupChanges("validationErrors",q)}setupChanges(q,P){q in this._optionsToUpdate||this._idh.setup(q,P)}ngDoCheck(){this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(q,P){let Y=this._idh.setupSingle(q,P),Ee=null!==this._idh.getChanges(q,P);(Y||Ee)&&super._setOption(q,P)}}return oe.\u0275fac=function(q){return new(q||oe)(k.rXU(k.aKT),k.rXU(k.SKi),k.rXU(he.zF),k.rXU(he.jS),k.rXU(he.$M),k.rXU(he.fH),k.rXU(be.pJ),k.rXU(k.Agw))},oe.\u0275cmp=k.VBU({type:oe,selectors:[["dx-check-box"]],hostBindings:function(q,P){1&q&&k.bIt("valueChange",function(Ee){return P.change(Ee)})("onBlur",function(Ee){return P.touched(Ee)})},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",disabled:"disabled",elementAttr:"elementAttr",enableThreeStateBehavior:"enableThreeStateBehavior",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",iconSize:"iconSize",isDirty:"isDirty",isValid:"isValid",name:"name",readOnly:"readOnly",rtlEnabled:"rtlEnabled",tabIndex:"tabIndex",text:"text",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onValueChanged:"onValueChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",enableThreeStateBehaviorChange:"enableThreeStateBehaviorChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",iconSizeChange:"iconSizeChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",nameChange:"nameChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",tabIndexChange:"tabIndexChange",textChange:"textChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[k.Jv_([he.zF,he.jS,Ce,he.fH,he.$M]),k.Vt3,k.OA$],decls:0,vars:0,template:function(q,P){},encapsulation:2}),oe})(),ae=(()=>{class oe{}return oe.\u0275fac=function(q){return new(q||oe)},oe.\u0275mod=k.$C({type:oe}),oe.\u0275inj=k.G2t({imports:[[he.p_,he.xZ],he.xZ]}),oe})()},2277:(Mt,dt,i)=>{i.d(dt,{s:()=>ia,N:()=>aa});var be=i(345),k=i(4438),se=i(7949),_e=i(8168),he=i(4895),Ce=i(5207);const le=(0,_e.A)((0,_e.A)((0,_e.A)({},he.A),Ce.A),{modules:[]});le.registerModule("columnHeaders",se.J);var oe=i(7951),ee=i(9392);le.registerModule("columns",{defaultOptions:()=>(0,oe.X)(!0,{},ee.a.defaultOptions(),{commonColumnSettings:{allowExporting:!0}}),controllers:ee.a.controllers});var q=i(7310),P=i(9629),Ee=i(1090).A;const re={extend(A){Ee=Ee.inherit(A)},create:A=>new Ee(A)};var j,ue,b=null===(ue=null===(j=P.X.controllers)||void 0===j?void 0:j.data)||void 0===ue?void 0:ue.inherit({_getDataSourceAdapter:()=>re,_getSpecificDataSourceOption(){var A=this.option("dataSource");return A&&!Array.isArray(A)&&this.option("keyExpr")&&q.A.log("W1011"),this.callBase()}});le.registerModule("data",{defaultOptions:P.X.defaultOptions,controllers:{data:b}});var c=i(4231);le.registerModule("sorting",c.L);var a=i(9644);le.registerModule("rows",a.E);var m=i(9633);le.registerModule("contextMenu",m.p);var S=i(1639);le.registerModule("errorHandling",S.y);var I=i(255);le.registerModule("gridView",I.m);var N=i(8539);le.registerModule("headerPanel",N.k);var Pe=i(4905),Ie=i(4292),B=i(9263),n=i(5042),g=i(5978),o=i(2101),l=i(2463),_=i(1299),h=i(8041);le.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","editingRowBased","editingFormBased","editingCellBased","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var te=h.A.inherit({_activeStateUnit:".dx-row",_getDefaultOptions(){var A=this.callBase();return(0,o.__)(le.modules,function(){(0,l.Tn)(this.defaultOptions)&&(0,oe.X)(!0,A,this.defaultOptions())}),A},_setDeprecatedOptions(){this.callBase(),(0,oe.X)(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"},rowTemplate:{since:"21.2",message:'Use the "dataRowTemplate" option instead'},"columnChooser.allowSearch":{since:"23.1",message:'Use the "columnChooser.search.enabled" option instead'},"columnChooser.searchTimeout":{since:"23.1",message:'Use the "columnChooser.search.timeout" option instead'}})},_defaultOptionsRules(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:()=>(0,_.Nt)(),options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0},selection:{showCheckBoxesMode:"always"}}},{device:()=>B.A.webkit,options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:A=>"desktop"!==A.deviceType,options:{grouping:{expandMode:"rowClick"}}}])},_init(){this.callBase(),Ce.A.logHeaderFilterDeprecatedWarningIfNeed(this),le.processModules(this,le),le.callModuleItemsMethod(this,"init")},_clean:n.lQ,_optionChanged(A){le.callModuleItemsMethod(this,"optionChanged",[A]),A.handled||this.callBase(A)},_dimensionChanged(){this.updateDimensions(!0)},_visibilityChanged(A){A&&this.updateDimensions()},_initMarkup(){this.callBase.apply(this,arguments),this.getView("gridView").render(this.$element())},_renderContentImpl(){this.getView("gridView").update()},_renderContent(){var A=this;(0,n.zE)(()=>{A._renderContentImpl()})},_getTemplate(A){var W=A;return(0,l.Kg)(W)&&W.startsWith("#")&&(W=(0,Ie.A)(A),g.v.warn("Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.")),this.callBase(W)},_dispose(){this.callBase(),le.callModuleItemsMethod(this,"dispose")},isReady(){return this.getController("data").isReady()},beginUpdate(){this.callBase(),le.callModuleItemsMethod(this,"beginUpdate")},endUpdate(){le.callModuleItemsMethod(this,"endUpdate"),this.callBase()},getController(A){return this._controllers[A]},getView(A){return this._views[A]},focus(A){this.getController("keyboardNavigation").focus(A)}});te.registerModule=le.registerModule.bind(le),(0,Pe.A)("dxDataGrid",te);const X=te;var ge=i(5002);le.registerModule("stateStoring",ge.u);var He=i(4153);le.registerModule("selection",He.n);var Z=i(3987);le.registerModule("columnChooser",Z.C);var p=i(3862),w=i(2984),V=i(186),J=i(736),$=i(2328),ye=i(7805),de=i(1591),Te=i(5571);function Ne(A,W){for(var x=(0,Te.st)(W.group),Oe=[],Ve=0;Ve<A.length;Ve++)Oe.push([x[Ve].selector,"=",A[Ve]]);return W.filter&&Oe.push(W.filter),Ce.A.combineFilters(Oe)}var T=i(6221);function r(A,W,x){for(var Oe=(0,Te.st)(W.group),Ve=[],Ke=x?A.length-1:0;Ke<A.length;Ke++){for(var Ge=[],$e=0;$e<=Ke;$e++){var{selector:ot}=Oe[$e];if(Ke!==$e||null!==A[$e]&&!1!==A[$e]&&!0!==A[$e]){var ct=[ot,Ke===$e?Oe[$e].desc?">":"<":"=",A[$e]];Ge.push("<"===ct[1]?[ct,"or",[ot,"=",null]]:ct)}else!1===A[$e]?Ge.push([ot,"=",!!Oe[$e].desc||null]):(A[$e]?!Oe[$e].desc:Oe[$e].desc)?Ge.push([ot,"<>",A[$e]]):(Ge.push([ot,"<>",null]),Ge.push([ot,"=",null]))}Ve.push(le.combineFilters(Ge))}return Ve=le.combineFilters(Ve,"or"),le.combineFilters([Ve,W.filter])}var v=T.A.inherit(function(){var A=function(x,Oe){var{hash:Ve}=x;return Ve&&Ve[JSON.stringify(Oe)]},W=function(x,Oe){var $e,Ve=0,Ke=x.length-1;if(!x.length)return 0;do{var Ge=Ke+Ve>>1;x[Ge].offset>Oe?Ke=Ge:Ve=Ge}while(Ke-Ve>1);for($e=Ve;$e<=Ke&&!(x[$e].offset>Oe);$e++);return $e};return{ctor(x){this._dataSource=x,this.reset()},reset(){this._groupsInfo=[],this._totalCountCorrection=0},totalCountCorrection(){return this._totalCountCorrection},updateTotalItemsCount(x){this._totalCountCorrection=x||0},isGroupItemCountable(x){return!this._isVirtualPaging()||!x.isContinuation},_isVirtualPaging(){var x=this._dataSource.option("scrolling.mode");return"virtual"===x||"infinite"===x},itemsCount(){var Oe=this._dataSource._dataSource,Ve=le.normalizeSortingInfo(Oe.group()||[]).length;return function Ge($e,ot,ct){var mt=0;if(ot)if(ct)for(var Ue=0;Ue<ot.length;Ue++)$e.isGroupItemCountable(ot[Ue])&&mt++,mt+=Ge($e,ot[Ue].items,ct-1);else mt=ot.length;return mt}(this,Oe.items(),Ve)},foreachGroups(x,Oe,Ve,Ke,Ge){var $e=this;return function ot(ct,mt,Ue,qe){var rt=[];function gt(Rt,It,Ft,Ut){var Qt=It&&Rt(It,Ft);return Qt&&Ut.push(Qt),Qt}for(var ft=0;ft<ct.length;ft++){if(qe.push(ct[ft].data),!Ue&&!1===gt(mt,ct[ft].data,qe,rt))return!1;if(!ct[ft].data||ct[ft].data.isExpanded||Ve){var{children:wt}=ct[ft],Bt=wt.length&&ot(wt,mt,Ue,qe);if(Bt&&rt.push(Bt),!1===Bt)return!1}if(Ue&&!1===gt(mt,ct[ft].data,qe,rt))return!1;(!ct[ft].data||ct[ft].data.offset!==ct[ft].offset)&&(Ke=!0),qe.pop()}var Lt=Ge&&qe.slice(0);return Ke&&w.z7.apply(Ie.A,rt).always(()=>{$e._updateGroupInfoOffsets(ct,Lt)})}($e._groupsInfo,x,Oe,[])},_updateGroupInfoOffsets(x,Oe){Oe=Oe||[];for(var Ve=0;Ve<x.length;Ve++){var Ke=x[Ve];if(Ke.data&&Ke.data.offset!==Ke.offset){Ke.offset=Ke.data.offset;for(var Ge=0;Ge<Oe.length;Ge++)Oe[Ge].offset=Ke.offset}}x.sort(($e,ot)=>$e.offset-ot.offset)},findGroupInfo(x){for(var Oe,Ve=this._groupsInfo,Ke=0;Ve&&Ke<x.length;Ke++)Ve=(Oe=A(Ve,x[Ke]))&&Oe.children;return Oe&&Oe.data},addGroupInfo(x){for(var Oe,{path:Ve}=x,Ke=this._groupsInfo,Ge=0;Ge<Ve.length;Ge++){if(!(Oe=A(Ke,Ve[Ge]))){Oe={key:Ve[Ge],offset:x.offset,data:{offset:x.offset,isExpanded:!0,path:Ve.slice(0,Ge+1)},children:[]};var $e=W(Ke,x.offset);Ke.splice($e,0,Oe),Ke.hash=Ke.hash||{},Ke.hash[JSON.stringify(Oe.key)]=Oe}Ge===Ve.length-1&&(Oe.data=x,Oe.offset!==x.offset&&this._updateGroupInfoOffsets(Ke)),Ke=Oe.children}},allowCollapseAll:()=>!0,refresh(x){var{storeLoadOptions:Oe}=x,Ve=(0,Te.st)(Oe.group||[]),Ke="_group"in this?(0,Te.st)(this._group||[]):Ve,Ge=Math.min(Ke.length,Ve.length);this._group=Oe.group;for(var $e=0;$e<Ge;$e++)if(Ke[$e].selector!==Ve[$e].selector){Ge=$e;break}Ge?function ot(ct,mt,Ue){for(var qe=0;qe<ct.length;qe++)mt+1>=Ue?ct[qe].children=[]:ot(ct[qe].children,mt+1,Ue)}(this._groupsInfo,0,Ge):this.reset()},handleDataLoading(){},handleDataLoaded(x,Oe){Oe(x)},handleDataLoadedCore(x,Oe){Oe(x)}}}());function f(A,W,x,Oe){if(Oe=Oe||0,W>1&&x>0){var Ve=A-Math.floor(A/W)*W||W;return(Ve+=x-Oe-2)<0&&(Ve+=W),Math.floor(Ve/(W-Oe-1))}return 0}var s=v.inherit(function(){var A=function(Ue,qe,rt){return Ue.foreachGroups((gt,ft)=>{if(gt.isExpanded)return qe(gt,ft)},!0,!1,rt,rt)},W=function Ue(qe,rt,gt,ft,wt,Bt,Lt){var Rt;if(ft.items=ft.items||[],ft.paths=ft.paths||[],ft.count=ft.count||0,ft.lastCount=ft.lastCount||0,gt)for(var It=0;It<rt.length;It++){var Ft=rt[It];if(void 0!==Ft.items){if(wt.push(Ft.key),Bt)Rt=!0;else{var Ut=qe.findGroupInfo(wt);Rt=Ut&&Ut.isExpanded}Rt?Ft.items?Ue(qe,Ft.items,gt-1,ft,wt,Bt,Lt):1===gt&&Ft.count&&(!Bt||Lt)&&(ft.items.push(Ft),ft.paths.push(wt.slice(0)),ft.count+=ft.lastCount,ft.lastCount=Ft.count):(Ft.collapsedItems=Ft.items,Ft.items=null),wt.pop()}}},x=function(Ue,qe,rt,gt,ft){var Bt,wt=Ue.findGroupInfo(gt);wt?(rt?wt.count=qe.count>0?qe.count:qe.items&&qe.items.length||0:qe.count=wt.count||qe.count,wt.offset=ft):(rt&&(Bt=qe.count>0?qe.count:qe.items.length),Ue.addGroupInfo({isExpanded:Ue._isGroupExpanded(gt.length-1),path:gt.slice(0),offset:ft,count:Bt||0}))},Oe=function Ue(qe,rt,gt,ft,wt,Bt,Lt){var kt,It=(rt.group?rt.group.length:0)===ft,Ut=0,Qt=0;if(wt=wt||0,Bt=Bt||[],rt.remoteOperations.paging&&!Lt&&(Ut=0===wt?rt.skip||0:rt.skips[wt-1]||0),wt>=ft)return gt.length;for(var Yt=0;Yt<gt.length;Yt++){var Zt=gt[Yt];if(Zt){if(Bt.push(Zt.key),!Zt.count&&!Zt.items||void 0===Zt.items||(x(qe,Zt,It,Bt,Ut+Yt),(kt=Zt.items?Ue(qe,rt,Zt.items,ft,wt+1,Bt,Yt):Zt.count||-1)<0))return-1;Qt+=kt,Bt.pop()}}return Qt},Ve=function(Ue,qe){return Ue&&Ue.length&&Ue[qe]&&!!Ue[qe].isExpanded},Ke=function(Ue,qe,rt){for(var gt,ft=rt,wt=0;wt<Ue.length;wt++)gt=Ue[wt].offset+1,wt>0&&(gt+=Ue[wt-1].childrenTotalCount,qe&&(gt+=f(ft,qe,gt,wt-1)*wt)),ft+=gt;return ft};function Ge(Ue,qe,rt,gt){var ft=qe.items[gt],wt=Ue.skips&&Ue.skips[rt],Bt=Ue.takes&&Ue.takes[rt],Lt=gt===qe.items.length-1,Rt=0===gt,Ft=ft.count>Bt+(Rt&&wt||0);Rt&&void 0!==wt&&(ft.isContinuation=!0),Lt&&void 0!==Bt&&Ft&&(ft.isContinuationOnNextPage=!0)}function $e(Ue){return!Array.isArray(Ue)}function ot(Ue){$e(Ue.data)||(Ue.data=new w.cY)}function ct(Ue,qe,rt,gt,ft,wt){var Lt,Rt,It,Ft,Ut;qe.isCustomLoading||(W(Ue,wt,rt,gt={},[]),Ft=(It=rt)-1,Ut=(Lt=qe).group?Lt.group.length:0,(Rt=gt).skip=Lt.skips&&Lt.skips[Ft],Lt.takes&&void 0!==Lt.takes[Ft]&&(Rt.take=Ut===It&&Rt.count?Rt.count-(Rt.skip||0):0,Rt.take+=Lt.takes[Ft])),gt.paths.length&&(qe.group?qe.group.length:0)-rt>0?(ot(qe),function(Lt,Rt,It,Ft,Ut,Qt){var kt=Rt.group||[],Yt=kt[Ut+1],Zt=[];(0,o.__)(It.paths,Gt=>{var ri,ei={requireTotalCount:!1,requireGroupCount:!0,group:[Yt],groupSummary:Rt.storeLoadOptions.groupSummary,filter:Ne(It.paths[Gt],{filter:Rt.storeLoadOptions.filter,group:kt}),select:Rt.storeLoadOptions.select,langParams:null===(ri=Rt.storeLoadOptions)||void 0===ri?void 0:ri.langParams};0===Gt&&(ei.skip=It.skip||0),Gt===It.paths.length-1&&(ei.take=It.take);var Ui=0===ei.take?[]:Lt._dataSource.loadFromStore(ei);(0,w.z7)(Ui).done($i=>{var ra=It.items[Gt];Ge(Rt,It,Ut,Gt),ra.items=$i}),Zt.push(Ui)}),w.z7.apply(null,Zt).done(()=>{Oe(Lt,Rt,Qt,Ft+1),ct(Lt,Rt,Ft+1,It,Ut+1,Qt)})}(Ue,qe,gt,rt,ft,wt)):gt.paths.length&&qe.storeLoadOptions.group?(ot(qe),function(Lt,Rt,It,Ft){var Ut=[],Qt=Rt.group||[];(0,o.__)(It.paths,(Gt,ri)=>{Ut.push(Ne(ri,{group:Rt.isCustomLoading?Rt.storeLoadOptions.group:Qt}))});var{filter:kt}=Rt.storeLoadOptions;Rt.storeLoadOptions.isLoadingAll||(kt=le.combineFilters([kt,le.combineFilters(Ut,"or")]));var Yt=(0,oe.X)({},Rt.storeLoadOptions,{requireTotalCount:!1,requireGroupCount:!1,group:null,sort:Qt.concat(le.normalizeSortingInfo(Rt.storeLoadOptions.sort||[])),filter:kt}),Zt=Lt._dataSource.isLastLevelGroupItemsPagingLocal();Zt||(Yt.skip=It.skip,Yt.take=It.take),(0,w.z7)(0===It.take?[]:Lt._dataSource.loadFromStore(Yt)).done(Gt=>{Zt&&(Gt=Lt._dataSource.sortLastLevelGroupItems(Gt,Qt,It.paths),Gt=It.skip?Gt.slice(It.skip):Gt,Gt=It.take?Gt.slice(0,It.take):Gt),(0,o.__)(It.items,(ri,ei)=>{var $i=Gt.splice(0,ei.count-(0===ri&&It.skip||0));Ge(Rt,It,Qt.length-1,ri),ei.items=$i}),Rt.data.resolve(Ft)}).fail(Rt.data.reject)}(Ue,qe,gt,wt)):$e(qe.data)&&qe.data.resolve(wt)}var mt=function(Ue,qe){var rt=new w.cY,gt=!(!qe.group||!qe.group.length),ft=(0,oe.X)({skip:0,take:1,requireGroupCount:gt,requireTotalCount:!gt},qe,{group:gt?qe.group:null});return Ue.load(ft).done((wt,Bt)=>{var Lt=Bt&&(gt?Bt.groupCount:Bt.totalCount);isFinite(Lt)?rt.resolve(Lt):rt.reject(de.sO.Error(gt?"E4022":"E4021"))}).fail(rt.reject.bind(rt)),rt};return{updateTotalItemsCount(Ue){var qe=0,rt=Ue.extra&&Ue.extra.totalCount||0,gt=Ue.extra&&Ue.extra.groupCount||0,ft=this._dataSource.pageSize(),wt=this._isVirtualPaging();A(this,Bt=>{Bt.childrenTotalCount=0}),A(this,(Bt,Lt)=>{var Rt=Ke(Lt,wt?0:ft,qe),It=Bt.count+Bt.childrenTotalCount;wt||(It+=f(Rt,ft,It,Lt.length-1)),Lt[Lt.length-2]?Lt[Lt.length-2].childrenTotalCount+=It:qe+=It}),this.callBase(qe-rt+gt)},_isGroupExpanded(Ue){var qe=this._dataSource.group();return Ve(qe,Ue)},_updatePagingOptions(Ue,qe){var rt=this._isVirtualPaging(),gt=this._dataSource.pageSize(),ft=[],wt=[],Bt=0,Lt=0;Ue.take&&(A(this,Rt=>{Rt.childrenTotalCount=0,Rt.skipChildrenTotalCount=0}),A(this,(Rt,It)=>{var Ft,Ut=0,Qt=0,kt=Ke(It,rt?0:gt,Lt),Yt=0,Zt=0,Gt=Rt.count+Rt.childrenTotalCount,ri=Gt;qe&&qe(Rt,kt);var ei=Ue.skip-kt;kt<=Ue.skip+Ue.take&&Gt&&(Ft=Ue.take,rt||(Gt+=(Yt=f(kt,gt,Gt,It.length-1))*It.length,ri+=Yt,gt&&ei>=0&&(Ut=It.length,Qt=It.length-1,Zt=Math.floor(ei/gt))),ei>=0?(kt+Gt>Ue.skip&&ft.unshift(ei-Zt*Ut-Rt.skipChildrenTotalCount),kt+Gt>=Ue.skip+Ft&&wt.unshift(Ft-Ut-Rt.childrenTotalCount+Rt.skipChildrenTotalCount)):kt+Gt>=Ue.skip+Ft&&wt.unshift(Ft+ei-Rt.childrenTotalCount)),kt<=Ue.skip&&(It[It.length-2]?It[It.length-2].skipChildrenTotalCount+=Math.min(ri,ei+1-Zt*Qt):Bt+=Math.min(ri,ei+1)),kt<=Ue.skip+Ft&&(Gt=Math.min(ri,ei+Ft-(Zt+1)*Qt),It[It.length-2]?It[It.length-2].childrenTotalCount+=Gt:Lt+=Gt)}),Ue.skip-=Bt,Ue.take-=Lt-Bt),Ue.skips=ft,Ue.takes=wt},changeRowExpand(Ue){var qe=this.findGroupInfo(Ue),rt=this._dataSource,gt=rt.remoteOperations().groupPaging,ft=le.normalizeSortingInfo(rt.group());return qe?(qe.isExpanded=!qe.isExpanded,gt&&qe.isExpanded&&Ue.length<ft.length?mt(rt,{filter:Ne(Ue,{filter:rt.lastLoadOptions().filter,group:rt.group()}),group:[ft[Ue.length]],select:rt.select()}).done(wt=>{qe.count=wt}):(new w.cY).resolve()):(new w.cY).reject()},handleDataLoading(Ue){var{storeLoadOptions:qe}=Ue,rt=le.normalizeSortingInfo(qe.group||Ue.loadOptions.group);if(!Ue.isCustomLoading&&rt.length){if(Ue.remoteOperations.grouping){var gt=this._dataSource.remoteOperations().paging;qe.group=le.normalizeSortingInfo(qe.group),qe.group.forEach((ft,wt)=>{ft.isExpanded=!(gt&&wt===qe.group.length-1)})}Ue.group=Ue.group||rt,Ue.remoteOperations.paging?(Ue.skip=qe.skip,Ue.take=qe.take,qe.requireGroupCount=!0,qe.group=rt.slice(0,1),this._updatePagingOptions(Ue),qe.skip=Ue.skip,qe.take=Ue.take):(Ue.skip=Ue.loadOptions.skip,Ue.take=Ue.loadOptions.take,this._updatePagingOptions(Ue))}},handleDataLoadedCore(Ue,qe){var ft,rt=le.normalizeSortingInfo(Ue.storeLoadOptions.group||Ue.loadOptions.group).length,gt=Ue.group?Ue.group.length:0,wt={};if(Ue.isCustomLoading)qe(Ue),W(this,Ue.data,rt,wt,[],Ue.isCustomLoading,Ue.storeLoadOptions.isLoadingAll);else{if(Ue.remoteOperations.paging||this.foreachGroups(Bt=>{Bt.count=0}),(ft=Oe(this,Ue,Ue.data,rt))<0)return void(Ue.data=(new w.cY).reject(q.A.Error("E1037")));if(Ue.remoteOperations.paging||rt&&Ue.extra&&Ue.loadOptions.requireTotalCount&&(Ue.extra.totalCount=ft,Ue.extra.groupCount=Ue.data.length),gt&&Ue.storeLoadOptions.requireGroupCount&&!isFinite(Ue.extra.groupCount))return void(Ue.data=(new w.cY).reject(de.sO.Error("E4022")));this.updateTotalItemsCount(Ue),Ue.remoteOperations.paging||(this._updatePagingOptions(Ue),Ue.lastLoadOptions.skips=Ue.skips,Ue.lastLoadOptions.takes=Ue.takes),qe(Ue),Ue.remoteOperations.paging||this._processPaging(Ue,rt)}ct(this,Ue,rt,wt,0,Ue.data)},_processSkips(Ue,qe,rt){if(rt){var gt=Ue[0],ft=qe[0],wt=gt&&gt.items;void 0!==ft&&(gt.isContinuation=!0,wt&&(gt.items=wt.slice(ft),this._processSkips(gt.items,qe.slice(1),rt-1)))}},_processTakes(Ue,qe,rt,gt,ft){if(gt&&Ue){ft=ft||[];var wt=Ue[Ue.length-1],Bt=wt&&wt.items,Lt=rt[0];wt&&(void 0!==Lt&&(wt.count-(wt.isContinuation&&qe[0]||0)||Bt.length)>Lt&&(wt.isContinuationOnNextPage=!0,ft.forEach(Ft=>{Ft.isContinuationOnNextPage=!0}),Bt&&(Bt=Bt.slice(0,Lt),wt.items=Bt)),ft.push(wt),this._processTakes(Bt,qe.slice(1),rt.slice(1),gt-1,ft))}},_processPaging(Ue,qe){this._processSkips(Ue.data,Ue.skips,qe),this._processTakes(Ue.data,Ue.skips,Ue.takes,qe)},isLastLevelGroupItemsPagingLocal:()=>!1,sortLastLevelGroupItems:Ue=>Ue,refresh(Ue,qe){var Lt,Rt,rt=this,gt=rt._dataSource,{storeLoadOptions:ft}=Ue,wt=Ue.group||Ue.storeLoadOptions.group,Bt=le.normalizeSortingInfo(rt._group);function It(Ft,Ut){Ut.length===Rt+1&&(Ft.isExpanded=Lt)}for(Rt=0;Rt<Bt.length;Rt++)Lt=Ve(wt,Rt),Ve(rt._group,Rt)!==Lt&&rt.foreachGroups(It);if(rt.callBase.apply(this,arguments),wt&&Ue.remoteOperations.paging&&qe.reload)return A(rt,Ft=>{var Ut=mt(gt,{filter:Ne(Ft.path,{filter:ft.filter,group:wt}),group:wt.slice(Ft.path.length),select:ft.select}),Qt=mt(gt,{filter:r(Ft.path,{filter:ft.filter,group:wt},!0),group:wt.slice(Ft.path.length-1,Ft.path.length),select:ft.select});return(0,w.z7)(Qt,Ut).done((kt,Yt)=>{kt=parseInt(kt.length?kt[0]:kt),Yt=parseInt(Yt.length?Yt[0]:Yt),Ft.offset=kt,Ft.count!==Yt&&(Ft.count=Yt,rt.updateTotalItemsCount(Ue))})},!0)}}}()),t=i(9407),u=i(9845),y=i(7514),K=function(A,W){var x=new w.cY,Oe=(0,oe.X)({skip:0,take:1,requireTotalCount:!0},W);return A.load(Oe).done((Ve,Ke)=>{x.resolve(Ke&&Ke.totalCount)}).fail(x.reject.bind(x)),x},pe=v.inherit(function(){var A=function(Ke,Ge,$e){return Ke.foreachGroups(ot=>{if(!ot.isExpanded)return Ge(ot)},!1,!1,$e,!0)},W=function(Ke,Ge){var $e=0,ot=Ge||0;return Ge&&(A(Ke,ct=>{if(ct.offset-$e>=Ge)return!1;$e+=ct.count-1}),ot+=$e),ot},x=function(Ke,Ge){if(Ke.length!==Ge.length)return!1;for(var $e=0;$e<Ke.length;$e++)if(!(0,Te.t7)(null,Ke[$e],Ge[$e]))return!1;return!0},Oe=function Ke(Ge,$e,ot,ct,mt){if($e){for(var Ue=0;Ue<$e.length;Ue++){var qe=$e[Ue];if("key"in qe&&void 0!==qe.items){ot.push(qe.key),mt&&x(mt.path,ot)&&!qe.isContinuation&&(mt.offset=ct);var rt=Ge.findGroupInfo(ot);rt&&!qe.isContinuation&&(rt.offset=ct),rt&&!rt.isExpanded?ct+=rt.count:ct=Ke(Ge,qe.items,ot,ct,mt),ot.pop()}else ct++}return ct}},Ve=function Ke(Ge,$e){var ot=Ge.count||Ge.items.length;if(!Ge.count&&$e>1){ot=0;for(var ct=0;ct<Ge.items.length;ct++)ot+=Ke(Ge.items[ct],$e-1)}return ot};return{handleDataLoading(Ke){var mt,{storeLoadOptions:Ge}=Ke,$e=[],ot=0,ct=!1,{group:Ue}=Ke.loadOptions,qe=0;if(function(gt,ft){if(ft.group){var wt=le.normalizeSortingInfo(ft.group),Bt=le.normalizeSortingInfo(gt.sort);gt.sort=y.A.arrangeSortingInfo(wt,Bt),delete ft.group}}(Ge,Ke.loadOptions),Ke.group=Ke.group||Ue,!Ke.isCustomLoading){var rt=(0,oe.X)({},Ge);rt.skip=W(this,Ge.skip),rt.skip&&rt.take&&Ue&&(rt.skip--,rt.take++,ct=!0),rt.take&&Ue&&(mt=rt.take,rt.take++),A(this,gt=>{if(gt.offset>=rt.skip+rt.take+qe)return!1;gt.offset>=rt.skip+qe&&gt.count&&(qe+=gt.count-1,$e.push(gt),ot+=gt.count)}),(0,o.__)($e,function(){rt.filter=function(gt,ft,wt){for(var Bt=le.normalizeSortingInfo(wt||ft.group),Lt=[],Rt=0;Rt<gt.length;Rt++){for(var It=[],Ft=0;Ft<=Rt;Ft++)It.push([Bt[Ft].selector,Rt===Ft?"<>":"=",gt[Ft]]);Lt.push(le.combineFilters(It))}return Lt=le.combineFilters(Lt,"or"),le.combineFilters([Lt,ft.filter])}(this.path,rt,Ue)}),Ke.storeLoadOptions=rt,Ke.collapsedGroups=$e,Ke.collapsedItemsCount=ot,Ke.skip=rt.skip||0,Ke.skipFirstItem=ct,Ke.take=mt}},handleDataLoaded(Ke,Ge){var{collapsedGroups:$e}=Ke,ot=le.normalizeSortingInfo(Ke.group),ct=ot.length;function mt(gt,ft,wt,Bt,Lt){if(gt&&ft.length&&wt.length){var Rt,It,Ft=(0,t.ao)(ft[0],!0);for(It=0;It<gt.length&&(Rt=(0,t.ao)(gt[It].key,!0),!(Lt>=Bt.offset||Ft===Rt));It++)Lt+=Ve(gt[It],wt.length);(!gt.length||Ft!==Rt)&&gt.splice(It,0,{key:ft[0],items:[],count:1===ft.length?Bt.count:void 0}),mt(gt[It].items,ft.slice(1),wt.slice(1),Bt,Lt)}}if(Ke.collapsedItemsCount&&Ke.extra&&Ke.extra.totalCount>=0&&(Ke.extra._totalCountWasIncreasedByCollapsedItems||(Ke.extra.totalCount+=Ke.collapsedItemsCount,Ke.extra._totalCountWasIncreasedByCollapsedItems=!0)),Ge(Ke),ct){var{data:Ue}=Ke,qe=(0,u.A)(Ue);if(y.A.multiLevelGroup(qe,ot).enumerate().done(gt=>{Ue=gt}),$e)for(var rt=0;rt<$e.length;rt++)mt(Ue,$e[rt].path,ot,$e[rt],Ke.skip);Ke.isCustomLoading||function gt(ft,wt,Bt,Lt,Rt,It){for(var Ft=0,Ut=!1,Qt=0;Qt<wt.length;Qt++){var kt=wt[Qt];if(void 0!==kt.items){Bt.push(kt.key);var Yt=ft.findGroupInfo(Bt);if(Yt&&!Yt.isExpanded)kt.collapsedItems=kt.items,kt.items=null,Lt+=Yt.count,--It<0&&Ft++,Rt&&(Ut=!0);else if(kt.items){var Zt=gt(ft,kt.items,Bt,Lt,Rt,It);Rt&&(Zt.offset-Lt>1?kt.isContinuation=!0:Ut=!0),Lt=Zt.offset,(It=Zt.take)<0&&(kt.items.length?kt.isContinuationOnNextPage=!0:Ft++)}Bt.pop()}else Rt&&(Ut=!0),Lt++,--It<0&&Ft++;Rt=!1}return Ut&&wt.splice(0,1),Ft&&wt.splice(-Ft,Ft),{offset:Lt,take:It}}(this,Ue,[],Ke.skip,Ke.skipFirstItem,Ke.take),Ke.data=Ue}},isGroupItemCountable:Ke=>null===Ke.items,updateTotalItemsCount(){var Ke=0;A(this,Ge=>{Ge.count&&(Ke-=Ge.count-1)}),this.callBase(Ke)},changeRowExpand(Ke){var qe,Ge=this,$e=Ge._dataSource,ot=$e.beginPageIndex?$e.beginPageIndex():$e.pageIndex(),ct=$e.items(),mt=W(Ge,ot*$e.pageSize()),Ue=Ge.findGroupInfo(Ke);return qe=Ue&&!Ue.isExpanded?(new w.cY).resolve(Ue.count):K($e,{filter:Ne(Ke,{filter:$e.filter(),group:$e.group()})}),(0,w.z7)(qe).done(rt=>{rt=parseInt(rt.length?rt[0]:rt),Ue?(Oe(Ge,ct,[],mt),Ue.isExpanded=!Ue.isExpanded,Ue.count=rt):(Oe(Ge,ct,[],mt,Ue={offset:-1,count:rt,path:Ke,isExpanded:!1}),Ue.offset>=0&&Ge.addGroupInfo(Ue)),Ge.updateTotalItemsCount()}).fail(function(){$e._eventsStrategy.fireEvent("loadError",arguments)})},allowCollapseAll:()=>!1,refresh(Ke,Ge){var $e=this,{storeLoadOptions:ot}=Ke,ct=$e._dataSource;if(this.callBase.apply(this,arguments),Ge.reload)return A($e,mt=>{var Ue=K(ct,{filter:Ne(mt.path,ot)}),qe=K(ct,{filter:r(mt.path,ot)});return(0,w.z7)(qe,Ue).done((rt,gt)=>{rt=parseInt(rt.length?rt[0]:rt),gt=parseInt(gt.length?gt[0]:gt),mt.offset=rt,mt.count!==gt&&(mt.count=gt,$e.updateTotalItemsCount())})},!0)}}}()),we="dx-datagrid-group-panel",z="dx-group-panel-item",fe="dx-toolbar-label";re.extend({init(){this.callBase.apply(this,arguments),this._initGroupingHelper()},_initGroupingHelper(A){var W=this._grouping,x=this.option("grouping.autoExpandAll"),Oe=this.option("focusedRowEnabled"),Ve=A?A.remoteOperations:this.remoteOperations();!(Ve.filtering&&Ve.sorting&&Ve.paging)||Ve.grouping||!x&&Oe?(!W||W instanceof pe)&&(this._grouping=new s(this)):(!W||W instanceof s)&&(this._grouping=new pe(this))},totalItemsCount(){var A=this.callBase();return A>0&&this._dataSource.group()&&this._dataSource.requireTotalCount()?A+this._grouping.totalCountCorrection():A},itemsCount(){return this._dataSource.group()?this._grouping.itemsCount()||0:this.callBase.apply(this,arguments)},allowCollapseAll(){return this._grouping.allowCollapseAll()},isGroupItemCountable(A){return this._grouping.isGroupItemCountable(A)},isRowExpanded(A){var W=this._grouping.findGroupInfo(A);return W?W.isExpanded:!this._grouping.allowCollapseAll()},collapseAll(A){return this._collapseExpandAll(A,!1)},expandAll(A){return this._collapseExpandAll(A,!0)},_collapseExpandAll(A,W){var x=this._dataSource,Oe=x.group(),Ve=le.normalizeSortingInfo(Oe||[]);if(Ve.length){for(var Ke=0;Ke<Ve.length;Ke++)void 0===A||A===Ke?Ve[Ke].isExpanded=W:Oe&&Oe[Ke]&&(Ve[Ke].isExpanded=Oe[Ke].isExpanded);x.group(Ve),this._grouping.foreachGroups((Ge,$e)=>{(void 0===A||A===$e.length-1)&&(Ge.isExpanded=W)},!1,!0),this.resetPagesCache()}return!0},refresh(){return this.callBase.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)},changeRowExpand(A){var W=this._dataSource;if(W.group())return W.beginLoading(),this._lastLoadOptions&&(this._lastLoadOptions.groupExpand=!0),this._changeRowExpandCore(A).always(()=>{W.endLoading()})},_changeRowExpandCore(A){return this._grouping.changeRowExpand(A)},_hasGroupLevelsExpandState(A,W){if(A&&Array.isArray(A))for(var x=0;x<A.length;x++)if(A[x].isExpanded===W)return!0},_customizeRemoteOperations(A,W){var{remoteOperations:x}=A;A.storeLoadOptions.group?(x.grouping&&!A.isCustomLoading&&(!x.groupPaging||this._hasGroupLevelsExpandState(A.storeLoadOptions.group,!0))&&(x.paging=!1),!x.grouping&&(!x.sorting||!x.filtering||A.isCustomLoading||this._hasGroupLevelsExpandState(A.storeLoadOptions.group,!1))&&(x.paging=!1)):!A.isCustomLoading&&x.paging&&W.grouping&&this.resetCache(),this.callBase.apply(this,arguments)},_handleDataLoading(A){return this.callBase(A),this._initGroupingHelper(A),this._grouping.handleDataLoading(A)},_handleDataLoaded(A){return this._grouping.handleDataLoaded(A,this.callBase.bind(this))},_handleDataLoadedCore(A){return this._grouping.handleDataLoadedCore(A,this.callBase.bind(this))}});var Tt=function(A,W){var x=this._columnsController;switch(W.itemData.value){case"group":var Oe=x._dataSource.group()||[];x.columnOption(A.dataField,"groupIndex",Oe.length);break;case"ungroup":x.columnOption(A.dataField,"groupIndex",-1);break;case"ungroupAll":this.component.clearGrouping()}},Pt=A=>{var W=A?.visible;return"auto"===W?"desktop"===p.A.current().deviceType:!!W},Ht=(A,W)=>Pt(A)&&!(!A?.allowColumnDragging||!W.allowGrouping),nt={_getToolbarItems(){var A=this.callBase();return this._appendGroupingItem(A)},_appendGroupingItem(A){if(this._isGroupPanelVisible()){var W=!1;A.push({template:()=>{var Oe=(0,Ie.A)("<div>").addClass(we);return this._updateGroupPanelContent(Oe),(0,ye.j)("groupPanel",this,Oe,void 0,this._handleActionKeyDown.bind(this)),Oe},name:"groupPanel",onItemRendered:()=>{W&&this.renderCompleted.fire(),W=!0},location:"before",locateInMenu:"never",sortIndex:1}),this.updateToolbarDimensions()}return A},_handleActionKeyDown(A){var{event:W}=A,x=(0,Ie.A)(W.target),Oe=x.closest(".".concat(z)).index(),Ve=this._columnsController.getGroupColumns()[Oe],Ke=Ve&&Ve.index;x.is(".dx-header-filter")?this.getController("headerFilter").showHeaderFilterMenu(Ke,!0):this._processGroupItemAction(Ke),W.preventDefault()},_isGroupPanelVisible(){return Pt(this.option("groupPanel"))},_renderGroupPanelItems(A,W){var x=this;A.empty(),(0,o.__)(W,(Oe,Ve)=>{x._createGroupPanelItem(A,Ve)}),(0,$.Dy)(this)},_createGroupPanelItem(A,W){var x=(0,Ie.A)("<div>").addClass(W.cssClass).addClass(z).data("columnData",W).appendTo(A).text(W.caption);return(0,$.Mo)(this,x),x},_columnOptionChanged(A){if(!this._requireReady&&!le.checkChanges(A.optionNames,["width","visibleWidth"])){var W=this.element(),x=W&&W.find(".".concat(we));x&&x.length&&(this._updateGroupPanelContent(x),this.updateToolbarDimensions(),this.renderCompleted.fire())}this.callBase()},_updateGroupPanelContent(A){var W=this.getController("columns").getGroupColumns(),x=this.option("groupPanel");this._renderGroupPanelItems(A,W),x.allowColumnDragging&&!W.length&&((0,Ie.A)("<div>").addClass("dx-group-panel-message").text(x.emptyPanelText).appendTo(A),A.closest(".".concat("dx-toolbar-item")).addClass(fe),A.closest(".".concat(fe)).css("maxWidth","none"))},allowDragging(A){var W=this.option("groupPanel");return Ht(W,A)},getColumnElements(){var A=this.element();return A&&A.find(".".concat(z))},getColumns(){return this.getController("columns").getGroupColumns()},getBoundingRect(){var A=this.element();if(A&&A.find(".".concat(we)).length){var W=A.offset();return{top:W.top,bottom:W.top+(0,V.Oq)(A)}}return null},getName:()=>"group",getContextMenuItems(A){var Oe,W=this.option("grouping.contextMenuEnabled"),x=(0,Ie.A)(A.targetElement).closest(".".concat(z));if(x.length&&(A.column=x.data("columnData")),W&&A.column){var{column:Ve}=A;if(!(0,l.O9)(Ve.allowGrouping)||Ve.allowGrouping){var Ge=(0,l.O9)(Ve.groupIndex)&&Ve.groupIndex>-1,$e=this.option("grouping.texts"),ot=Tt.bind(this,Ve);Oe=[{text:$e.ungroup,value:"ungroup",disabled:!Ge,onItemClick:ot},{text:$e.ungroupAll,value:"ungroupAll",onItemClick:ot}]}}return Oe},isVisible(){return this.callBase()||this._isGroupPanelVisible()},hasGroupedColumns(){return this._isGroupPanelVisible()&&!!this.getColumns().length},optionChanged(A){"groupPanel"===A.name?(this._invalidate(),A.handled=!0):this.callBase(A)}};le.registerModule("grouping",{defaultOptions:()=>({grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!1,expandMode:"buttonClick",texts:{groupContinuesMessage:J.A.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:J.A.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:J.A.format("dxDataGrid-groupHeaderText"),ungroup:J.A.format("dxDataGrid-ungroupHeaderText"),ungroupAll:J.A.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:J.A.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}),extenders:{controllers:{data:{init(){this.callBase(),this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed")},_beforeProcessItems(A){var W=this._columnsController.getGroupColumns();return(A=this.callBase(A)).length&&W.length&&(A=this._processGroupItems(A,W.length)),A},_processItem(A,W){return(0,l.O9)(A.groupIndex)&&(0,l.Kg)(A.rowType)&&0===A.rowType.indexOf("group")?(A=this._processGroupItem(A,W),W.dataIndex=0):A=this.callBase.apply(this,arguments),A},_processGroupItem:A=>A,_processGroupItems(A,W,x){var Oe=this._columnsController.getGroupColumns(),Ve=Oe[Oe.length-W];if(!x){var Ke=this.option("scrolling.mode");x={collectContinuationItems:"virtual"!==Ke&&"infinite"!==Ke,resultItems:[],path:[],values:[]}}var{resultItems:Ge}=x;if(x.data&&(x.collectContinuationItems||!x.data.isContinuation)&&Ge.push({rowType:"group",data:x.data,groupIndex:x.path.length-1,isExpanded:!!x.data.items,key:x.path.slice(0),values:x.values.slice(0)}),A)if(0===W)Ge.push.apply(Ge,A);else for(var $e=0;$e<A.length;$e++){var ot=A[$e];ot&&"items"in ot?(x.data=ot,x.path.push(ot.key),x.values.push(Ve&&Ve.deserializeValue&&!Ve.calculateDisplayValue?Ve.deserializeValue(ot.key):ot.key),this._processGroupItems(ot.items,W-1,x),x.data=void 0,x.path.pop(),x.values.pop()):Ge.push(ot)}return Ge},publicMethods(){return this.callBase().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])},collapseAll(A){var W=this._dataSource;W&&W.collapseAll(A)&&(W.pageIndex(0),W.reload())},expandAll(A){var W=this._dataSource;W&&W.expandAll(A)&&(W.pageIndex(0),W.reload())},changeRowExpand(A){var W=this,x=W.isRowExpanded(A),Oe={key:A,expanded:x};return W.executeAction(x?"onRowCollapsing":"onRowExpanding",Oe),Oe.cancel?(new w.cY).resolve():(0,w.z7)(W._changeRowExpandCore(A)).done(()=>{Oe.expanded=!x,W.executeAction(x?"onRowCollapsed":"onRowExpanded",Oe)})},_changeRowExpandCore(A){var W=this,x=this._dataSource,Oe=new w.cY;return x?(0,w.z7)(x.changeRowExpand(A)).done(()=>{W.load().done(Oe.resolve).fail(Oe.reject)}).fail(Oe.reject):Oe.resolve(),Oe},isRowExpanded(A){var W=this._dataSource;return W&&W.isRowExpanded(A)},expandRow(A){return this.isRowExpanded(A)?(new w.cY).resolve():this.changeRowExpand(A)},collapseRow(A){return this.isRowExpanded(A)?this.changeRowExpand(A):(new w.cY).resolve()},optionChanged(A){"grouping"===A.name&&(A.name="dataSource"),this.callBase(A)}},columns:{_getExpandColumnOptions(){var A=this.callBase.apply(this,arguments);return A.cellTemplate=le.getExpandCellTemplate(),A}},editing:{_isProcessedItem:A=>(0,l.O9)(A.groupIndex)&&(0,l.Kg)(A.rowType)&&0===A.rowType.indexOf("group")}},views:{headerPanel:nt,rowsView:{getContextMenuItems(A){var x;if(this.option("grouping.contextMenuEnabled")&&A.row&&"group"===A.row.rowType){var Ve=this._columnsController.columnOption("groupIndex:".concat(A.row.groupIndex));if(Ve&&Ve.allowGrouping){var Ke=this.option("grouping.texts"),Ge=Tt.bind(this,Ve);(x=[]).push({text:Ke.ungroup,value:"ungroup",onItemClick:Ge},{text:Ke.ungroupAll,value:"ungroupAll",onItemClick:Ge})}}return x},_rowClick(A){var W=this.option("grouping.expandMode"),Oe="infinite"!==this.option("scrolling.mode")&&"rowClick"===W&&(0,Ie.A)(A.event.target).closest(".".concat("dx-group-row")).length,Ve=(0,Ie.A)(A.event.target).closest(".".concat("dx-datagrid-expand")).length;(Oe||Ve)&&this._changeGroupRowState(A),this.callBase(A)},_changeGroupRowState(A){var W=this.getController("data"),x=W.items()[A.rowIndex],Oe=this._columnsController.columnOption("groupIndex:".concat(x.groupIndex),"allowCollapsing");("data"===x.rowType||"group"===x.rowType&&!1!==Oe)&&(W.changeRowExpand(x.key,!0),A.event.preventDefault(),A.handled=!0)}},columnHeadersView:{getContextMenuItems(A){var W=this.option("grouping.contextMenuEnabled"),x=this.callBase(A);if(W&&A.row&&("header"===A.row.rowType||"detailAdaptive"===A.row.rowType)){var{column:Oe}=A;if(!Oe.command&&(!(0,l.O9)(Oe.allowGrouping)||Oe.allowGrouping)){var Ve=this.option("grouping.texts"),Ke=(0,l.O9)(Oe.groupIndex)&&Oe.groupIndex>-1,Ge=Tt.bind(this,Oe);(x=x||[]).push({text:Ve.groupByThisColumn,value:"group",beginGroup:!0,disabled:Ke,onItemClick:Ge}),Oe.showWhenGrouped&&x.push({text:Ve.ungroup,value:"ungroup",disabled:!Ke,onItemClick:Ge}),x.push({text:Ve.ungroupAll,value:"ungroupAll",onItemClick:Ge})}}return x},allowDragging(A){var W=this.option("groupPanel");return Ht(W,A)||this.callBase(A)}}}}});var Be=i(449);le.registerModule("masterDetail",Be.g);var Se=i(2219);le.registerModule("editorFactory",Se.k);var Ye=i(5713);le.registerModule("editing",(0,oe.X)(!0,{},Ye.l,{extenders:{controllers:{data:{_changeRowExpandCore(A){var W=this._editingController;return Array.isArray(A)&&W&&W.refresh(),this.callBase.apply(this,arguments)}}}}}));var Qe=i(8274);le.registerModule("editingRowBased",Qe.a);var pt=i(1210);le.registerModule("editingFormBased",pt.I);var At=i(3520);le.registerModule("editingCellBased",At.W);var _t=i(9869);le.registerModule("validating",_t.W);var Fe=i(5965);le.registerModule("virtualScrolling",Fe.f),re.extend(Fe.f.extenders.dataSourceAdapter);var Je=i(170);le.registerModule("filterRow",Je.$);var vt=i(6101);le.registerModule("headerFilter",vt.Q);var Ot=i(1271);le.registerModule("filterSync",Ot.a);var it=i(848);le.registerModule("filterBuilder",it.s);var De=i(2570);le.registerModule("filterPanel",De.$);var O=i(6647);le.registerModule("search",O.J);var Q=i(7807);le.registerModule("pager",Q.u);var ve=i(541);le.registerModule("columnsResizingReordering",ve.Q);var st=i(5855);le.registerModule("keyboardNavigation",st.S);var Et=i(5101);function yt(A,W,x,Oe){var Ve=0;if(A<W)for(;Ve<x.items.length;Ve++)yt(A+1,W,x.items[Ve],Oe);A===W&&Oe(x)}function et(A,W){var x;if("map"in A)return A.map(W);var Oe=new Array(A.length);for(x in A)Oe[x]=W(A[x],x);return Oe}function zt(A){return A===Te.zL.count}function Ae(A){var W=(0,t.Hz)(A.selector),x=!("skipEmptyValues"in A)||A.skipEmptyValues,{aggregator:Oe}=A;if("string"==typeof Oe&&!(Oe=Te.zL[Oe]))throw de.sO.Error("E4001",A.aggregator);return{selector:W,aggregator:Oe,skipEmptyValues:x}}const H=T.A.inherit({ctor(A){this._data=A.data,this._groupLevel=A.groupLevel||0,this._totalAggregates=et(A.totalAggregates||[],Ae),this._groupAggregates=et(A.groupAggregates||[],Ae),this._totals=[]},calculate(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})},totalAggregates(){return this._totals},_aggregate(A,W,x){for(var Oe=W.items?W.items.length:0,Ve=0;Ve<A.length;Ve++)if(zt(A[Ve].aggregator))x[Ve]=(x[Ve]||0)+Oe;else for(var Ke=0;Ke<Oe;Ke++)this._accumulate(Ve,A[Ve],x,W.items[Ke])},_calculateTotals(A,W){if(0===A&&(this._totals=this._seed(this._totalAggregates)),A===this._groupLevel)this._aggregate(this._totalAggregates,W,this._totals);else for(var x=0;x<W.items.length;x++)this._calculateTotals(A+1,W.items[x]);0===A&&(this._totals=this._finalize(this._totalAggregates,this._totals))},_calculateGroups(A){var W=this._groupLevel,x=W+1,Oe=this._seed.bind(this,this._groupAggregates),Ve=this._aggregate.bind(this,this._groupAggregates),Ke=this._finalize.bind(this,this._groupAggregates);function Ge($e){$e.aggregates=Oe(x-1),x===W?Ve($e,$e.aggregates):yt(x,W,$e,ot=>{Ve(ot,$e.aggregates)}),$e.aggregates=Ke($e.aggregates)}for(;--x>0;)yt(0,x,A,Ge)},_seed:(A,W)=>et(A,x=>{var{aggregator:Oe}=x;return"seed"in Oe?(0,l.Tn)(Oe.seed)?Oe.seed(W):Oe.seed:NaN}),_accumulate(A,W,x,Oe){var Ve=W.selector(Oe),{aggregator:Ke}=W,{skipEmptyValues:Ge}=W;Ge&&function Wt(A){return A!=A||""===A||null==A}(Ve)||(x[A]=x[A]!=x[A]?Ve:Ke.step(x[A],Ve))},_finalize:(A,W)=>et(A,(x,Oe)=>{var Ve=x.aggregator.finalize;return Ve?Ve(W[Oe]):W[Oe]})});var Jt="groupFooter",qt="totalFooter",ti=function(A,W){var x=(0,Ie.A)(A),{column:Oe}=W,{summaryItems:Ve}=W,Ke=[];if(!Oe.command&&Ve){for(var Ge=0;Ge<Ve.length;Ge++){var $e=Ve[Ge],ot=le.getSummaryText($e,W.summaryTexts);Ke.push((0,Ie.A)("<div>").css("textAlign",$e.alignment||Oe.alignment).addClass("dx-datagrid-summary-item").addClass("dx-datagrid-text-content").addClass($e.cssClass).toggleClass("dx-datagrid-group-text-content","group"===W.rowType).text(ot).attr("aria-label","".concat(Oe.caption," ").concat(ot)))}x.append(Ke)}},oi=function(A,W){var x=A.option("summary.texts")||{};return{totalItem:W.row,summaryItems:W.row.summaryCells[W.columnIndex],summaryTexts:x}},li=function(A){return A.summary||A.aggregates||[]},si=function(A){return A.option("summary.recalculateWhileEditing")},gi=Et.n.inherit({_getRows(){return this._dataController.footerItems()},_getCellOptions(A){return(0,oe.X)(this.callBase(A),oi(this,A))},_renderCellContent(A,W){ti(A,W),this.callBase.apply(this,arguments)},_renderCore(A){var W=!1,x=this._dataController.footerItems()[0];(!A||!A.columnIndices)&&(this.element().empty().addClass("dx-datagrid-total-footer").toggleClass("dx-datagrid-nowrap",!this.option("wordWrapEnabled")),W=!0),x&&x.summaryCells&&x.summaryCells.length&&(this._updateContent(this._renderTable({change:A}),A),W&&this._updateScrollLeftPosition())},_updateContent(A,W){return W&&"update"===W.changeType&&W.columnIndices?this.waitAsyncTemplates().done(()=>{var x=this.getTableElement().find(".dx-row"),Oe=A.find(".dx-row");this._updateCells(x,Oe,W.columnIndices[0])}):this.callBase.apply(this,arguments)},_rowClick(A){var W=this._dataController.footerItems()[A.rowIndex]||{};this.executeAction("onRowClick",(0,oe.X)({},A,W))},_columnOptionChanged(A){var{optionNames:W}=A;A.changeTypes.grouping||(W.width||W.visibleWidth)&&this.callBase(A)},_handleDataChanged(A){var{changeType:W}=A;"update"===A.changeType&&A.repaintChangesOnly?A.totalColumnIndices?A.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[A.totalColumnIndices]}):this.render():("refresh"===W||"append"===W||"prepend"===W)&&this.render()},_createRow(A){var W=this.callBase.apply(this,arguments);return A.rowType===qt&&(W.addClass("dx-footer-row"),W.addClass("dx-cell-focus-disabled"),W.attr("tabindex",0)),W},getHeight(){return this.getElementHeight()},isVisible(){return!!this._dataController.footerItems().length}}),ai={init(){this.callBase.apply(this,arguments),this._totalAggregates=[],this._summaryGetter=n.lQ},summaryGetter(A){if(!arguments.length)return this._summaryGetter;(0,l.Tn)(A)&&(this._summaryGetter=A)},summary(A){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return A}},totalAggregates(){return this._totalAggregates},isLastLevelGroupItemsPagingLocal(){var A=this.summary(),W=A&&A.sortByGroups();return W&&W.length},sortLastLevelGroupItems(A,W,x){var Oe=y.A.multiLevelGroup((0,u.A)(A),W).toArray(),Ve=[];return x.forEach(Ke=>{!function Ge($e,ot,ct,mt){mt=mt||[];for(var Ue=0;Ue<$e.length;Ue++)mt.push($e[Ue].key),1===ot?ct(mt,$e[Ue].items):Ge($e[Ue].items,ot-1,ct,mt),mt.pop()}(Oe,W.length,(Ge,$e)=>{Ke.toString()===Ge.toString()&&(Ve=Ve.concat($e))})}),Ve}},mi=function(){var A=function(x,Oe,Ve,Ke){var Ge;if(si(x)){var $e=x.getController("editing");if($e){var ot=$e.getInsertedData();ot.length&&(Ve=function mt(Ue,qe,rt){return rt?mt(Ue,qe.map(gt=>({items:[gt]}),rt-1)):Ue.concat(qe)}(Ve,ot,Ke));var ct=$e.getRemovedData();ct.length&&(Ve=function mt(Ue,qe,rt){return rt?Ue.map(gt=>{var ft={},wt=mt(gt.items||[],qe,rt-1);return Object.defineProperty(ft,"aggregates",{get:()=>gt.aggregates,set:Bt=>{gt.aggregates=Bt}}),(0,oe.X)(ft,gt,{items:wt})}):Ue.filter(gt=>qe.indexOf(gt)<0)}(Ve,ct,Ke))}}return Oe&&(Ge=new H({totalAggregates:Oe.totalAggregates,groupAggregates:Oe.groupAggregates,data:Ve,groupLevel:Ke})).calculate(),Ge?Ge.totalAggregates():[]},W=function(x,Oe,Ve){var Ke=Ve&&Ve.sortByGroups&&Ve.sortByGroups();return Ke&&Ke.length?function Ge($e,ot,ct){if(!$e||!ot.length)return $e;var qe,Ue=ct[0];return ot[0]&&Ue&&Ue.length&&(qe=(0,u.A)($e),(0,o.__)(Ue,function(rt){qe=0===rt?qe.sortBy(this.selector,this.desc):qe.thenBy(this.selector,this.desc)}),qe.enumerate().done(rt=>{$e=rt})),ot=ot.slice(1),ct=ct.slice(1),ot.length&&ct.length&&(0,o.__)($e,function(){this.items=Ge(this.items,ot,ct)}),$e}(x,Oe,Ke):x};return{_customizeRemoteOperations(x){var Oe=this.summary();Oe&&(x.remoteOperations.summary?(!x.isCustomLoading||x.storeLoadOptions.isLoadingAll)&&(x.storeLoadOptions.group&&(x.remoteOperations.grouping?x.storeLoadOptions.groupSummary=Oe.groupAggregates:Oe.groupAggregates.length&&(x.remoteOperations.paging=!1)),x.storeLoadOptions.totalSummary=Oe.totalAggregates):(Oe.totalAggregates.length||Oe.groupAggregates.length&&x.storeLoadOptions.group)&&(x.remoteOperations.paging=!1)),this.callBase.apply(this,arguments);var Ve=x.cachedData.extra;Ve&&Ve.summary&&!x.isCustomLoading&&(x.storeLoadOptions.totalSummary=void 0)},_handleDataLoadedCore(x){var Oe,Ve,Ke=(0,Te.st)(x.storeLoadOptions.group||x.loadOptions.group||[]),Ge=x.remoteOperations||{},$e=this.summaryGetter()(Ge);if(!x.isCustomLoading||x.storeLoadOptions.isLoadingAll)if(Ge.summary)!Ge.paging&&Ke.length&&$e&&(Ge.grouping||A(this,{groupAggregates:$e.groupAggregates},x.data,Ke.length),x.data=W(x.data,Ke,$e));else if(!Ge.paging&&$e){var ot=x.operationTypes||{};if(!Object.keys(ot).some(Ue=>ot[Ue])||null===(Ve=null===(Oe=x.cachedData)||void 0===Oe?void 0:Oe.extra)||void 0===Ve||!Ve.summary||Ke.length&&$e.groupAggregates.length){var mt=A(this,$e,x.data,Ke.length);x.extra=(0,l.Qd)(x.extra)?x.extra:{},x.extra.summary=mt,x.cachedData&&(x.cachedData.extra=x.extra)}x.data=W(x.data,Ke,$e)}x.isCustomLoading||(this._totalAggregates=x.extra&&x.extra.summary||this._totalAggregates),this.callBase(x)}}}();re.extend(ai),re.extend(mi),le.registerModule("summary",{defaultOptions:()=>({summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:J.A.format("dxDataGrid-summarySum"),sumOtherColumn:J.A.format("dxDataGrid-summarySumOtherColumn"),min:J.A.format("dxDataGrid-summaryMin"),minOtherColumn:J.A.format("dxDataGrid-summaryMinOtherColumn"),max:J.A.format("dxDataGrid-summaryMax"),maxOtherColumn:J.A.format("dxDataGrid-summaryMaxOtherColumn"),avg:J.A.format("dxDataGrid-summaryAvg"),avgOtherColumn:J.A.format("dxDataGrid-summaryAvgOtherColumn"),count:J.A.format("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}),views:{footerView:gi},extenders:{controllers:{data:{_isDataColumn:A=>A&&(!(0,l.O9)(A.groupIndex)||A.showWhenGrouped),_isGroupFooterVisible(){for(var A=this.option("summary.groupItems")||[],W=0;W<A.length;W++){var x=A[W],Oe=this._columnsController.columnOption(x.showInColumn||x.column);if(x.showInGroupFooter&&this._isDataColumn(Oe))return!0}return!1},_processGroupItems(A,W,x){var Oe=x&&x.data,Ve=this.callBase.apply(this,arguments);return x&&(void 0===x.isGroupFooterVisible&&(x.isGroupFooterVisible=this._isGroupFooterVisible()),Oe&&Oe.items&&x.isGroupFooterVisible&&(x.collectContinuationItems||!Oe.isContinuationOnNextPage)&&Ve.push({rowType:Jt,key:x.path.slice(),data:Oe,groupIndex:x.path.length-1,values:[]})),Ve},_processGroupItem(A,W){var x=this;if(W.summaryGroupItems||(W.summaryGroupItems=x.option("summary.groupItems")||[]),"group"===A.rowType){var Oe=-1,Ve=-1;(0,o.__)(W.visibleColumns,function(Ke){A.groupIndex===this.groupIndex&&(Oe=this.index),Ke>0&&"expand"===W.visibleColumns[Ke-1].command&&"expand"!==this.command&&(Ve=this.index)}),A.summaryCells=this._calculateSummaryCells(W.summaryGroupItems,li(A.data),W.visibleColumns,(Ke,Ge)=>Ke.showInGroupFooter?-1:Ke.alignByColumn&&Ge&&!(0,l.O9)(Ge.groupIndex)&&Ge.index!==Ve?Ge.index:Oe,!0)}return A.rowType===Jt&&(A.summaryCells=this._calculateSummaryCells(W.summaryGroupItems,li(A.data),W.visibleColumns,(Ke,Ge)=>Ke.showInGroupFooter&&x._isDataColumn(Ge)?Ge.index:-1)),A},_calculateSummaryCells(A,W,x,Oe,Ve){var Ke=this,Ge=[],$e={};return(0,o.__)(A,(ot,ct)=>{var mt=Ke._columnsController.columnOption(ct.column),Ue=ct.showInColumn&&Ke._columnsController.columnOption(ct.showInColumn)||mt,qe=Oe(ct,Ue);if(qe>=0){$e[qe]||($e[qe]=[]);var gt,rt=W[ot];rt==rt&&((0,l.O9)(ct.valueFormat)?gt=ct.valueFormat:"count"!==ct.summaryType&&(gt=le.getFormatByDataType(mt&&mt.dataType)),$e[qe].push((0,oe.X)({},ct,{value:(0,l.Kg)(rt)&&mt&&mt.deserializeValue?mt.deserializeValue(rt):rt,valueFormat:gt,columnCaption:mt&&mt.index!==qe?mt.caption:void 0})))}}),(0,l.RI)($e)||x.forEach((ot,ct)=>{var mt=x[ct-1];Ge.push($e[!Ve||"expand"!==mt?.command&&"expand"!==ot.command?ot.index:mt?.index]||[])}),Ge},_getSummaryCells(A,W){var x=this;return x._calculateSummaryCells(A,W,x._columnsController.getVisibleColumns(),(Ve,Ke)=>x._isDataColumn(Ke)?Ke.index:-1)},_updateItemsCore(A){var W,x=this._dataSource,Oe=this._footerItems,Ve=Oe&&Oe[0]&&Oe[0].summaryCells,Ke=this.option("summary.totalItems");if(this._footerItems=[],x&&Ke&&Ke.length){var Ge=x.totalAggregates();W=this._getSummaryCells(Ke,Ge),A&&A.repaintChangesOnly&&Ve&&(A.totalColumnIndices=W.map(($e,ot)=>JSON.stringify($e)!==JSON.stringify(Ve[ot])?ot:-1).filter($e=>$e>=0)),W.length&&this._footerItems.push({rowType:qt,summaryCells:W})}this.callBase(A)},_prepareUnsavedDataSelector(A){if(si(this)){var W=this.getController("editing");if(W)return function(x){return x=W.getUpdatedData(x),A(x)}}return A},_prepareAggregateSelector(A,W){return A=this._prepareUnsavedDataSelector(A),"avg"===W||"sum"===W?function(x){var Oe=A(x);return(0,l.O9)(Oe)?Number(Oe):Oe}:A},_getAggregates(A,W){var x=this,Oe=x.getController("columns"),Ve=x.option("summary.calculateCustomSummary"),Ke=x.option("summary.skipEmptyValues");return(0,o.Tj)(A||[],Ge=>{var $e=Oe.columnOption(Ge.column),ot=$e&&$e.calculateCellValue?$e.calculateCellValue.bind($e):(0,t.Hz)($e?$e.dataField:Ge.column),ct=Ge.summaryType||"count",mt=(0,l.O9)(Ge.skipEmptyValues)?Ge.skipEmptyValues:Ke;if(W)return{selector:Ge.column,summaryType:ct};var Ue=x._prepareAggregateSelector(ot,ct);if("custom"===ct){Ve||(q.A.log("E1026"),Ve=function(){});var qe={component:x.component,name:Ge.name};Ve(qe),qe.summaryProcess="calculate",ct={seed:rt=>(qe.summaryProcess="start",qe.totalValue=void 0,qe.groupIndex=rt,delete qe.value,Ve(qe),qe.totalValue),step:(rt,gt)=>(qe.summaryProcess="calculate",qe.totalValue=rt,qe.value=gt,Ve(qe),qe.totalValue),finalize:rt=>(qe.summaryProcess="finalize",qe.totalValue=rt,delete qe.value,Ve(qe),qe.totalValue)}}return{selector:Ue,aggregator:ct,skipEmptyValues:mt}})},_addSortInfo(A,W,x,Oe){if(W){var{groupIndex:Ve}=W;Oe=Oe||W.sortOrder,(0,l.O9)(Ve)&&(A[Ve]=A[Ve]||[],A[Ve].push({selector:x,desc:"desc"===Oe}))}},_findSummaryItem(A,W){var x=-1;return(0,l.O9)(W)&&(0,o.__)(A||[],function(Oe){if(this.name===W||Oe===W||this.summaryType===W||this.column===W||function(Ve){var{summaryType:Ke}=Ve,{column:Ge}=Ve;return Ke&&Ge&&"".concat(Ke,"_").concat(Ge)}(this)===W)return x=Oe,!1}),x},_getSummarySortByGroups(A,W){var x=this,Oe=x._columnsController,Ve=Oe.getGroupColumns(),Ke=[];if(W&&W.length)return(0,o.__)(A||[],function(){var{sortOrder:Ge}=this,{groupColumn:$e}=this,ot=x._findSummaryItem(W,this.summaryItem);if(!(ot<0)){var ct=function(mt){return li(mt)[ot]};(0,l.O9)($e)?($e=Oe.columnOption($e),x._addSortInfo(Ke,$e,ct,Ge)):(0,o.__)(Ve,(mt,Ue)=>{x._addSortInfo(Ke,Ue,ct,Ge)})}}),Ke},_createDataSourceAdapterCore(A,W){var x=this,Oe=this.callBase(A,W);return Oe.summaryGetter(Ve=>x._getSummaryOptions(Ve||W)),Oe},_getSummaryOptions(A){var W=this,x=W.option("summary.groupItems"),Oe=W.option("summary.totalItems"),Ve=W.option("sortByGroupSummaryInfo"),Ke=W._getAggregates(x,A&&A.grouping&&A.summary),Ge=W._getAggregates(Oe,A&&A.summary);if(Ke.length||Ge.length)return{groupAggregates:Ke,totalAggregates:Ge,sortByGroups:function(){return W._getSummarySortByGroups(Ve,x)}}},publicMethods(){var A=this.callBase();return A.push("getTotalSummaryValue"),A},getTotalSummaryValue(A){var W=this._findSummaryItem(this.option("summary.totalItems"),A),x=this._dataSource.totalAggregates();if(x.length&&W>-1)return x[W]},optionChanged(A){("summary"===A.name||"sortByGroupSummaryInfo"===A.name)&&(A.name="dataSource"),this.callBase(A)},init(){this._footerItems=[],this.callBase()},footerItems(){return this._footerItems}},editing:{_refreshSummary(){si(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})},_addChange(A){var W=this.callBase.apply(this,arguments);return A.type&&this._refreshSummary(),W},_removeChange(){var A=this.callBase.apply(this,arguments);return this._refreshSummary(),A},cancelEditData(){var A=this.callBase.apply(this,arguments);return this._refreshSummary(),A}}},views:{rowsView:{_createRow(A){var W=this.callBase.apply(this,arguments);return A&&W.addClass(A.rowType===Jt?"dx-datagrid-group-footer":""),W},_renderCells(A,W){this.callBase.apply(this,arguments),"group"===W.row.rowType&&W.row.summaryCells&&W.row.summaryCells.length&&this._renderGroupSummaryCells(A,W)},_hasAlignByColumnSummaryItems:(A,W)=>!(0,l.O9)(W.columns[A].groupIndex)&&W.row.summaryCells[A].length,_getAlignByColumnCellCount(A,W){for(var x=0,Oe=1;Oe<A;Oe++)x=this._hasAlignByColumnSummaryItems(W.row.summaryCells.length-Oe,W)?Oe:x;return x},_renderGroupSummaryCells(A,W){var x=A.children().last(),Oe=Number(x.attr("colSpan"))||1,Ve=this._getAlignByColumnCellCount(Oe,W);this._renderGroupSummaryCellsCore(x,W,Oe,Ve)},_renderGroupSummaryCellsCore(A,W,x,Oe){if(Oe>0){A.attr("colSpan",x-Oe);for(var Ve=0;Ve<Oe;Ve++){var Ke=W.columns.length-Oe+Ve;this._renderCell(A.parent(),(0,oe.X)({column:W.columns[Ke],columnIndex:this._getSummaryCellIndex(Ke,W.columns)},W))}}},_getSummaryCellIndex:A=>A,_getCellTemplate(A){return!A.column.command&&!(0,l.O9)(A.column.groupIndex)&&A.summaryItems&&A.summaryItems.length?ti:this.callBase(A)},_getCellOptions(A){var W=this.callBase(A);return A.row.summaryCells?(0,oe.X)(W,oi(this,A)):W}}}}});var ci=i(9725);le.registerModule("columnFixing",ci.o);var pi=i(1701);le.registerModule("adaptivity",pi.A);var jt=i(56);le.registerModule("virtualColumns",jt.j);var vi=i(2839),wi=i(3798),Wi=i(4874),Ai=i(6311),hi="dx-buttongroup",Ii=hi+"-wrapper",fi=hi+"-item",Ci=hi+"-first-item",Ki=hi+"-last-item",Ei=fi+"-has-width",_i={contained:"dx-buttongroup-mode-contained",outlined:"dx-buttongroup-mode-outlined",text:"dx-buttongroup-mode-text"},xi=Wi.A.inherit({_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Ai.U((A,W,x)=>{this._prepareItemStyles(A);var Oe=this.option("buttonTemplate");this._createComponent(A,vi.A,(0,oe.X)({},x,W,this._getBasicButtonOptions(),{_templateData:this._hasCustomTemplate(Oe)?x:{},template:x.template||Oe}))},["text","type","icon","disabled","visible","hint"],this.option("integrationOptions.watchMethod"))})},_getBasicButtonOptions(){return{focusStateEnabled:!1,onClick:null,hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode")}},_getDefaultOptions:function(){return(0,oe.X)(this.callBase(),{itemTemplateProperty:null})},_hasCustomTemplate(A){return(0,l.Tn)(A)||this.option("integrationOptions.templates")[A]},_selectedItemClass:()=>"dx-item-selected dx-state-selected",_prepareItemStyles(A){var W=A.data("dxItemIndex");0===W&&A.addClass(Ci);var x=this.option("items");x&&W===x.length-1&&A.addClass(Ki),A.addClass("dx-shape-standard")},_renderItemContent(A){return A.container=(0,Ie.A)(A.container).parent(),this.callBase(A)},_setAriaSelectionAttribute:function(A,W){this.setAria("pressed",W,A)},_renderItemContentByNode:function(A,W){return A.container=(0,Ie.A)(A.container.children().first()),this.callBase(A,W)},_focusTarget(){return this.$element().parent()},_keyboardEventBindingTarget(){return this._focusTarget()},_refreshContent(){this._prepareContent(),this._renderContent()},_itemClass:()=>fi,_itemSelectHandler:function(A){"single"===this.option("selectionMode")&&this.isItemSelected(A.currentTarget)||this.callBase(A)}}),yi=h.A.inherit({_getDefaultOptions(){return(0,oe.X)(this.callBase(),{hoverStateEnabled:!0,focusStateEnabled:!0,selectionMode:"single",selectedItems:[],selectedItemKeys:[],stylingMode:"contained",keyExpr:"text",items:[],buttonTemplate:"content",onSelectionChanged:null,onItemClick:null})},_init(){this.callBase(),this._createItemClickAction()},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_initMarkup(){this.setAria("role","group"),this.$element().addClass(hi),this._renderStylingMode(),this._renderButtons(),this._syncSelectionOptions(),this.callBase()},_renderStylingMode(){var A,{stylingMode:W}=this.option();for(var x in _i)this.$element().removeClass(_i[x]);this.$element().addClass(null!==(A=_i[W])&&void 0!==A?A:_i.contained)},_fireSelectionChangeEvent:function(A,W){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:A,removedItems:W})},_renderButtons(){var A=(0,Ie.A)("<div>").addClass(Ii).appendTo(this.$element()),W=this.option("selectedItems"),x={selectionMode:this.option("selectionMode"),items:this.option("items"),keyExpr:this.option("keyExpr"),buttonTemplate:this.option("buttonTemplate"),scrollingEnabled:!1,selectedItemKeys:this.option("selectedItemKeys"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode"),accessKey:this.option("accessKey"),tabIndex:this.option("tabIndex"),noDataText:"",selectionRequired:!1,onItemRendered:Oe=>{var Ve=this.option("width");(0,l.O9)(Ve)&&(0,Ie.A)(Oe.itemElement).addClass(Ei)},onSelectionChanged:Oe=>{this._syncSelectionOptions(),this._fireSelectionChangeEvent(Oe.addedItems,Oe.removedItems)},onItemClick:Oe=>{this._itemClickAction(Oe)}};(0,l.O9)(W)&&W.length&&(x.selectedItems=W),this._buttonsCollection=this._createComponent(A,xi,x)},_syncSelectionOptions(){this._setOptionWithoutOptionChange("selectedItems",this._buttonsCollection.option("selectedItems")),this._setOptionWithoutOptionChange("selectedItemKeys",this._buttonsCollection.option("selectedItemKeys"))},_optionChanged(A){switch(A.name){case"stylingMode":case"selectionMode":case"keyExpr":case"buttonTemplate":case"items":case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":case"tabIndex":this._invalidate();break;case"selectedItemKeys":case"selectedItems":this._buttonsCollection.option(A.name,A.value);break;case"onItemClick":this._createItemClickAction();break;case"onSelectionChanged":break;case"width":this.callBase(A),this._buttonsCollection.itemElements().toggleClass(Ei,!!A.value);break;default:this.callBase(A)}}});(0,Pe.A)("dxButtonGroup",yi);const Ri=yi;var Re=i(4633),E=i(6536),e=i(181),ne=i(6018),je=i(764),at=i(5333),bt=i(2097),Vt=i(3992),Kt=i(5154),Xt="dx-dropdownbutton",ui="dx-dropdownbutton-action",di="dx-dropdownbutton-toggle",Fi=h.A.inherit({_getDefaultOptions(){return(0,oe.X)(this.callBase(),{itemTemplate:"item",keyExpr:"this",displayExpr:void 0,selectedItem:null,selectedItemKey:null,stylingMode:"outlined",deferRendering:!0,noDataText:J.A.format("dxCollectionWidget-noDataText"),useSelectMode:!1,splitButton:!1,showArrowIcon:!0,text:"",type:"normal",icon:void 0,onButtonClick:null,onSelectionChanged:null,onItemClick:null,opened:!1,items:null,dataSource:null,focusStateEnabled:!0,hoverStateEnabled:!0,dropDownOptions:{},dropDownContentTemplate:"content",wrapItemText:!1,useItemTextAsTitle:!0,grouped:!1,groupTemplate:"group",buttonGroupOptions:{}})},_setOptionsByReference(){this.callBase(),(0,oe.X)(this._optionsByReference,{selectedItem:!0})},_init(){this.callBase(),this._createItemClickAction(),this._createActionClickAction(),this._createSelectionChangedAction(),this._initDataSource(),this._compileKeyGetter(),this._compileDisplayGetter(),this._itemsToDataSource(this.option("items")),this._options.cache("buttonGroupOptions",this.option("buttonGroupOptions")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_initTemplates(){this._templateManager.addDefaultTemplates({content:new wi.l(A=>{var W=(0,Ie.A)(A.container),x=(0,Ie.A)("<div>").appendTo(W);this._list=this._createComponent(x,E.A,this._listOptions()),this._list.registerKeyHandler("escape",this._escHandler.bind(this)),this._list.registerKeyHandler("tab",this._escHandler.bind(this)),this._list.registerKeyHandler("leftArrow",this._escHandler.bind(this)),this._list.registerKeyHandler("rightArrow",this._escHandler.bind(this))})}),this.callBase()},_itemsToDataSource:function(A){this._dataSource||(this._dataSource=new at.q({store:new bt.A({key:this._getKey(),data:A}),pageSize:0}))},_getKey:function(){var A,W=this.option("keyExpr"),x=null===(A=this._dataSource)||void 0===A?void 0:A.key();return!(0,l.O9)(x)||(0,l.O9)(W)&&"this"!==W?W:x},_compileKeyGetter(){this._keyGetter=(0,t.Hz)(this._getKey())},_compileDisplayGetter(){this._displayGetter=(0,t.Hz)(this.option("displayExpr"))},_initMarkup(){this.callBase(),this.$element().addClass(Xt),this._renderButtonGroup(),this._updateArrowClass(),(0,l.O9)(this.option("selectedItemKey"))&&this._loadSelectedItem().done(this._updateActionButton.bind(this))},_renderFocusTarget:n.lQ,_render(){(!this.option("deferRendering")||this.option("opened"))&&this._renderPopup(),this.callBase()},_renderContentImpl(){return this._popup&&this._renderPopupContent(),this.callBase()},_loadSelectedItem(){var A;null===(A=this._loadSingleDeferred)||void 0===A||A.reject();var W=new w.cY;if(this._list&&void 0!==this._lastSelectedItemData){var x=this.option("useSelectMode")?this._list.option("selectedItem"):this._lastSelectedItemData;return W.resolve(x)}this._lastSelectedItemData=void 0;var Oe=this.option("selectedItemKey");return this._loadSingle(this._getKey(),Oe).done(W.resolve).fail(()=>{W.resolve(null)}),this._loadSingleDeferred=W,W.promise()},_createActionClickAction(){this._actionClickAction=this._createActionByOption("onButtonClick")},_createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged")},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_fireSelectionChangedAction(A){var{previousValue:W,value:x}=A;this._selectionChangedAction({item:x,previousItem:W})},_fireItemClickAction(A){var{event:W,itemElement:x,itemData:Oe}=A;return this._itemClickAction({event:W,itemElement:x,itemData:this._actionItem||Oe})},_actionButtonConfig(){var{icon:A,text:W,type:x}=this.option();return{text:W,icon:A,type:x,elementAttr:{class:ui}}},_getButtonGroupItems(){var{splitButton:A,type:W}=this.option(),x=[];return x.push(this._actionButtonConfig()),A&&x.push({icon:"spindown",type:W,elementAttr:{class:di}}),x},_buttonGroupItemClick(A){var{event:W,itemData:x}=A,Oe=x.elementAttr.class===ui;x.elementAttr.class===di?this.toggle():Oe&&(this._actionClickAction({event:W,selectedItem:this.option("selectedItem")}),this.option("splitButton")||this.toggle())},_buttonGroupOptions(){var{splitButton:A,showArrowIcon:W,focusStateEnabled:x,hoverStateEnabled:Oe,stylingMode:Ve,accessKey:Ke,tabIndex:Ge}=this.option(),$e=A||!W?"content":(ot,ct)=>{var{text:mt,icon:Ue}=ot,qe=(0,ne.N)(Ue),rt=mt?(0,Ie.A)("<span>").text(mt).addClass("dx-button-text"):void 0,gt=(0,ne.N)("spindown").addClass("dx-icon-right");(0,Ie.A)(ct).append(qe,rt,gt)};return(0,oe.X)({items:this._getButtonGroupItems(),onItemClick:this._buttonGroupItemClick.bind(this),width:"100%",height:"100%",selectionMode:"none",onKeyboardHandled:ot=>this._keyboardHandler(ot),buttonTemplate:$e,focusStateEnabled:x,hoverStateEnabled:Oe,stylingMode:Ve,accessKey:Ke,tabIndex:Ge},this._options.cache("buttonGroupOptions"))},_renderPopupContent(){var A=this._popup.$content(),W=this._getTemplateByOption("dropDownContentTemplate");return A.empty(),this._popupContentId="dx-"+new Vt.A,this.setAria("id",this._popupContentId,A),W.render({container:(0,e.c)(A),model:this.option("items")||this._dataSource})},_popupOptions(){var A=this.option("rtlEnabled")?"right":"left";return(0,oe.X)({dragEnabled:!1,focusStateEnabled:!1,deferRendering:this.option("deferRendering"),hideOnOutsideClick:W=>{var x=this.$element();return!(0,Ie.A)(W.target).closest(".".concat(Xt)).is(x)},showTitle:!1,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},_ignoreFunctionValueDeprecation:!0,width:()=>(0,Kt.v)(this.$element()),height:"auto",shading:!1,position:{of:this.$element(),collision:"flipfit",my:A+" top",at:A+" bottom"},_wrapperClassExternal:"dx-dropdowneditor-overlay"},this._options.cache("dropDownOptions"),{visible:this.option("opened")})},_listOptions(){var A=this.option("selectedItemKey"),W=this.option("useSelectMode");return{selectionMode:W?"single":"none",wrapItemText:this.option("wrapItemText"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:()=>this._fireContentReadyAction(),selectedItemKeys:(0,l.O9)(A)&&W?[A]:[],grouped:this.option("grouped"),groupTemplate:this.option("groupTemplate"),keyExpr:this._getKey(),noDataText:this.option("noDataText"),displayExpr:this.option("displayExpr"),itemTemplate:this.option("itemTemplate"),items:this.option("items"),dataSource:this._dataSource,onItemClick:x=>{this.option("useSelectMode")||(this._lastSelectedItemData=x.itemData),this.option("selectedItemKey",this._keyGetter(x.itemData)),!1!==this._fireItemClickAction(x)&&(this.toggle(!1),this._buttonGroup.focus())}}},_upDownKeyHandler(){return this._popup&&this._popup.option("visible")&&this._list?this._list.focus():this.open(),!0},_escHandler(){return this.close(),this._buttonGroup.focus(),!0},_tabHandler(){return this.close(),!0},_renderPopup(){var A=(0,Ie.A)("<div>");this.$element().append(A),this._popup=this._createComponent(A,Re.A,this._popupOptions()),this._popup.$content().addClass("dx-dropdownbutton-content"),this._popup.$wrapper().addClass("dx-dropdownbutton-popup-wrapper"),this._popup.on("hiding",this._popupHidingHandler.bind(this)),this._popup.on("showing",this._popupShowingHandler.bind(this)),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_popupHidingHandler(){this.option("opened",!1),this._updateAriaAttributes(!1)},_popupOptionChanged:function(A){var W=h.A.getOptionsFromContainer(A);this._setPopupOption(W);var x=Object.keys(W);(-1!==x.indexOf("width")||-1!==x.indexOf("height"))&&this._dimensionChanged()},_dimensionChanged:function(){void 0===(0,Kt.b)(this.option("dropDownOptions.width"))&&this._setPopupOption("width",()=>(0,Kt.v)(this.$element()))},_setPopupOption:function(A,W){this._setWidgetOption("_popup",arguments)},_popupShowingHandler(){this.option("opened",!0),this._updateAriaAttributes(!0)},_setElementAria(A){this.setAria({owns:A?this._popupContentId:void 0},this.$element())},_setButtonsAria(A){var W={expanded:A,haspopup:"listbox"},x={};this.option("text")||(x.label="dropdownbutton"),this._getButtons().each((Oe,Ve)=>{this.setAria(0===Oe?(0,_e.A)({},x,W):W,(0,Ie.A)(Ve))})},_updateAriaAttributes(A){this._setElementAria(A),this._setButtonsAria(A)},_getButtons(){return this._buttonGroup.$element().find(".".concat("dx-button"))},_renderButtonGroup(){var A=this._buttonGroup&&this._buttonGroup.$element()||(0,Ie.A)("<div>");this._buttonGroup||this.$element().append(A),this._buttonGroup=this._createComponent(A,Ri,this._buttonGroupOptions()),this._buttonGroup.registerKeyHandler("downArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("tab",this._tabHandler.bind(this)),this._buttonGroup.registerKeyHandler("upArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("escape",this._escHandler.bind(this)),this._bindInnerWidgetOptions(this._buttonGroup,"buttonGroupOptions"),this._updateAriaAttributes(this.option("opened"))},_updateArrowClass(){var A=this.option("splitButton")||this.option("showArrowIcon");this.$element().toggleClass("dx-dropdownbutton-has-arrow",A)},toggle(A){return this._popup||(this._renderPopup(),this._renderContent()),this._popup.toggle(A)},open(){return this.toggle(!0)},close(){return this.toggle(!1)},_setListOption(A,W){this._list&&this._list.option(A,W)},_getDisplayValue(A){var x=(0,l.Qd)(A)?this._displayGetter(A):A;return(0,l.Qd)(x)?"":String((0,n.YD)(x,""))},_updateActionButton(A){this.option("useSelectMode")&&this.option({text:this._getDisplayValue(A),icon:(0,l.Qd)(A)?A.icon:void 0}),this._setOptionWithoutOptionChange("selectedItem",A),this._setOptionWithoutOptionChange("selectedItemKey",this._keyGetter(A))},_clean(){this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove()},_selectedItemKeyChanged(A){this._setListOption("selectedItemKeys",this.option("useSelectMode")&&(0,l.O9)(A)?[A]:[]);var W=this.option("selectedItem");this._loadSelectedItem().done(x=>{this._updateActionButton(x),this._displayGetter(W)!==this._displayGetter(x)&&this._fireSelectionChangedAction({previousValue:W,value:x})})},_updateButtonGroup(A,W){this._buttonGroup.option(A,W),this._updateAriaAttributes(this.option("opened"))},_actionButtonOptionChanged(A){var{name:W,value:x}=A,Oe={};Oe[W]=x,this._updateButtonGroup("items[0]",(0,oe.X)({},this._actionButtonConfig(),Oe)),this._popup&&this._popup.repaint()},_selectModeChanged(A){if(A){this._setListOption("selectionMode","single");var W=this.option("selectedItemKey");this._setListOption("selectedItemKeys",(0,l.O9)(W)?[W]:[]),this._selectedItemKeyChanged(this.option("selectedItemKey"))}else this._setListOption("selectionMode","none"),this.option({selectedItemKey:void 0,selectedItem:void 0}),this._actionButtonOptionChanged({text:this.option("text")})},_updateItemCollection(A){var W=this.option("selectedItemKey");this._setListOption("selectedItem",null),this._setWidgetOption("_list",[A]),(0,l.O9)(W)&&this._loadSelectedItem().done(x=>{this._setListOption("selectedItemKeys",[W]),this._setListOption("selectedItem",x)}).fail(x=>{this._setListOption("selectedItemKeys",[])}).always(this._updateActionButton.bind(this))},_updateDataSource:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._dataSource.items();this._dataSource=void 0,this._itemsToDataSource(A),this._updateKeyExpr()},_updateKeyExpr:function(){this._compileKeyGetter(),this._setListOption("keyExpr",this._getKey())},focus:function(){this._buttonGroup.focus()},_optionChanged(A){var W,{name:x,value:Oe}=A;switch(x){case"useSelectMode":this._selectModeChanged(Oe);break;case"splitButton":this._updateArrowClass(),this._renderButtonGroup();break;case"displayExpr":this._compileDisplayGetter(),this._setListOption(x,Oe),this._updateActionButton(this.option("selectedItem"));break;case"keyExpr":this._updateDataSource();break;case"buttonGroupOptions":this._innerWidgetOptionChanged(this._buttonGroup,A);break;case"dropDownOptions":if("dropDownOptions.visible"===A.fullName)break;void 0!==A.value.visible&&delete A.value.visible,this._popupOptionChanged(A),this._innerWidgetOptionChanged(this._popup,A);break;case"opened":this.toggle(Oe);break;case"focusStateEnabled":case"hoverStateEnabled":this._setListOption(x,Oe),this._updateButtonGroup(x,Oe),this.callBase(A);break;case"items":this._updateDataSource(this.option("items")),this._updateItemCollection(x);break;case"dataSource":Array.isArray(Oe)?this._updateDataSource(this.option("dataSource")):(this._initDataSource(),this._updateKeyExpr()),this._updateItemCollection(x);break;case"icon":case"text":this._actionButtonOptionChanged(A);break;case"showArrowIcon":this._updateArrowClass(),this._renderButtonGroup(),this._popup&&this._popup.repaint();break;case"width":case"height":this.callBase(A),null===(W=this._popup)||void 0===W||W.repaint();break;case"stylingMode":case"tabIndex":this._updateButtonGroup(x,Oe);break;case"type":this._updateButtonGroup("items",this._getButtonGroupItems());break;case"itemTemplate":case"grouped":case"noDataText":case"groupTemplate":case"wrapItemText":case"useItemTextAsTitle":this._setListOption(x,Oe);break;case"dropDownContentTemplate":this._renderContent();break;case"selectedItemKey":this._selectedItemKeyChanged(Oe);break;case"selectedItem":break;case"onItemClick":this._createItemClickAction();break;case"onButtonClick":this._createActionClickAction();break;case"onSelectionChanged":this._createSelectionChangedAction();break;case"deferRendering":this.toggle(this.option("opened"));break;default:this.callBase(A)}}}).include(je.A);(0,Pe.A)("dxDropDownButton",Fi);var Vi=i(448),Oi=i(370),ki="dx-datagrid-export-button";class Zi{constructor(W,x,Oe){this._exportController=W,this._initialColumnWidthsByColumnIndex=x,this._selectedRowsOnly=Oe}_getGroupValue(W){var{key:x,data:Oe,rowType:Ve,groupIndex:Ke,summaryCells:Ge}=W,$e=this._options.groupColumns[Ke],ot=le.getDisplayValue($e,$e.deserializeValue?$e.deserializeValue(x[Ke]):x[Ke],Oe,Ve),ct="".concat($e.caption,": ").concat(le.formatValue(ot,$e));return Ge&&Ge[0]&&Ge[0].length&&(ct+=" ".concat(le.getGroupRowSummaryText(Ge[0],this._options.summaryTexts))),ct}_correctCellIndex(W){return W}_initOptions(){var W=this._exportController,x=W._columnsController.getGroupColumns();this._options={columns:W._getColumns(this._initialColumnWidthsByColumnIndex),groupColumns:x,items:this._selectedRowsOnly||W._selectionOnly?W._getSelectedItems():W._getAllItems(),isHeadersVisible:W.option("showColumnHeaders"),summaryTexts:W.option("summary.texts"),rtlEnabled:W.option("rtlEnabled")}}getHeaderStyles(){return[{bold:!0,alignment:"center"},{bold:!0,alignment:"left"},{bold:!0,alignment:"right"}]}getGroupRowStyle(){return{bold:!0,alignment:(0,Vi.n)(this._options.rtlEnabled)}}getColumnStyles(){var W=[];return this.getColumns().forEach(x=>{W.push({alignment:x.alignment||"left",format:x.format,dataType:x.dataType})}),W}getStyles(){return[...this.getHeaderStyles(),...this.getColumnStyles(),this.getGroupRowStyle()]}_getTotalCellStyleId(W){var x,Oe=(null===(x=this.getColumns()[W])||void 0===x?void 0:x.alignment)||"right";return this.getHeaderStyles().map(Ve=>Ve.alignment).indexOf(Oe)}getStyleId(W,x){return W<this.getHeaderRowCount()?0:this.isTotalCell(W-this.getHeaderRowCount(),x)?this._getTotalCellStyleId(x):this.isGroupRow(W-this.getHeaderRowCount())?this.getHeaderStyles().length+this.getColumns().length:x+this.getHeaderStyles().length}getColumns(W){var{columns:x}=this._options;return W?x:x[x.length-1]}getColumnsWidths(){var W=this.getColumns();return(0,l.O9)(W)?W.map(x=>x.width):void 0}getRowsCount(){return this._options.items.length+this.getHeaderRowCount()}getHeaderRowCount(){return this.isHeadersVisible()?this._options.columns.length-1:0}isGroupRow(W){return W<this._options.items.length&&"group"===this._options.items[W].rowType}getGroupLevel(W){var x=this._options.items[W-this.getHeaderRowCount()],Oe=x&&x.groupIndex;return x&&"totalFooter"===x.rowType?0:(0,l.O9)(Oe)?Oe:this._options.groupColumns.length}getCellType(W,x){var Oe=this.getColumns();if(W<this.getHeaderRowCount())return"string";if(W-=this.getHeaderRowCount(),x<Oe.length){var Ve=this._options.items.length&&this._options.items[W],Ke=Oe[x];return Ve&&"data"===Ve.rowType&&isFinite(Ve.values[this._correctCellIndex(x)])&&!(0,l.O9)(Ke.customizeText)?(0,l.O9)(Ke.lookup)?Ke.lookup.dataType:Ke.dataType:"string"}}ready(){this._initOptions();var W=this._options;return(0,w.z7)(W.items).done(x=>{W.items=x}).fail(()=>{W.items=[]})}_convertFromGridGroupSummaryItems(W){if((0,l.O9)(W)&&W.length>0)return W.map(x=>({value:x.value,name:x.name}))}getCellData(W,x,Oe){var Ve,Ke,Ge={cellSourceData:{},value:Ve},$e=this.getColumns(),ot=this._correctCellIndex(x);if(W<this.getHeaderRowCount())Ke=this.getColumns(!0)[W][x],Ge.cellSourceData.rowType="header",Ge.cellSourceData.column=Ke&&Ke.gridColumn,Ge.value=Ke&&Ke.caption;else{W-=this.getHeaderRowCount();var mt=this._options.items.length&&this._options.items[W];if(mt){var Ue=mt.values;switch(Ge.cellSourceData.rowType=mt.rowType,Ge.cellSourceData.column=$e[x]&&$e[x].gridColumn,mt.rowType){case"groupFooter":case"totalFooter":ot<Ue.length&&((0,l.O9)(Ve=Ue[ot])?(Ge.cellSourceData.value=Ve.value,Ge.cellSourceData.totalSummaryItemName=Ve.name,Ge.value=le.getSummaryText(Ve,this._options.summaryTexts)):Ge.cellSourceData.value=void 0);break;case"group":if(Ge.cellSourceData.groupIndex=mt.groupIndex,x<1)Ge.cellSourceData.column=this._options.groupColumns[mt.groupIndex],Ge.cellSourceData.value=mt.key[mt.groupIndex],Ge.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(mt.summaryCells[0]),Ge.value=this._getGroupValue(mt);else{var qe=mt.values[ot];if(Array.isArray(qe)){Ge.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(qe),Ve="";for(var rt=0;rt<qe.length;rt++)Ve+=(rt>0?Oe?"\n":" \n ":"")+le.getSummaryText(qe[rt],this._options.summaryTexts);Ge.value=Ve}else Ge.cellSourceData.value=void 0}break;default:if(Ke=$e[x]){var gt=Ue[ot],ft=le.getDisplayValue(Ke,gt,mt.data,mt.rowType);Ge.value=!isFinite(ft)||(0,l.O9)(Ke.customizeText)?Oe&&(0,l.O9)(Ke.customizeText)&&Ke.customizeText===this._exportController._columnsController.getCustomizeTextByDataType("boolean")?ft:le.formatValue(ft,Ke):ft,Ge.cellSourceData.value=gt}Ge.cellSourceData.data=mt.data}}}return Ge}isHeadersVisible(){return this._options.isHeadersVisible}isTotalCell(W,x){var{items:Oe}=this._options,Ve=Oe[W],Ke=this._correctCellIndex(x);return Ve&&"groupFooter"===Ve.rowType||"totalFooter"===Ve.rowType||Ve.summaryCells&&Ve.summaryCells[Ke]&&Ve.summaryCells[Ke].length>0&&Ve.summaryCells[Ke][0].alignByColumn}getCellMerging(W,x){var{columns:Oe}=this._options,Ve=Oe[W]&&Oe[W][x];return Ve?{colspan:(Ve.exportColspan||1)-1,rowspan:(Ve.rowspan||1)-1}:{colspan:0,rowspan:0}}getFrozenArea(){return{x:0,y:this.getHeaderRowCount()}}}le.registerModule("export",{defaultOptions:()=>({export:{enabled:!1,fileName:"DataGrid",formats:["xlsx"],allowExportSelectedData:!1,texts:{exportTo:J.A.format("dxDataGrid-exportTo"),exportAll:J.A.format("dxDataGrid-exportAll"),exportSelectedRows:J.A.format("dxDataGrid-exportSelectedRows")}}}),controllers:{export:class Ji extends le.ViewController{_getEmptyCell(){return{caption:"",colspan:1,rowspan:1}}_updateColumnWidth(W,x){W.width=x}_getColumns(W){var Oe,Ve,x=[],Ke=this._columnsController,Ge=Ke.getRowCount();for(Oe=0;Oe<=Ge;Oe++){var $e=[];Ve=Ke.getVisibleColumns(Oe,!0);var ot=void 0;if(Oe===Ge)if(this._updateLockCount)ot=W;else{var ct=this._getColumnWidths(this._headersView,this._rowsView);if(ct&&ct.length){ot={};for(var mt=0;mt<Ve.length;mt++)ot[Ve[mt].index]=ct[mt]}}for(var Ue=0;Ue<Ve.length;Ue++){var qe=(0,oe.X)({},Ve[Ue],{dataType:"datetime"===Ve[Ue].dataType?"date":Ve[Ue].dataType,gridColumn:Ve[Ue]});if(this._needColumnExporting(qe)){var rt=this._calculateExportColspan(qe);(0,l.O9)(rt)&&(qe.exportColspan=rt),ot&&this._updateColumnWidth(qe,ot[qe.index]),$e.push(qe)}}x.push($e)}return Ve=x[Ge],x=function Ni(A,W){for(var x=mt=>mt||1,Oe=[],Ve=(A[0]||[]).reduce((mt,Ue)=>mt+x(Ue.colspan),0),Ke=(mt=>{var Ue=0,qe=0;return()=>{var rt=mt[Ue]||[],gt=rt[qe++];return qe>=rt.length&&(Ue++,qe=0),gt&&(gt.colspan=x(gt.colspan),gt.rowspan=x(gt.rowspan)),gt}})(A),Ge=(mt,Ue,qe)=>{if((Oe[mt]=Oe[mt]||[])[Ue]=qe,qe.colspan>1||qe.rowspan>1){for(var gt=(0,oe.X)({},qe,W),ft=1;ft<qe.colspan;ft++)Ge(mt,Ue+ft,gt);for(var wt=1;wt<qe.rowspan;wt++)for(var Bt=0;Bt<qe.colspan;Bt++)Ge(mt+wt,Ue+Bt,gt)}},$e=Ke(),ot=0;$e;){for(var ct=0;ct<Ve&&$e;ct++)Oe[ot]&&Oe[ot][ct]||(Ge(ot,ct,$e),ct+=$e.colspan-1,$e=Ke());ot++}return Oe}(x.slice(0,-1),this._getEmptyCell()),x.push(Ve),x}_calculateExportColspan(W){if(W.isBand){var x=this._columnsController.getChildrenByBandColumn(W.index,!0);if((0,l.O9)(x))return x.reduce((Oe,Ve)=>this._needColumnExporting(Ve)?Oe+(this._calculateExportColspan(Ve)||1):Oe,0)}}_needColumnExporting(W){return!W.command&&(W.allowExporting||void 0===W.allowExporting)}_getFooterSummaryItems(W,x){var Oe=[],Ve=1,Ke=0;do{for(var Ge=[],$e=0;$e<W.length;$e++){var ot=W[$e],ct=ot.length;Ve<ct&&(Ve=ct),Ge.push(ot[Ke])}Oe.push({values:Ge,rowType:x?"totalFooter":"groupFooter"})}while(Ke++<Ve-1);return Oe}_hasSummaryGroupFooters(){var W=this.option("summary.groupItems");if((0,l.O9)(W))for(var x=0;x<W.length;x++)if(W[x].showInGroupFooter)return!0;return!1}_getItemsWithSummaryGroupFooters(W){for(var x=[],Oe=[],Ve=[],Ke=0;Ke<W.length;Ke++){var Ge=W[Ke];"groupFooter"===Ge.rowType?(Ve=this._getFooterSummaryItems(Ge.summaryCells),x=x.concat(Oe,Ve),Oe=[]):Oe.push(Ge)}return x.length?x:Oe}_updateGroupValuesWithSummaryByColumn(W){for(var x=[],Oe=0;Oe<W.length;Oe++){var Ve=W[Oe],{summaryCells:Ke}=Ve;if("group"===Ve.rowType&&Ke&&Ke.length>1){for(var Ge=Ve.values.length,$e=1;$e<Ke.length;$e++)for(var ot=0;ot<Ke[$e].length;ot++){var ct=Ke[$e][ot];ct&&ct.alignByColumn&&(Array.isArray(x[$e-Ge])||(x[$e-Ge]=[]),x[$e-Ge].push(ct))}x.length>0&&(Ve.values.push(...x),x=[])}}}_processUnExportedItems(W){for(var Ve,Ke,x=this._columnsController.getVisibleColumns(null,!0),Oe=this._columnsController.getGroupColumns(),Ge=0;Ge<W.length;Ge++){var $e=W[Ge],ot=!1;Ve=[],Ke=[];for(var ct=0;ct<x.length;ct++){var mt=x[ct];if(ot||(ot=["detailExpand","buttons"].includes(mt.type)),this._needColumnExporting(mt)&&($e.values&&Ve.push("group"!==$e.rowType||Ve.length?$e.values[ct]:$e.key[$e.groupIndex]),$e.summaryCells))if("group"!==$e.rowType||Ke.length)Ke.push($e.summaryCells[ct]);else{var Ue=ct-Oe.length+$e.groupIndex;Ke.push($e.summaryCells[ot?Ue:Ue+1])}}Ve.length&&($e.values=Ve),Ke.length&&($e.summaryCells=Ke)}}_getAllItems(W){var ct,x=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Oe=this,Ve=new w.cY,Ke=this.getController("data"),Ge=Ke.footerItems(),$e=Ge.length&&Ge[0],ot=Oe.option("summary.totalItems");return(0,w.z7)(W).done(mt=>{Ke.loadAll(mt,x).done((Ue,qe)=>{Oe._updateGroupValuesWithSummaryByColumn(Ue),Oe._hasSummaryGroupFooters()&&(Ue=Oe._getItemsWithSummaryGroupFooters(Ue)),ct=$e&&$e.summaryCells,(0,l.O9)(qe)&&ot&&(ct=Oe._getSummaryCells(ot,qe));var rt=$e&&Oe._getFooterSummaryItems(ct,!0);rt&&(Ue=Ue.concat(rt)),Oe._processUnExportedItems(Ue),Ve.resolve(Ue)}).fail(Ve.reject)}).fail(Ve.reject),Ve}_getSummaryCells(W,x){var Oe=this.getController("data");return Oe._calculateSummaryCells(W,x,Oe._columnsController.getVisibleColumns(null,!0),(Ke,Ge)=>Oe._isDataColumn(Ge)?Ge.index:-1)}_getSelectedItems(){var W=this.getController("selection");return this.needLoadItemsOnExportingSelectedItems()?this._getAllItems(W.loadSelectedItemsWithFilter(),!0):this._getAllItems(W.getSelectedRowsData())}_getColumnWidths(W,x){return W&&W.isVisible()?W.getColumnWidths():x.getColumnWidths()}throwWarningIfNoOnExportingEvent(){var W,x,Oe=null===(x=(W=this.component).hasActionSubscription)||void 0===x?void 0:x.call(W,"onExporting");this.option("export.enabled")&&!Oe&&q.A.log("W1024")}init(){this.throwWarningIfNoOnExportingEvent(),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]})}callbackNames(){return["selectionOnlyChanged"]}getDataProvider(W){var Oe,x=this._getColumnWidths(this._headersView,this._rowsView);if(x&&x.length){Oe={};for(var Ve=this._columnsController.getVisibleColumns(this._columnsController.getRowCount(),!0),Ke=0;Ke<Ve.length;Ke++)Oe[Ve[Ke].index]=x[Ke]}return new Zi(this,Oe,W)}exportTo(W,x){this._selectionOnly=W;var Oe=this.getAction("onExporting"),Ve={rtlEnabled:this.option("rtlEnabled"),selectedRowsOnly:!!W,format:x,fileName:"DataGrid",cancel:!1};(0,l.Tn)(Oe)&&Oe(Ve)}publicMethods(){return["getDataProvider"]}selectionOnly(W){if(!(0,l.O9)(W))return this._isSelectedRows;this._isSelectedRows=W,this.selectionOnlyChanged.fire()}optionChanged(W){super.optionChanged(W),"export"===W.name&&this.throwWarningIfNoOnExportingEvent()}needLoadItemsOnExportingSelectedItems(){var W;return null!==(W=this.option("loadItemsOnExportingSelectedItems"))&&void 0!==W?W:this.getController("data")._dataSource.remoteOperations().filtering}}},extenders:{controllers:{editing:{callbackNames(){var A=this.callBase();return(0,l.O9)(A)?A.push("editingButtonsUpdated"):["editingButtonsUpdated"]},_updateEditButtons(){this.callBase(),this.editingButtonsUpdated.fire()}}},views:{headerPanel:{_getToolbarItems(){var A=this.callBase(),W=this._getExportToolbarButton();return W&&(A.push(W),this._correctItemsPosition(A)),A},_getExportToolbarButton(){var A=this._getExportToolbarItems();if(0===A.length)return null;var W=this._needDisableExportButton(),x={name:"exportButton",location:"after",locateInMenu:"auto",sortIndex:30,options:{items:A},disabled:W};if(1===A.length){var Oe=(0,_e.A)((0,_e.A)({},A[0]),{hint:A[0].text,elementAttr:{class:ki}});x.widget="dxButton",x.showText="inMenu",x.options=Oe}else{var Ve={icon:"export",displayExpr:"text",items:A,hint:this.option("export.texts.exportTo"),elementAttr:{class:ki},dropDownOptions:{width:"auto",_wrapperClassExternal:"dx-datagrid-export-menu"}};x.options=Ve,x.widget="dxDropDownButton",x.menuItemTemplate=(Ke,Ge,$e)=>{this._createComponent((0,Ie.A)($e),E.A,{items:A})}}return x},_getExportToolbarItems(){var A,W=this.option("export"),x=this.option("export.texts"),Oe=null!==(A=this.option("export.formats"))&&void 0!==A?A:[];if(!W.enabled)return[];var Ve=[];return Oe.forEach(Ke=>{var Ge=Ke.toUpperCase(),$e="export";"xlsx"===Ke&&(Ge="Excel",$e="xlsxfile"),"pdf"===Ke&&($e="pdffile"),Ve.push({text:(0,Oi.GP)(x.exportAll,Ge),icon:$e,onClick:()=>{this._exportController.exportTo(!1,Ke)}}),W.allowExportSelectedData&&Ve.push({text:(0,Oi.GP)(x.exportSelectedRows,Ge),icon:"exportselected",onClick:()=>{this._exportController.exportTo(!0,Ke)}})}),Ve},_correctItemsPosition(A){A.sort((W,x)=>W.sortIndex-x.sortIndex)},_isExportButtonVisible(){return this.option("export.enabled")},optionChanged(A){this.callBase(A),"export"===A.name&&(A.handled=!0,this._invalidate())},_needDisableExportButton(){var A=!this._columnsController.hasVisibleDataColumns(),W=this._editingController.hasChanges();return A||W},_columnOptionChanged(A){if(this.callBase(A),le.checkChanges(A.optionNames,["groupIndex","visible","all"])){var x=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",x)}},init(){this.callBase(),this._exportController=this.getController("export"),this._editingController=this.getController("editing"),this._editingController.editingButtonsUpdated.add(()=>{var A=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",A)})},isVisible(){return this.callBase()||this._isExportButtonVisible()}}}}});var Xi=i(6685),qi=Number.MAX_SAFE_INTEGER||9007199254740991;le.registerModule("focus",(0,oe.X)(!0,{},Xi.h,{extenders:{controllers:{data:A=>class extends(A.inherit(Xi.h.extenders.controllers.data)){changeRowExpand(W,x){if(this.option("focusedRowEnabled")&&Array.isArray(W)&&this.isRowExpanded(W)){var Oe=this.getController("keyboardNavigation");(!x||!Oe.isKeyboardEnabled())&&this._isFocusedRowInsideGroup(W)&&this.option("focusedRowKey",W)}return super.changeRowExpand(W,x)}_isFocusedRowInsideGroup(W){var x=this.getController("columns"),Oe=this.option("focusedRowKey"),Ve=this.getRowIndexByKey(Oe),Ke=Ve>=0&&this.getVisibleRows()[Ve],Ge=x.getGroupDataSourceParameters(!0);if(Ke)for(var $e=0;$e<W.length;++$e)if((0,t.Hz)(Ge[$e]&&Ge[$e].selector)(Ke.data)!==W[$e])return!1;return!0}_getGroupPath(W,x){for(var Oe=[],Ve=[W];Ve&&Ve[0]&&x;){var Ke=Ve[0];void 0!==Ke.key&&Oe.push(Ke.key),Ve=Ke.items,x--}return Oe}_expandGroupByPath(W,x,Oe){var Ve=new w.cY;return Oe++,W.expandRow(x.slice(0,Oe)).done(()=>{Oe===x.length?Ve.resolve():W._expandGroupByPath(W,x,Oe).done(Ve.resolve).fail(Ve.reject)}).fail(Ve.reject),Ve.promise()}_calculateGlobalRowIndexByGroupedData(W){var x=this,Oe=x._dataSource,Ve=x._generateFilterByKey(W),Ke=new w.cY,Ge=Array.isArray(W),$e=Oe.group();return Ge?Ke.resolve(-1).promise():Oe._grouping._updatePagingOptions?(Oe.load({filter:x._concatWithCombinedFilter(Ve),group:$e}).done(ot=>{if(!ot||0===ot.length||!(0,l.O9)(ot[0].key)||-1===ot[0].key)return Ke.resolve(-1).promise();var ct=x._getGroupPath(ot[0],$e.length);x._expandGroupByPath(x,ct,0).done(()=>{x._calculateExpandedRowGlobalIndex(Ke,W,ct,$e)}).fail(Ke.reject)}).fail(Ke.reject),Ke.promise()):(x._calculateGlobalRowIndexByFlatData(W,null,!0).done(Ke.resolve).fail(Ke.reject),Ke)}_calculateExpandedRowGlobalIndex(W,x,Oe,Ve){var mt,Ke=Ne(Oe,{group:Ve}),Ge=this._dataSource,$e=this.option("scrolling.mode"),ot="virtual"===$e||"infinite"===$e,ct=Ge.pageSize();Ge._grouping._updatePagingOptions({skip:0,take:qi},(Ue,qe)=>{(0,n.RL)(Ue.path,Oe)&&(mt=qe)}),this._calculateGlobalRowIndexByFlatData(x,Ke).done(Ue=>{var qe,rt;Ue<0?W.resolve(-1):(qe=(mt%ct||ct)+Ue-Oe.length,rt=ot?0:Math.floor(qe/(ct-Oe.length))*Oe.length,W.resolve(qe=mt+Ue+rt))}).fail(W.reject)}}}}}));var ea=i(601);le.registerModule("rowDragging",ea.e);const ta=X;var ni=i(7283),ut=i(1837);let ia=(()=>{class A extends ni.ic{constructor(x,Oe,Ve,Ke,Ge,$e,ot,ct){super(x,Oe,Ve,Ke,ot,ct),this._watcherHelper=Ke,this._idh=Ge,this._createEventEmitters([{subscribe:"adaptiveDetailRowPreparing",emit:"onAdaptiveDetailRowPreparing"},{subscribe:"cellClick",emit:"onCellClick"},{subscribe:"cellDblClick",emit:"onCellDblClick"},{subscribe:"cellHoverChanged",emit:"onCellHoverChanged"},{subscribe:"cellPrepared",emit:"onCellPrepared"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"contextMenuPreparing",emit:"onContextMenuPreparing"},{subscribe:"dataErrorOccurred",emit:"onDataErrorOccurred"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"editCanceled",emit:"onEditCanceled"},{subscribe:"editCanceling",emit:"onEditCanceling"},{subscribe:"editingStart",emit:"onEditingStart"},{subscribe:"editorPrepared",emit:"onEditorPrepared"},{subscribe:"editorPreparing",emit:"onEditorPreparing"},{subscribe:"exporting",emit:"onExporting"},{subscribe:"focusedCellChanged",emit:"onFocusedCellChanged"},{subscribe:"focusedCellChanging",emit:"onFocusedCellChanging"},{subscribe:"focusedRowChanged",emit:"onFocusedRowChanged"},{subscribe:"focusedRowChanging",emit:"onFocusedRowChanging"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"initNewRow",emit:"onInitNewRow"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"rowClick",emit:"onRowClick"},{subscribe:"rowCollapsed",emit:"onRowCollapsed"},{subscribe:"rowCollapsing",emit:"onRowCollapsing"},{subscribe:"rowDblClick",emit:"onRowDblClick"},{subscribe:"rowExpanded",emit:"onRowExpanded"},{subscribe:"rowExpanding",emit:"onRowExpanding"},{subscribe:"rowInserted",emit:"onRowInserted"},{subscribe:"rowInserting",emit:"onRowInserting"},{subscribe:"rowPrepared",emit:"onRowPrepared"},{subscribe:"rowRemoved",emit:"onRowRemoved"},{subscribe:"rowRemoving",emit:"onRowRemoving"},{subscribe:"rowUpdated",emit:"onRowUpdated"},{subscribe:"rowUpdating",emit:"onRowUpdating"},{subscribe:"rowValidating",emit:"onRowValidating"},{subscribe:"saved",emit:"onSaved"},{subscribe:"saving",emit:"onSaving"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{subscribe:"toolbarPreparing",emit:"onToolbarPreparing"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"allowColumnReorderingChange"},{emit:"allowColumnResizingChange"},{emit:"autoNavigateToFocusedRowChange"},{emit:"cacheEnabledChange"},{emit:"cellHintEnabledChange"},{emit:"columnAutoWidthChange"},{emit:"columnChooserChange"},{emit:"columnFixingChange"},{emit:"columnHidingEnabledChange"},{emit:"columnMinWidthChange"},{emit:"columnResizingModeChange"},{emit:"columnsChange"},{emit:"columnWidthChange"},{emit:"customizeColumnsChange"},{emit:"dataRowTemplateChange"},{emit:"dataSourceChange"},{emit:"dateSerializationFormatChange"},{emit:"disabledChange"},{emit:"editingChange"},{emit:"elementAttrChange"},{emit:"errorRowEnabledChange"},{emit:"exportChange"},{emit:"filterBuilderChange"},{emit:"filterBuilderPopupChange"},{emit:"filterPanelChange"},{emit:"filterRowChange"},{emit:"filterSyncEnabledChange"},{emit:"filterValueChange"},{emit:"focusedColumnIndexChange"},{emit:"focusedRowEnabledChange"},{emit:"focusedRowIndexChange"},{emit:"focusedRowKeyChange"},{emit:"groupingChange"},{emit:"groupPanelChange"},{emit:"headerFilterChange"},{emit:"heightChange"},{emit:"highlightChangesChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"keyboardNavigationChange"},{emit:"keyExprChange"},{emit:"loadPanelChange"},{emit:"masterDetailChange"},{emit:"noDataTextChange"},{emit:"pagerChange"},{emit:"pagingChange"},{emit:"remoteOperationsChange"},{emit:"renderAsyncChange"},{emit:"repaintChangesOnlyChange"},{emit:"rowAlternationEnabledChange"},{emit:"rowDraggingChange"},{emit:"rowTemplateChange"},{emit:"rtlEnabledChange"},{emit:"scrollingChange"},{emit:"searchPanelChange"},{emit:"selectedRowKeysChange"},{emit:"selectionChange"},{emit:"selectionFilterChange"},{emit:"showBordersChange"},{emit:"showColumnHeadersChange"},{emit:"showColumnLinesChange"},{emit:"showRowLinesChange"},{emit:"sortByGroupSummaryInfoChange"},{emit:"sortingChange"},{emit:"stateStoringChange"},{emit:"summaryChange"},{emit:"syncLookupFilterValuesChange"},{emit:"tabIndexChange"},{emit:"toolbarChange"},{emit:"twoWayBindingEnabledChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wordWrapEnabledChange"}]),this._idh.setHost(this),$e.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(x){this._setOption("accessKey",x)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(x){this._setOption("activeStateEnabled",x)}get allowColumnReordering(){return this._getOption("allowColumnReordering")}set allowColumnReordering(x){this._setOption("allowColumnReordering",x)}get allowColumnResizing(){return this._getOption("allowColumnResizing")}set allowColumnResizing(x){this._setOption("allowColumnResizing",x)}get autoNavigateToFocusedRow(){return this._getOption("autoNavigateToFocusedRow")}set autoNavigateToFocusedRow(x){this._setOption("autoNavigateToFocusedRow",x)}get cacheEnabled(){return this._getOption("cacheEnabled")}set cacheEnabled(x){this._setOption("cacheEnabled",x)}get cellHintEnabled(){return this._getOption("cellHintEnabled")}set cellHintEnabled(x){this._setOption("cellHintEnabled",x)}get columnAutoWidth(){return this._getOption("columnAutoWidth")}set columnAutoWidth(x){this._setOption("columnAutoWidth",x)}get columnChooser(){return this._getOption("columnChooser")}set columnChooser(x){this._setOption("columnChooser",x)}get columnFixing(){return this._getOption("columnFixing")}set columnFixing(x){this._setOption("columnFixing",x)}get columnHidingEnabled(){return this._getOption("columnHidingEnabled")}set columnHidingEnabled(x){this._setOption("columnHidingEnabled",x)}get columnMinWidth(){return this._getOption("columnMinWidth")}set columnMinWidth(x){this._setOption("columnMinWidth",x)}get columnResizingMode(){return this._getOption("columnResizingMode")}set columnResizingMode(x){this._setOption("columnResizingMode",x)}get columns(){return this._getOption("columns")}set columns(x){this._setOption("columns",x)}get columnWidth(){return this._getOption("columnWidth")}set columnWidth(x){this._setOption("columnWidth",x)}get customizeColumns(){return this._getOption("customizeColumns")}set customizeColumns(x){this._setOption("customizeColumns",x)}get dataRowTemplate(){return this._getOption("dataRowTemplate")}set dataRowTemplate(x){this._setOption("dataRowTemplate",x)}get dataSource(){return this._getOption("dataSource")}set dataSource(x){this._setOption("dataSource",x)}get dateSerializationFormat(){return this._getOption("dateSerializationFormat")}set dateSerializationFormat(x){this._setOption("dateSerializationFormat",x)}get disabled(){return this._getOption("disabled")}set disabled(x){this._setOption("disabled",x)}get editing(){return this._getOption("editing")}set editing(x){this._setOption("editing",x)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(x){this._setOption("elementAttr",x)}get errorRowEnabled(){return this._getOption("errorRowEnabled")}set errorRowEnabled(x){this._setOption("errorRowEnabled",x)}get export(){return this._getOption("export")}set export(x){this._setOption("export",x)}get filterBuilder(){return this._getOption("filterBuilder")}set filterBuilder(x){this._setOption("filterBuilder",x)}get filterBuilderPopup(){return this._getOption("filterBuilderPopup")}set filterBuilderPopup(x){this._setOption("filterBuilderPopup",x)}get filterPanel(){return this._getOption("filterPanel")}set filterPanel(x){this._setOption("filterPanel",x)}get filterRow(){return this._getOption("filterRow")}set filterRow(x){this._setOption("filterRow",x)}get filterSyncEnabled(){return this._getOption("filterSyncEnabled")}set filterSyncEnabled(x){this._setOption("filterSyncEnabled",x)}get filterValue(){return this._getOption("filterValue")}set filterValue(x){this._setOption("filterValue",x)}get focusedColumnIndex(){return this._getOption("focusedColumnIndex")}set focusedColumnIndex(x){this._setOption("focusedColumnIndex",x)}get focusedRowEnabled(){return this._getOption("focusedRowEnabled")}set focusedRowEnabled(x){this._setOption("focusedRowEnabled",x)}get focusedRowIndex(){return this._getOption("focusedRowIndex")}set focusedRowIndex(x){this._setOption("focusedRowIndex",x)}get focusedRowKey(){return this._getOption("focusedRowKey")}set focusedRowKey(x){this._setOption("focusedRowKey",x)}get grouping(){return this._getOption("grouping")}set grouping(x){this._setOption("grouping",x)}get groupPanel(){return this._getOption("groupPanel")}set groupPanel(x){this._setOption("groupPanel",x)}get headerFilter(){return this._getOption("headerFilter")}set headerFilter(x){this._setOption("headerFilter",x)}get height(){return this._getOption("height")}set height(x){this._setOption("height",x)}get highlightChanges(){return this._getOption("highlightChanges")}set highlightChanges(x){this._setOption("highlightChanges",x)}get hint(){return this._getOption("hint")}set hint(x){this._setOption("hint",x)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(x){this._setOption("hoverStateEnabled",x)}get keyboardNavigation(){return this._getOption("keyboardNavigation")}set keyboardNavigation(x){this._setOption("keyboardNavigation",x)}get keyExpr(){return this._getOption("keyExpr")}set keyExpr(x){this._setOption("keyExpr",x)}get loadPanel(){return this._getOption("loadPanel")}set loadPanel(x){this._setOption("loadPanel",x)}get masterDetail(){return this._getOption("masterDetail")}set masterDetail(x){this._setOption("masterDetail",x)}get noDataText(){return this._getOption("noDataText")}set noDataText(x){this._setOption("noDataText",x)}get pager(){return this._getOption("pager")}set pager(x){this._setOption("pager",x)}get paging(){return this._getOption("paging")}set paging(x){this._setOption("paging",x)}get remoteOperations(){return this._getOption("remoteOperations")}set remoteOperations(x){this._setOption("remoteOperations",x)}get renderAsync(){return this._getOption("renderAsync")}set renderAsync(x){this._setOption("renderAsync",x)}get repaintChangesOnly(){return this._getOption("repaintChangesOnly")}set repaintChangesOnly(x){this._setOption("repaintChangesOnly",x)}get rowAlternationEnabled(){return this._getOption("rowAlternationEnabled")}set rowAlternationEnabled(x){this._setOption("rowAlternationEnabled",x)}get rowDragging(){return this._getOption("rowDragging")}set rowDragging(x){this._setOption("rowDragging",x)}get rowTemplate(){return this._getOption("rowTemplate")}set rowTemplate(x){this._setOption("rowTemplate",x)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(x){this._setOption("rtlEnabled",x)}get scrolling(){return this._getOption("scrolling")}set scrolling(x){this._setOption("scrolling",x)}get searchPanel(){return this._getOption("searchPanel")}set searchPanel(x){this._setOption("searchPanel",x)}get selectedRowKeys(){return this._getOption("selectedRowKeys")}set selectedRowKeys(x){this._setOption("selectedRowKeys",x)}get selection(){return this._getOption("selection")}set selection(x){this._setOption("selection",x)}get selectionFilter(){return this._getOption("selectionFilter")}set selectionFilter(x){this._setOption("selectionFilter",x)}get showBorders(){return this._getOption("showBorders")}set showBorders(x){this._setOption("showBorders",x)}get showColumnHeaders(){return this._getOption("showColumnHeaders")}set showColumnHeaders(x){this._setOption("showColumnHeaders",x)}get showColumnLines(){return this._getOption("showColumnLines")}set showColumnLines(x){this._setOption("showColumnLines",x)}get showRowLines(){return this._getOption("showRowLines")}set showRowLines(x){this._setOption("showRowLines",x)}get sortByGroupSummaryInfo(){return this._getOption("sortByGroupSummaryInfo")}set sortByGroupSummaryInfo(x){this._setOption("sortByGroupSummaryInfo",x)}get sorting(){return this._getOption("sorting")}set sorting(x){this._setOption("sorting",x)}get stateStoring(){return this._getOption("stateStoring")}set stateStoring(x){this._setOption("stateStoring",x)}get summary(){return this._getOption("summary")}set summary(x){this._setOption("summary",x)}get syncLookupFilterValues(){return this._getOption("syncLookupFilterValues")}set syncLookupFilterValues(x){this._setOption("syncLookupFilterValues",x)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(x){this._setOption("tabIndex",x)}get toolbar(){return this._getOption("toolbar")}set toolbar(x){this._setOption("toolbar",x)}get twoWayBindingEnabled(){return this._getOption("twoWayBindingEnabled")}set twoWayBindingEnabled(x){this._setOption("twoWayBindingEnabled",x)}get visible(){return this._getOption("visible")}set visible(x){this._setOption("visible",x)}get width(){return this._getOption("width")}set width(x){this._setOption("width",x)}get wordWrapEnabled(){return this._getOption("wordWrapEnabled")}set wordWrapEnabled(x){this._setOption("wordWrapEnabled",x)}get columnsChildren(){return this._getOption("columns")}set columnsChildren(x){this.setChildren("columns",x)}get sortByGroupSummaryInfoChildren(){return this._getOption("sortByGroupSummaryInfo")}set sortByGroupSummaryInfoChildren(x){this.setChildren("sortByGroupSummaryInfo",x)}_createInstance(x,Oe){return new ta(x,Oe)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(x){super.ngOnChanges(x),this.setupChanges("columns",x),this.setupChanges("dataSource",x),this.setupChanges("keyExpr",x),this.setupChanges("selectedRowKeys",x),this.setupChanges("sortByGroupSummaryInfo",x)}setupChanges(x,Oe){x in this._optionsToUpdate||this._idh.setup(x,Oe)}ngDoCheck(){this._idh.doCheck("columns"),this._idh.doCheck("dataSource"),this._idh.doCheck("keyExpr"),this._idh.doCheck("selectedRowKeys"),this._idh.doCheck("sortByGroupSummaryInfo"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(x,Oe){let Ve=this._idh.setupSingle(x,Oe),Ke=null!==this._idh.getChanges(x,Oe);(Ve||Ke)&&super._setOption(x,Oe)}}return A.\u0275fac=function(x){return new(x||A)(k.rXU(k.aKT),k.rXU(k.SKi),k.rXU(ni.zF),k.rXU(ni.jS),k.rXU(ni.$M),k.rXU(ni.fH),k.rXU(be.pJ),k.rXU(k.Agw))},A.\u0275cmp=k.VBU({type:A,selectors:[["dx-data-grid"]],contentQueries:function(x,Oe,Ve){if(1&x&&(k.wni(Ve,ut.nj_,4),k.wni(Ve,ut.x$q,4)),2&x){let Ke;k.mGM(Ke=k.lsd())&&(Oe.columnsChildren=Ke),k.mGM(Ke=k.lsd())&&(Oe.sortByGroupSummaryInfoChildren=Ke)}},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",allowColumnReordering:"allowColumnReordering",allowColumnResizing:"allowColumnResizing",autoNavigateToFocusedRow:"autoNavigateToFocusedRow",cacheEnabled:"cacheEnabled",cellHintEnabled:"cellHintEnabled",columnAutoWidth:"columnAutoWidth",columnChooser:"columnChooser",columnFixing:"columnFixing",columnHidingEnabled:"columnHidingEnabled",columnMinWidth:"columnMinWidth",columnResizingMode:"columnResizingMode",columns:"columns",columnWidth:"columnWidth",customizeColumns:"customizeColumns",dataRowTemplate:"dataRowTemplate",dataSource:"dataSource",dateSerializationFormat:"dateSerializationFormat",disabled:"disabled",editing:"editing",elementAttr:"elementAttr",errorRowEnabled:"errorRowEnabled",export:"export",filterBuilder:"filterBuilder",filterBuilderPopup:"filterBuilderPopup",filterPanel:"filterPanel",filterRow:"filterRow",filterSyncEnabled:"filterSyncEnabled",filterValue:"filterValue",focusedColumnIndex:"focusedColumnIndex",focusedRowEnabled:"focusedRowEnabled",focusedRowIndex:"focusedRowIndex",focusedRowKey:"focusedRowKey",grouping:"grouping",groupPanel:"groupPanel",headerFilter:"headerFilter",height:"height",highlightChanges:"highlightChanges",hint:"hint",hoverStateEnabled:"hoverStateEnabled",keyboardNavigation:"keyboardNavigation",keyExpr:"keyExpr",loadPanel:"loadPanel",masterDetail:"masterDetail",noDataText:"noDataText",pager:"pager",paging:"paging",remoteOperations:"remoteOperations",renderAsync:"renderAsync",repaintChangesOnly:"repaintChangesOnly",rowAlternationEnabled:"rowAlternationEnabled",rowDragging:"rowDragging",rowTemplate:"rowTemplate",rtlEnabled:"rtlEnabled",scrolling:"scrolling",searchPanel:"searchPanel",selectedRowKeys:"selectedRowKeys",selection:"selection",selectionFilter:"selectionFilter",showBorders:"showBorders",showColumnHeaders:"showColumnHeaders",showColumnLines:"showColumnLines",showRowLines:"showRowLines",sortByGroupSummaryInfo:"sortByGroupSummaryInfo",sorting:"sorting",stateStoring:"stateStoring",summary:"summary",syncLookupFilterValues:"syncLookupFilterValues",tabIndex:"tabIndex",toolbar:"toolbar",twoWayBindingEnabled:"twoWayBindingEnabled",visible:"visible",width:"width",wordWrapEnabled:"wordWrapEnabled"},outputs:{onAdaptiveDetailRowPreparing:"onAdaptiveDetailRowPreparing",onCellClick:"onCellClick",onCellDblClick:"onCellDblClick",onCellHoverChanged:"onCellHoverChanged",onCellPrepared:"onCellPrepared",onContentReady:"onContentReady",onContextMenuPreparing:"onContextMenuPreparing",onDataErrorOccurred:"onDataErrorOccurred",onDisposing:"onDisposing",onEditCanceled:"onEditCanceled",onEditCanceling:"onEditCanceling",onEditingStart:"onEditingStart",onEditorPrepared:"onEditorPrepared",onEditorPreparing:"onEditorPreparing",onExporting:"onExporting",onFocusedCellChanged:"onFocusedCellChanged",onFocusedCellChanging:"onFocusedCellChanging",onFocusedRowChanged:"onFocusedRowChanged",onFocusedRowChanging:"onFocusedRowChanging",onInitialized:"onInitialized",onInitNewRow:"onInitNewRow",onKeyDown:"onKeyDown",onOptionChanged:"onOptionChanged",onRowClick:"onRowClick",onRowCollapsed:"onRowCollapsed",onRowCollapsing:"onRowCollapsing",onRowDblClick:"onRowDblClick",onRowExpanded:"onRowExpanded",onRowExpanding:"onRowExpanding",onRowInserted:"onRowInserted",onRowInserting:"onRowInserting",onRowPrepared:"onRowPrepared",onRowRemoved:"onRowRemoved",onRowRemoving:"onRowRemoving",onRowUpdated:"onRowUpdated",onRowUpdating:"onRowUpdating",onRowValidating:"onRowValidating",onSaved:"onSaved",onSaving:"onSaving",onSelectionChanged:"onSelectionChanged",onToolbarPreparing:"onToolbarPreparing",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",allowColumnReorderingChange:"allowColumnReorderingChange",allowColumnResizingChange:"allowColumnResizingChange",autoNavigateToFocusedRowChange:"autoNavigateToFocusedRowChange",cacheEnabledChange:"cacheEnabledChange",cellHintEnabledChange:"cellHintEnabledChange",columnAutoWidthChange:"columnAutoWidthChange",columnChooserChange:"columnChooserChange",columnFixingChange:"columnFixingChange",columnHidingEnabledChange:"columnHidingEnabledChange",columnMinWidthChange:"columnMinWidthChange",columnResizingModeChange:"columnResizingModeChange",columnsChange:"columnsChange",columnWidthChange:"columnWidthChange",customizeColumnsChange:"customizeColumnsChange",dataRowTemplateChange:"dataRowTemplateChange",dataSourceChange:"dataSourceChange",dateSerializationFormatChange:"dateSerializationFormatChange",disabledChange:"disabledChange",editingChange:"editingChange",elementAttrChange:"elementAttrChange",errorRowEnabledChange:"errorRowEnabledChange",exportChange:"exportChange",filterBuilderChange:"filterBuilderChange",filterBuilderPopupChange:"filterBuilderPopupChange",filterPanelChange:"filterPanelChange",filterRowChange:"filterRowChange",filterSyncEnabledChange:"filterSyncEnabledChange",filterValueChange:"filterValueChange",focusedColumnIndexChange:"focusedColumnIndexChange",focusedRowEnabledChange:"focusedRowEnabledChange",focusedRowIndexChange:"focusedRowIndexChange",focusedRowKeyChange:"focusedRowKeyChange",groupingChange:"groupingChange",groupPanelChange:"groupPanelChange",headerFilterChange:"headerFilterChange",heightChange:"heightChange",highlightChangesChange:"highlightChangesChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",keyboardNavigationChange:"keyboardNavigationChange",keyExprChange:"keyExprChange",loadPanelChange:"loadPanelChange",masterDetailChange:"masterDetailChange",noDataTextChange:"noDataTextChange",pagerChange:"pagerChange",pagingChange:"pagingChange",remoteOperationsChange:"remoteOperationsChange",renderAsyncChange:"renderAsyncChange",repaintChangesOnlyChange:"repaintChangesOnlyChange",rowAlternationEnabledChange:"rowAlternationEnabledChange",rowDraggingChange:"rowDraggingChange",rowTemplateChange:"rowTemplateChange",rtlEnabledChange:"rtlEnabledChange",scrollingChange:"scrollingChange",searchPanelChange:"searchPanelChange",selectedRowKeysChange:"selectedRowKeysChange",selectionChange:"selectionChange",selectionFilterChange:"selectionFilterChange",showBordersChange:"showBordersChange",showColumnHeadersChange:"showColumnHeadersChange",showColumnLinesChange:"showColumnLinesChange",showRowLinesChange:"showRowLinesChange",sortByGroupSummaryInfoChange:"sortByGroupSummaryInfoChange",sortingChange:"sortingChange",stateStoringChange:"stateStoringChange",summaryChange:"summaryChange",syncLookupFilterValuesChange:"syncLookupFilterValuesChange",tabIndexChange:"tabIndexChange",toolbarChange:"toolbarChange",twoWayBindingEnabledChange:"twoWayBindingEnabledChange",visibleChange:"visibleChange",widthChange:"widthChange",wordWrapEnabledChange:"wordWrapEnabledChange"},features:[k.Jv_([ni.zF,ni.jS,ni.fH,ni.$M]),k.Vt3,k.OA$],decls:0,vars:0,template:function(x,Oe){},encapsulation:2}),A})(),aa=(()=>{class A{}return A.\u0275fac=function(x){return new(x||A)},A.\u0275mod=k.$C({type:A}),A.\u0275inj=k.G2t({imports:[[ut.nrj,ut.Bkf,ut.nwt,ut.hXw,ut.YGc,ut.gf0,ut.rvW,ut._zS,ut.U9o,ut.hyP,ut._RO,ut.YC7,ut.GIV,ut.X1G,ut.W6p,ut.Pxf,ut.BR_,ut.uE7,ut.$lK,ut.aJg,ut.GCl,ut.Sy5,ut.k61,ut.POb,ut.hUd,ut.HKo,ut.Ixj,ut.a6E,ut.YLo,ut.YaD,ut.eNx,ut.Tob,ut.$Ql,ut.isg,ut.uIe,ut.L0X,ut.MtA,ut.yA4,ut.oCB,ut.tWd,ut.zkV,ut.Sn2,ut.MBy,ut.qCh,ut.joz,ut.FOK,ut.x_w,ut.s5o,ut.Zac,ut.ZaD,ut.m1r,ut.Wnt,ut.rER,ut.XUe,ut.lkr,ut.WC8,ut.GQ,ut.kYc,ut.X6g,ut.WXx,ut.CWj,ut.Mru,ut.Hl$,ut.l4W,ni.p_,ni.xZ],ut.nrj,ut.Bkf,ut.nwt,ut.hXw,ut.YGc,ut.gf0,ut.rvW,ut._zS,ut.U9o,ut.hyP,ut._RO,ut.YC7,ut.GIV,ut.X1G,ut.W6p,ut.Pxf,ut.BR_,ut.uE7,ut.$lK,ut.aJg,ut.GCl,ut.Sy5,ut.k61,ut.POb,ut.hUd,ut.HKo,ut.Ixj,ut.a6E,ut.YLo,ut.YaD,ut.eNx,ut.Tob,ut.$Ql,ut.isg,ut.uIe,ut.L0X,ut.MtA,ut.yA4,ut.oCB,ut.tWd,ut.zkV,ut.Sn2,ut.MBy,ut.qCh,ut.joz,ut.FOK,ut.x_w,ut.s5o,ut.Zac,ut.ZaD,ut.m1r,ut.Wnt,ut.rER,ut.XUe,ut.lkr,ut.WC8,ut.GQ,ut.kYc,ut.X6g,ut.WXx,ut.CWj,ut.Mru,ut.Hl$,ut.l4W,ni.xZ]}),A})()},7018:(Mt,dt,i)=>{i.d(dt,{S:()=>oe,l:()=>ae});var be=i(345),k=i(4438),se=i(2379),_e=i(9417),he=i(7283),Ce=i(1837);const le={provide:_e.kq,useExisting:(0,k.Rfq)(()=>ae),multi:!0};let ae=(()=>{class ee extends he.ic{constructor(P,Y,Ee,re,j,ue,b,c){super(P,Y,Ee,re,b,c),this._watcherHelper=re,this._idh=j,this.touched=a=>{},this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"closed",emit:"onClosed"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"copy",emit:"onCopy"},{subscribe:"customItemCreating",emit:"onCustomItemCreating"},{subscribe:"cut",emit:"onCut"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"opened",emit:"onOpened"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"paste",emit:"onPaste"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"acceptCustomValueChange"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"buttonsChange"},{emit:"customItemCreateEventChange"},{emit:"dataSourceChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"displayExprChange"},{emit:"displayValueChange"},{emit:"dropDownButtonTemplateChange"},{emit:"dropDownOptionsChange"},{emit:"elementAttrChange"},{emit:"fieldTemplateChange"},{emit:"focusStateEnabledChange"},{emit:"groupedChange"},{emit:"groupTemplateChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maxLengthChange"},{emit:"minSearchLengthChange"},{emit:"nameChange"},{emit:"noDataTextChange"},{emit:"openedChange"},{emit:"openOnFieldClickChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"searchEnabledChange"},{emit:"searchExprChange"},{emit:"searchModeChange"},{emit:"searchTimeoutChange"},{emit:"selectedItemChange"},{emit:"showClearButtonChange"},{emit:"showDataBeforeSearchChange"},{emit:"showDropDownButtonChange"},{emit:"showSelectionControlsChange"},{emit:"spellcheckChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"useItemTextAsTitleChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"valueExprChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wrapItemTextChange"},{emit:"onBlur"}]),this._idh.setHost(this),ue.setHost(this)}get acceptCustomValue(){return this._getOption("acceptCustomValue")}set acceptCustomValue(P){this._setOption("acceptCustomValue",P)}get accessKey(){return this._getOption("accessKey")}set accessKey(P){this._setOption("accessKey",P)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(P){this._setOption("activeStateEnabled",P)}get buttons(){return this._getOption("buttons")}set buttons(P){this._setOption("buttons",P)}get customItemCreateEvent(){return this._getOption("customItemCreateEvent")}set customItemCreateEvent(P){this._setOption("customItemCreateEvent",P)}get dataSource(){return this._getOption("dataSource")}set dataSource(P){this._setOption("dataSource",P)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(P){this._setOption("deferRendering",P)}get disabled(){return this._getOption("disabled")}set disabled(P){this._setOption("disabled",P)}get displayExpr(){return this._getOption("displayExpr")}set displayExpr(P){this._setOption("displayExpr",P)}get displayValue(){return this._getOption("displayValue")}set displayValue(P){this._setOption("displayValue",P)}get dropDownButtonTemplate(){return this._getOption("dropDownButtonTemplate")}set dropDownButtonTemplate(P){this._setOption("dropDownButtonTemplate",P)}get dropDownOptions(){return this._getOption("dropDownOptions")}set dropDownOptions(P){this._setOption("dropDownOptions",P)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(P){this._setOption("elementAttr",P)}get fieldTemplate(){return this._getOption("fieldTemplate")}set fieldTemplate(P){this._setOption("fieldTemplate",P)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(P){this._setOption("focusStateEnabled",P)}get grouped(){return this._getOption("grouped")}set grouped(P){this._setOption("grouped",P)}get groupTemplate(){return this._getOption("groupTemplate")}set groupTemplate(P){this._setOption("groupTemplate",P)}get height(){return this._getOption("height")}set height(P){this._setOption("height",P)}get hint(){return this._getOption("hint")}set hint(P){this._setOption("hint",P)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(P){this._setOption("hoverStateEnabled",P)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(P){this._setOption("inputAttr",P)}get isDirty(){return this._getOption("isDirty")}set isDirty(P){this._setOption("isDirty",P)}get isValid(){return this._getOption("isValid")}set isValid(P){this._setOption("isValid",P)}get items(){return this._getOption("items")}set items(P){this._setOption("items",P)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(P){this._setOption("itemTemplate",P)}get label(){return this._getOption("label")}set label(P){this._setOption("label",P)}get labelMode(){return this._getOption("labelMode")}set labelMode(P){this._setOption("labelMode",P)}get maxLength(){return this._getOption("maxLength")}set maxLength(P){this._setOption("maxLength",P)}get minSearchLength(){return this._getOption("minSearchLength")}set minSearchLength(P){this._setOption("minSearchLength",P)}get name(){return this._getOption("name")}set name(P){this._setOption("name",P)}get noDataText(){return this._getOption("noDataText")}set noDataText(P){this._setOption("noDataText",P)}get opened(){return this._getOption("opened")}set opened(P){this._setOption("opened",P)}get openOnFieldClick(){return this._getOption("openOnFieldClick")}set openOnFieldClick(P){this._setOption("openOnFieldClick",P)}get placeholder(){return this._getOption("placeholder")}set placeholder(P){this._setOption("placeholder",P)}get readOnly(){return this._getOption("readOnly")}set readOnly(P){this._setOption("readOnly",P)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(P){this._setOption("rtlEnabled",P)}get searchEnabled(){return this._getOption("searchEnabled")}set searchEnabled(P){this._setOption("searchEnabled",P)}get searchExpr(){return this._getOption("searchExpr")}set searchExpr(P){this._setOption("searchExpr",P)}get searchMode(){return this._getOption("searchMode")}set searchMode(P){this._setOption("searchMode",P)}get searchTimeout(){return this._getOption("searchTimeout")}set searchTimeout(P){this._setOption("searchTimeout",P)}get selectedItem(){return this._getOption("selectedItem")}set selectedItem(P){this._setOption("selectedItem",P)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(P){this._setOption("showClearButton",P)}get showDataBeforeSearch(){return this._getOption("showDataBeforeSearch")}set showDataBeforeSearch(P){this._setOption("showDataBeforeSearch",P)}get showDropDownButton(){return this._getOption("showDropDownButton")}set showDropDownButton(P){this._setOption("showDropDownButton",P)}get showSelectionControls(){return this._getOption("showSelectionControls")}set showSelectionControls(P){this._setOption("showSelectionControls",P)}get spellcheck(){return this._getOption("spellcheck")}set spellcheck(P){this._setOption("spellcheck",P)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(P){this._setOption("stylingMode",P)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(P){this._setOption("tabIndex",P)}get text(){return this._getOption("text")}set text(P){this._setOption("text",P)}get useItemTextAsTitle(){return this._getOption("useItemTextAsTitle")}set useItemTextAsTitle(P){this._setOption("useItemTextAsTitle",P)}get validationError(){return this._getOption("validationError")}set validationError(P){this._setOption("validationError",P)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(P){this._setOption("validationErrors",P)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(P){this._setOption("validationMessageMode",P)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(P){this._setOption("validationMessagePosition",P)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(P){this._setOption("validationStatus",P)}get value(){return this._getOption("value")}set value(P){this._setOption("value",P)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(P){this._setOption("valueChangeEvent",P)}get valueExpr(){return this._getOption("valueExpr")}set valueExpr(P){this._setOption("valueExpr",P)}get visible(){return this._getOption("visible")}set visible(P){this._setOption("visible",P)}get width(){return this._getOption("width")}set width(P){this._setOption("width",P)}get wrapItemText(){return this._getOption("wrapItemText")}set wrapItemText(P){this._setOption("wrapItemText",P)}change(P){}get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(P){this.setChildren("buttons",P)}get itemsChildren(){return this._getOption("items")}set itemsChildren(P){this.setChildren("items",P)}_createInstance(P,Y){return new se.A(P,Y)}writeValue(P){this.eventHelper.lockedValueChangeEvent=!0,this.value=P,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(P){this.disabled=P}registerOnChange(P){this.change=P}registerOnTouched(P){this.touched=P}_createWidget(P){super._createWidget(P),this.instance.on("focusOut",Y=>{this.eventHelper.fireNgEvent("onBlur",[Y])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(P){super.ngOnChanges(P),this.setupChanges("buttons",P),this.setupChanges("dataSource",P),this.setupChanges("items",P),this.setupChanges("searchExpr",P),this.setupChanges("validationErrors",P)}setupChanges(P,Y){P in this._optionsToUpdate||this._idh.setup(P,Y)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("searchExpr"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(P,Y){let Ee=this._idh.setupSingle(P,Y),re=null!==this._idh.getChanges(P,Y);(Ee||re)&&super._setOption(P,Y)}}return ee.\u0275fac=function(P){return new(P||ee)(k.rXU(k.aKT),k.rXU(k.SKi),k.rXU(he.zF),k.rXU(he.jS),k.rXU(he.$M),k.rXU(he.fH),k.rXU(be.pJ),k.rXU(k.Agw))},ee.\u0275cmp=k.VBU({type:ee,selectors:[["dx-select-box"]],contentQueries:function(P,Y,Ee){if(1&P&&(k.wni(Ee,Ce.BrI,4),k.wni(Ee,Ce.CVf,4)),2&P){let re;k.mGM(re=k.lsd())&&(Y.buttonsChildren=re),k.mGM(re=k.lsd())&&(Y.itemsChildren=re)}},hostBindings:function(P,Y){1&P&&k.bIt("valueChange",function(re){return Y.change(re)})("onBlur",function(re){return Y.touched(re)})},inputs:{acceptCustomValue:"acceptCustomValue",accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",buttons:"buttons",customItemCreateEvent:"customItemCreateEvent",dataSource:"dataSource",deferRendering:"deferRendering",disabled:"disabled",displayExpr:"displayExpr",displayValue:"displayValue",dropDownButtonTemplate:"dropDownButtonTemplate",dropDownOptions:"dropDownOptions",elementAttr:"elementAttr",fieldTemplate:"fieldTemplate",focusStateEnabled:"focusStateEnabled",grouped:"grouped",groupTemplate:"groupTemplate",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",isDirty:"isDirty",isValid:"isValid",items:"items",itemTemplate:"itemTemplate",label:"label",labelMode:"labelMode",maxLength:"maxLength",minSearchLength:"minSearchLength",name:"name",noDataText:"noDataText",opened:"opened",openOnFieldClick:"openOnFieldClick",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",searchEnabled:"searchEnabled",searchExpr:"searchExpr",searchMode:"searchMode",searchTimeout:"searchTimeout",selectedItem:"selectedItem",showClearButton:"showClearButton",showDataBeforeSearch:"showDataBeforeSearch",showDropDownButton:"showDropDownButton",showSelectionControls:"showSelectionControls",spellcheck:"spellcheck",stylingMode:"stylingMode",tabIndex:"tabIndex",text:"text",useItemTextAsTitle:"useItemTextAsTitle",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",valueExpr:"valueExpr",visible:"visible",width:"width",wrapItemText:"wrapItemText"},outputs:{onChange:"onChange",onClosed:"onClosed",onContentReady:"onContentReady",onCopy:"onCopy",onCustomItemCreating:"onCustomItemCreating",onCut:"onCut",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onItemClick:"onItemClick",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onOpened:"onOpened",onOptionChanged:"onOptionChanged",onPaste:"onPaste",onSelectionChanged:"onSelectionChanged",onValueChanged:"onValueChanged",acceptCustomValueChange:"acceptCustomValueChange",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",buttonsChange:"buttonsChange",customItemCreateEventChange:"customItemCreateEventChange",dataSourceChange:"dataSourceChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",displayExprChange:"displayExprChange",displayValueChange:"displayValueChange",dropDownButtonTemplateChange:"dropDownButtonTemplateChange",dropDownOptionsChange:"dropDownOptionsChange",elementAttrChange:"elementAttrChange",fieldTemplateChange:"fieldTemplateChange",focusStateEnabledChange:"focusStateEnabledChange",groupedChange:"groupedChange",groupTemplateChange:"groupTemplateChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maxLengthChange:"maxLengthChange",minSearchLengthChange:"minSearchLengthChange",nameChange:"nameChange",noDataTextChange:"noDataTextChange",openedChange:"openedChange",openOnFieldClickChange:"openOnFieldClickChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",searchEnabledChange:"searchEnabledChange",searchExprChange:"searchExprChange",searchModeChange:"searchModeChange",searchTimeoutChange:"searchTimeoutChange",selectedItemChange:"selectedItemChange",showClearButtonChange:"showClearButtonChange",showDataBeforeSearchChange:"showDataBeforeSearchChange",showDropDownButtonChange:"showDropDownButtonChange",showSelectionControlsChange:"showSelectionControlsChange",spellcheckChange:"spellcheckChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",textChange:"textChange",useItemTextAsTitleChange:"useItemTextAsTitleChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",valueExprChange:"valueExprChange",visibleChange:"visibleChange",widthChange:"widthChange",wrapItemTextChange:"wrapItemTextChange",onBlur:"onBlur"},features:[k.Jv_([he.zF,he.jS,le,he.fH,he.$M]),k.Vt3,k.OA$],decls:0,vars:0,template:function(P,Y){},encapsulation:2}),ee})(),oe=(()=>{class ee{}return ee.\u0275fac=function(P){return new(P||ee)},ee.\u0275mod=k.$C({type:ee}),ee.\u0275inj=k.G2t({imports:[[Ce.GIV,Ce.u4t,Ce.df_,Ce.YLo,Ce.YaD,Ce.eNx,Ce.Bkf,Ce.nwt,Ce.hXw,Ce.YGc,Ce.gf0,Ce.rvW,Ce.Tob,Ce.$Ql,Ce.isg,Ce.POb,he.p_,he.xZ],Ce.GIV,Ce.u4t,Ce.df_,Ce.YLo,Ce.YaD,Ce.eNx,Ce.Bkf,Ce.nwt,Ce.hXw,Ce.YGc,Ce.gf0,Ce.rvW,Ce.Tob,Ce.$Ql,Ce.isg,Ce.POb,he.xZ]}),ee})()},3281:(Mt,dt,i)=>{i.d(dt,{Z:()=>oe,m:()=>ae});var be=i(345),k=i(4438),se=i(2934),_e=i(9417),he=i(7283),Ce=i(1837);const le={provide:_e.kq,useExisting:(0,k.Rfq)(()=>ae),multi:!0};let ae=(()=>{class ee extends he.ic{constructor(P,Y,Ee,re,j,ue,b,c){super(P,Y,Ee,re,b,c),this._watcherHelper=re,this._idh=j,this.touched=a=>{},this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"copy",emit:"onCopy"},{subscribe:"cut",emit:"onCut"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"paste",emit:"onPaste"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"buttonsChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maskChange"},{emit:"maskCharChange"},{emit:"maskInvalidMessageChange"},{emit:"maskRulesChange"},{emit:"maxLengthChange"},{emit:"modeChange"},{emit:"nameChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"showClearButtonChange"},{emit:"showMaskModeChange"},{emit:"spellcheckChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"useMaskedValueChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),ue.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(P){this._setOption("accessKey",P)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(P){this._setOption("activeStateEnabled",P)}get buttons(){return this._getOption("buttons")}set buttons(P){this._setOption("buttons",P)}get disabled(){return this._getOption("disabled")}set disabled(P){this._setOption("disabled",P)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(P){this._setOption("elementAttr",P)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(P){this._setOption("focusStateEnabled",P)}get height(){return this._getOption("height")}set height(P){this._setOption("height",P)}get hint(){return this._getOption("hint")}set hint(P){this._setOption("hint",P)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(P){this._setOption("hoverStateEnabled",P)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(P){this._setOption("inputAttr",P)}get isDirty(){return this._getOption("isDirty")}set isDirty(P){this._setOption("isDirty",P)}get isValid(){return this._getOption("isValid")}set isValid(P){this._setOption("isValid",P)}get label(){return this._getOption("label")}set label(P){this._setOption("label",P)}get labelMode(){return this._getOption("labelMode")}set labelMode(P){this._setOption("labelMode",P)}get mask(){return this._getOption("mask")}set mask(P){this._setOption("mask",P)}get maskChar(){return this._getOption("maskChar")}set maskChar(P){this._setOption("maskChar",P)}get maskInvalidMessage(){return this._getOption("maskInvalidMessage")}set maskInvalidMessage(P){this._setOption("maskInvalidMessage",P)}get maskRules(){return this._getOption("maskRules")}set maskRules(P){this._setOption("maskRules",P)}get maxLength(){return this._getOption("maxLength")}set maxLength(P){this._setOption("maxLength",P)}get mode(){return this._getOption("mode")}set mode(P){this._setOption("mode",P)}get name(){return this._getOption("name")}set name(P){this._setOption("name",P)}get placeholder(){return this._getOption("placeholder")}set placeholder(P){this._setOption("placeholder",P)}get readOnly(){return this._getOption("readOnly")}set readOnly(P){this._setOption("readOnly",P)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(P){this._setOption("rtlEnabled",P)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(P){this._setOption("showClearButton",P)}get showMaskMode(){return this._getOption("showMaskMode")}set showMaskMode(P){this._setOption("showMaskMode",P)}get spellcheck(){return this._getOption("spellcheck")}set spellcheck(P){this._setOption("spellcheck",P)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(P){this._setOption("stylingMode",P)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(P){this._setOption("tabIndex",P)}get text(){return this._getOption("text")}set text(P){this._setOption("text",P)}get useMaskedValue(){return this._getOption("useMaskedValue")}set useMaskedValue(P){this._setOption("useMaskedValue",P)}get validationError(){return this._getOption("validationError")}set validationError(P){this._setOption("validationError",P)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(P){this._setOption("validationErrors",P)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(P){this._setOption("validationMessageMode",P)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(P){this._setOption("validationMessagePosition",P)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(P){this._setOption("validationStatus",P)}get value(){return this._getOption("value")}set value(P){this._setOption("value",P)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(P){this._setOption("valueChangeEvent",P)}get visible(){return this._getOption("visible")}set visible(P){this._setOption("visible",P)}get width(){return this._getOption("width")}set width(P){this._setOption("width",P)}change(P){}get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(P){this.setChildren("buttons",P)}_createInstance(P,Y){return new se.A(P,Y)}writeValue(P){this.eventHelper.lockedValueChangeEvent=!0,this.value=P,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(P){this.disabled=P}registerOnChange(P){this.change=P}registerOnTouched(P){this.touched=P}_createWidget(P){super._createWidget(P),this.instance.on("focusOut",Y=>{this.eventHelper.fireNgEvent("onBlur",[Y])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(P){super.ngOnChanges(P),this.setupChanges("buttons",P),this.setupChanges("validationErrors",P)}setupChanges(P,Y){P in this._optionsToUpdate||this._idh.setup(P,Y)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(P,Y){let Ee=this._idh.setupSingle(P,Y),re=null!==this._idh.getChanges(P,Y);(Ee||re)&&super._setOption(P,Y)}}return ee.\u0275fac=function(P){return new(P||ee)(k.rXU(k.aKT),k.rXU(k.SKi),k.rXU(he.zF),k.rXU(he.jS),k.rXU(he.$M),k.rXU(he.fH),k.rXU(be.pJ),k.rXU(k.Agw))},ee.\u0275cmp=k.VBU({type:ee,selectors:[["dx-text-box"]],contentQueries:function(P,Y,Ee){if(1&P&&k.wni(Ee,Ce.BrI,4),2&P){let re;k.mGM(re=k.lsd())&&(Y.buttonsChildren=re)}},hostBindings:function(P,Y){1&P&&k.bIt("valueChange",function(re){return Y.change(re)})("onBlur",function(re){return Y.touched(re)})},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",buttons:"buttons",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",isDirty:"isDirty",isValid:"isValid",label:"label",labelMode:"labelMode",mask:"mask",maskChar:"maskChar",maskInvalidMessage:"maskInvalidMessage",maskRules:"maskRules",maxLength:"maxLength",mode:"mode",name:"name",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",showClearButton:"showClearButton",showMaskMode:"showMaskMode",spellcheck:"spellcheck",stylingMode:"stylingMode",tabIndex:"tabIndex",text:"text",useMaskedValue:"useMaskedValue",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",visible:"visible",width:"width"},outputs:{onChange:"onChange",onContentReady:"onContentReady",onCopy:"onCopy",onCut:"onCut",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onOptionChanged:"onOptionChanged",onPaste:"onPaste",onValueChanged:"onValueChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",buttonsChange:"buttonsChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maskChange:"maskChange",maskCharChange:"maskCharChange",maskInvalidMessageChange:"maskInvalidMessageChange",maskRulesChange:"maskRulesChange",maxLengthChange:"maxLengthChange",modeChange:"modeChange",nameChange:"nameChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",showClearButtonChange:"showClearButtonChange",showMaskModeChange:"showMaskModeChange",spellcheckChange:"spellcheckChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",textChange:"textChange",useMaskedValueChange:"useMaskedValueChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[k.Jv_([he.zF,he.jS,le,he.fH,he.$M]),k.Vt3,k.OA$],decls:0,vars:0,template:function(P,Y){},encapsulation:2}),ee})(),oe=(()=>{class ee{}return ee.\u0275fac=function(P){return new(P||ee)},ee.\u0275mod=k.$C({type:ee}),ee.\u0275inj=k.G2t({imports:[[Ce.GIV,Ce.u4t,he.p_,he.xZ],Ce.GIV,Ce.u4t,he.xZ]}),ee})()},7675:(Mt,dt,i)=>{i.d(dt,{U:()=>b}),i(345);var k=i(4438),se=i(4292),_e=i(3992),he=i(4905),Ce=i(7951),le=i(7969),ae=i(2463),q=le.A.inherit({_getDefaultOptions:function(){return(0,Ce.X)(this.callBase(),{toolbarItems:[],showCloseButton:!1,enableBodyScroll:!0,showTitle:!1,title:null,titleTemplate:null,onTitleRendered:null,bottomTemplate:null,preventScrollEvents:!1,propagateOutsideClick:!0})},_render:function(){this.$element().addClass("dx-tooltip"),this.$wrapper().addClass("dx-tooltip-wrapper"),this.callBase()},_renderContent:function(){this.callBase(),this._toggleAriaAttributes()},_toggleAriaDescription:function(c){var a=(0,se.A)(this.option("target")),d=c?this._contentId:void 0;(0,ae.l6)(a.get(0))||this.setAria("describedby",d,a)},_toggleAriaAttributes:function(){this._contentId="dx-".concat(new _e.A),this.$overlayContent().attr({id:this._contentId}),this._toggleAriaDescription(!0)}});(0,he.A)("dxTooltip",q);var Ee=i(7283),re=i(1837);let b=(()=>{class c{}return c.\u0275fac=function(d){return new(d||c)},c.\u0275mod=k.$C({type:c}),c.\u0275inj=k.G2t({imports:[[re.YLo,re.YaD,re.eNx,re.Bkf,re.nwt,re.hXw,re.YGc,re.gf0,re.rvW,re.Tob,re.$Ql,re.i9t,re.TBD,Ee.p_,Ee.xZ],re.YLo,re.YaD,re.eNx,re.Bkf,re.nwt,re.hXw,re.YGc,re.gf0,re.rvW,re.Tob,re.$Ql,re.i9t,re.TBD,Ee.xZ]}),c})()},8558:(Mt,dt,i)=>{i.d(dt,{y:()=>Wt,t:()=>zt});var be=i(345),k=i(4438),se=i(7949),_e=i(7951),he=i(4895);const Ce=(0,_e.X)({},he.A,{modules:[],foreachNodes(Ae,H,G){for(var Le=0;Le<Ae.length;Le++)!1!==H(Ae[Le])&&(G||Ae[Le].hasChildren)&&Ae[Le].children.length&&this.foreachNodes(Ae[Le].children,H,G)}});Ce.registerModule("columnHeaders",se.J);var le=i(2463),ae=i(9392),oe=ae.a.controllers.columns.inherit({_getFirstItems(Ae){return this.callBase(Ae).map(H=>H.data)},getFirstDataColumnIndex(){for(var Ae=this.getVisibleColumns(),H=Ae.length,G=0,Le=0;Le<=H-1;Le++)if(!(0,le.O9)(Ae[Le].command)){G=Ae[Le].index;break}return G}});Ce.registerModule("columns",{defaultOptions:ae.a.defaultOptions,controllers:{columns:oe}});var ee=i(5042),q=i(2984),P=i(9629),Y=i(9407),Ee=i(2101),re=i(2097),j=i(1774),ue=i(9845),b=i(7514),c=i(7310),a=i(1090),d=i(5207),{queryByOptions:m}=b.A,I=Ae=>"fullBranch"===Ae.option("filterMode"),N=a.A.inherit(function(){var Ae=(H,G)=>m((0,ue.A)(H),{sort:G}).toArray();return{_createKeyGetter(){var H=this.getKeyExpr();return(0,Y.Hz)(H)},_createKeySetter(){var H=this.getKeyExpr();return(0,le.Tn)(H)?H:(0,Y.vL)(H)},createParentIdGetter(){return(0,Y.Hz)(this.option("parentIdExpr"))},createParentIdSetter(){var H=this.option("parentIdExpr");return(0,le.Tn)(H)?H:(0,Y.vL)(H)},_createItemsGetter(){return(0,Y.Hz)(this.option("itemsExpr"))},_createHasItemsGetter(){var H=this.option("hasItemsExpr");return H&&(0,Y.Hz)(H)},_createHasItemsSetter(){var H=this.option("hasItemsExpr");return(0,le.Tn)(H)?H:H&&(0,Y.vL)(H)},_updateIndexByKeyObject(H){var G=this;G._indexByKey={},(0,Ee.__)(H,(Le,Xe)=>{G._indexByKey[Xe.key]=Le})},_calculateHasItems(H,G){var Xe,{parentIds:Le}=G.storeLoadOptions,lt=I(this);return this._hasItemsGetter&&(Le||!G.storeLoadOptions.filter||lt)&&(Xe=this._hasItemsGetter(H.data)),void 0===Xe&&(Xe=!(this._isChildrenLoaded[H.key]||!G.remoteOperations.filtering||!Le&&!lt)||(G.loadOptions.filter&&!G.remoteOperations.filtering&&lt?H.children.length:H.hasChildren)),!!Xe},_fillVisibleItemsByNodes(H,G,Le){for(var Xe=0;Xe<H.length;Xe++)H[Xe].visible&&Le.push(H[Xe]),(this.isRowExpanded(H[Xe].key,G)||!H[Xe].visible)&&H[Xe].hasChildren&&H[Xe].children.length&&this._fillVisibleItemsByNodes(H[Xe].children,G,Le)},_convertItemToNode(H,G,Le){var Xe=this._keyGetter(H),lt=this._parentIdGetter(H),Ct=Le[lt=(0,le.O9)(lt)?lt:G]=Le[lt]||{key:lt,children:[]},Dt=Le[Xe]=Le[Xe]||{key:Xe,children:[]};return Dt.data=H,Dt.parent=Ct,Dt},_createNodesByItems(H,G){var Ct,Le=this.option("rootValue"),Xe={},lt=this._nodeByKey={};if(G)for(Ct=0;Ct<G.length;Ct++)Xe[this._keyGetter(G[Ct])]=!0;for(Ct=0;Ct<H.length;Ct++){var Dt=this._convertItemToNode(H[Ct],Le,lt);if(void 0===Dt.key)return;Dt.visible=!G||!!Xe[Dt.key],Dt.parent&&Dt.parent.children.push(Dt)}var Nt=lt[Le]||{key:Le,children:[]};return Nt.level=-1,Nt},_convertDataToPlainStructure(H,G,Le){var Xe;if(this._itemsGetter&&!H.isConverted){Le=Le||[];for(var lt=0;lt<H.length;lt++){var Ct=(0,j.lj)(H[lt]);void 0===(Xe=this._keyGetter(Ct))&&this._keySetter(Ct,Xe=Le.length+1),this._parentIdSetter(Ct,void 0===G?this.option("rootValue"):G),Le.push(Ct);var Dt=this._itemsGetter(Ct);if(Dt&&Dt.length){this._convertDataToPlainStructure(Dt,Xe,Le);var Nt=this.option("itemsExpr");(0,le.Tn)(Nt)||delete Ct[Nt]}}return Le.isConverted=!0,Le}return H},_createIdFilter(H,G){for(var Le=[],Xe=0;Xe<G.length;Xe++)Le.push([H,"=",G[Xe]]);return d.A.combineFilters(Le,"or")},_customizeRemoteOperations(H,G){this.callBase.apply(this,arguments),H.remoteOperations.paging=!1;var Le=!1;this.option("autoExpandAll")&&(H.remoteOperations.sorting=!1,H.remoteOperations.filtering=!1,(!this._lastLoadOptions||G.filtering&&!H.storeLoadOptions.filter)&&!H.isCustomLoading&&(Le=!0)),H.isCustomLoading||(this._isReload=this._isReload||G.reload,H.cachedStoreData||(this._isChildrenLoaded={},this._isReload&&(this._nodeByKey={})),this.option("expandNodesOnFiltering")&&(G.filtering||this._isReload&&H.storeLoadOptions.filter)&&(H.storeLoadOptions.filter?Le=!0:H.collapseVisibleNodes=!0)),H.expandVisibleNodes=Le},_getParentIdsToLoad(H){for(var G=[],Le=0;Le<H.length;Le++){var Xe=this.getNodeByKey(H[Le]);(!Xe||Xe.hasChildren&&!Xe.children.length)&&G.push(H[Le])}return G},_handleCustomizeStoreLoadOptions(H){var G=this.option("rootValue"),Le=this.option("parentIdExpr"),{parentIds:Xe}=H.storeLoadOptions;if(Xe&&(H.isCustomLoading=!1),this.callBase.apply(this,arguments),H.remoteOperations.filtering&&!H.isCustomLoading&&(I(this)&&H.cachedStoreData||!H.storeLoadOptions.filter)){var lt=H.collapseVisibleNodes?[]:this.option("expandedRowKeys");Xe=[G].concat(lt).concat(Xe||[]);var Ct=H.data?this._getParentIdsToLoad(Xe):Xe;Ct.length&&(H.cachedPagingData=void 0,H.data=void 0,H.mergeStoreLoadData=!0,H.delay=this.option("loadingTimeout")),H.storeLoadOptions.parentIds=Ct,H.storeLoadOptions.filter=this._createIdFilter(Le,Ct)}},_generateInfoToLoad(H,G){var Le,Nt,Xe={},lt={},Ct=[],Dt=this.option("rootValue");for(Nt=0;Nt<H.length;Nt++)Xe[Le=G?this._parentIdGetter(H[Nt]):this._keyGetter(H[Nt])]=!0;for(Nt=0;Nt<H.length;Nt++){Le=G?this._keyGetter(H[Nt]):this._parentIdGetter(H[Nt]);var $t=G?this.isRowExpanded(Le):Le!==Dt;!Xe[Le]&&!lt[Le]&&$t&&(lt[Le]=!0,Ct.push(Le))}return{keyMap:lt,keys:Ct}},_loadParentsOrChildren(H,G,Le){var Xe,lt,Ct,Dt,Nt,{keys:$t,keyMap:Jt}=this._generateInfoToLoad(H,Le),qt=new q.cY,ti=G.remoteOperations.filtering,oi=this.option("maxFilterLengthInRequest"),li=null!==(lt=null===(Xe=G.storeLoadOptions)||void 0===Xe?void 0:Xe.sort)&&void 0!==lt?lt:null===(Ct=G.loadOptions)||void 0===Ct?void 0:Ct.sort,si=ti?G.storeLoadOptions:G.loadOptions,gi=jt=>(ti&&(this._cachedStoreData=Ae(this._cachedStoreData.concat(jt),li)),Ae(H.concat(jt),li));if(!$t.length)return qt.resolve(H);var ai=$t.map(jt=>this.getNodeByKey(jt)).filter(jt=>jt&&jt.data);if(ai.length===$t.length&&(Le&&(ai=ai.reduce((jt,vi)=>jt.concat(vi.children),[])),ai.length))return this._loadParentsOrChildren(gi(ai.map(jt=>jt.data)),G,Le);var mi=Le?this.option("parentIdExpr"):this.getKeyExpr();Dt=this._createIdFilter(mi,$t),encodeURI(JSON.stringify(Dt)).length>oi&&(Dt=jt=>Jt[Le?this._parentIdGetter(jt):this._keyGetter(jt)],Nt=ti),si=(0,_e.X)({},si,{filter:Nt?null:Dt});var pi=G.fullData?new re.A(G.fullData):this._dataSource.store();return this.loadFromStore(si,pi).done(jt=>{jt.length?(Nt&&(jt=(0,ue.A)(jt).filter(Dt).toArray()),this._loadParentsOrChildren(gi(jt),G,Le).done(qt.resolve).fail(qt.reject)):qt.resolve(H)}).fail(qt.reject),qt},_loadParents(H,G){return this._loadParentsOrChildren(H,G)},_loadChildrenIfNeed(H,G){return I(this)?this._loadParentsOrChildren(H,G,!0):(0,q.z7)(H)},_updateHasItemsMap(H){var{parentIds:G}=H.storeLoadOptions;if(G)for(var Le=0;Le<G.length;Le++)this._isChildrenLoaded[G[Le]]=!0},_getKeyInfo:()=>({key:()=>"key",keyOf:H=>H.key}),_processChanges(H){var G=[];return H.forEach(Le=>{"insert"===Le.type?G=G.concat(this._applyInsert(Le)):"remove"===Le.type?G=G.concat(this._applyRemove(Le)):"update"===Le.type&&G.push({type:Le.type,key:Le.key,data:{data:Le.data}})}),G},_handleChanging(H){this.callBase.apply(this,arguments),H.postProcessChanges=G=>{var Le=G.filter(Xe=>"update"===Xe.type);return this._processChanges(Le)}},_applyBatch(H){var G=this._processChanges(H);this.callBase(G)},_setHasItems(H,G){var Le=this._hasItemsSetter;H.hasChildren=G,Le&&H.data&&Le(H.data,G)},_applyInsert(H){var G=[],Le=this.parentKeyOf(H.data),Xe=this.getNodeByKey(Le);if(Xe){var lt=this.option("rootValue"),Ct=this._convertItemToNode(H.data,lt,this._nodeByKey);if(Ct.hasChildren=!1,Ct.level=Xe.level+1,Ct.visible=!0,Xe.children.push(Ct),this._isChildrenLoaded[Ct.key]=!0,this._setHasItems(Xe,!0),(!Xe.parent||this.isRowExpanded(Xe.key))&&void 0!==H.index){var Dt=this.items().indexOf(Xe)+1;Dt+=H.index>=0?Math.min(H.index,Xe.children.length):Xe.children.length,G.push({type:H.type,data:Ct,index:Dt})}}return G},_needToCopyDataObject:()=>!1,_applyRemove(H){var G=[],Le=this.getNodeByKey(H.key),Xe=Le&&Le.parent;if(Xe){var lt=Xe.children.indexOf(Le);lt>=0&&(Xe.children.splice(lt,1),Xe.children.length||this._setHasItems(Xe,!1),G.push(H),G=G.concat(this.getChildNodeKeys(H.key).map(Ct=>({type:H.type,key:Ct}))))}return G},_handleDataLoaded(H){var G=H.data=this._convertDataToPlainStructure(H.data);!H.remoteOperations.filtering&&H.loadOptions.filter&&(H.fullData=m((0,ue.A)(H.data),{sort:H.loadOptions&&H.loadOptions.sort}).toArray()),this._updateHasItemsMap(H),this.callBase(H),G.isConverted&&this._cachedStoreData&&(this._cachedStoreData.isConverted=!0)},_fillNodes(H,G,Le,Xe){var lt=I(this);Xe=Xe||0;for(var Ct=0;Ct<H.length;Ct++){var Dt=H[Ct],Nt=!1;this._fillNodes(H[Ct].children,G,Le,Xe+1),Dt.level=Xe,Dt.hasChildren=this._calculateHasItems(Dt,G),Dt.visible&&Dt.hasChildren&&(lt?Dt.children.filter($t=>$t.visible).length?Nt=!0:Dt.children.length&&Ce.foreachNodes(Dt.children,$t=>{$t.visible=!0}):Nt=!0,G.expandVisibleNodes&&Nt&&Le.push(Dt.key)),(Dt.visible||Dt.hasChildren)&&(Dt.parent.hasChildren=!0)}},_processTreeStructure(H,G){var{data:Le}=H,{parentIds:Xe}=H.storeLoadOptions,lt=[];if(Xe&&Xe.length||this._isReload){if(H.fullData&&H.fullData.length>H.data.length&&(Le=H.fullData,G=G||H.data),this._rootNode=this._createNodesByItems(Le,G),!this._rootNode)return void(H.data=(new q.cY).reject(c.A.Error("E1046",this.getKeyExpr())));this._fillNodes(this._rootNode.children,H,lt),this._isNodesInitializing=!0,(H.collapseVisibleNodes||lt.length)&&this.option("expandedRowKeys",lt),this._isReload=!1,this.executeAction("onNodesInitialized",{root:this._rootNode}),this._isNodesInitializing=!1}var Ct=[];this._fillVisibleItemsByNodes(this._rootNode.children,H,Ct),H.data=Ct,this._totalItemsCount=Ct.length},_handleDataLoadedCore(H){var Dt,G=this,{data:Le}=H,{callBase:Xe}=G,lt=H.storeLoadOptions.filter||H.loadOptions.filter,Ct=G.option("filterMode"),{parentIds:Nt}=H.storeLoadOptions;if(!H.isCustomLoading){if(lt&&(!Nt||!Nt.length)&&"standard"!==Ct){var Jt=H.data=new q.cY;return"matchOnly"===Ct&&(Dt=Le),G._loadParents(Le,H).done(qt=>{G._loadChildrenIfNeed(qt,H).done(ti=>{H.data=ti,G._processTreeStructure(H,Dt),Xe.call(G,H),Jt.resolve(H.data)})}).fail(Jt.reject)}G._processTreeStructure(H)}G.callBase(H)},_handlePush(H){var{changes:G}=H;this._dataSource._reshapeOnPush&&!!G.length&&(this._isReload=!0),G.forEach(lt=>{var Ct;null!==(Ct=lt.index)&&void 0!==Ct||(lt.index=-1)}),this.callBase.apply(this,arguments)},init(H,G){this.callBase.apply(this,arguments);var Le=this.option("dataStructure");this._keyGetter=this._createKeyGetter(),this._parentIdGetter=this.createParentIdGetter(),this._hasItemsGetter=this._createHasItemsGetter(),this._hasItemsSetter=this._createHasItemsSetter(),"tree"===Le&&(this._itemsGetter=this._createItemsGetter(),this._keySetter=this._createKeySetter(),this._parentIdSetter=this.createParentIdSetter()),this._nodeByKey={},this._isChildrenLoaded={},this._totalItemsCount=0,this.createAction("onNodesInitialized")},getKeyExpr(){var H=this.store(),G=H&&H.key(),Le=this.option("keyExpr");if((0,le.O9)(G)&&(0,le.O9)(Le)&&!(0,ee.RL)(G,Le))throw c.A.Error("E1044");return G||Le||"id"},keyOf(H){return this._keyGetter&&this._keyGetter(H)},parentKeyOf(H){return this._parentIdGetter&&this._parentIdGetter(H)},getRootNode(){return this._rootNode},totalItemsCount(){return this._totalItemsCount+this._totalCountCorrection},isRowExpanded(H,G){if(G){var{isExpandedByKey:Le}=G;return Le||(Le=G.isExpandedByKey={},this.option("expandedRowKeys").forEach(lt=>{Le[lt]=!0})),!!Le[H]}return d.A.getIndexByKey(H,this.option("expandedRowKeys"),null)>=0},_changeRowExpandCore(H){var G=this.option("expandedRowKeys").slice(),Le=d.A.getIndexByKey(H,G,null);Le<0?G.push(H):G.splice(Le,1),this.option("expandedRowKeys",G)},changeRowExpand(H){return this._changeRowExpandCore(H),this._isNodesInitializing?(new q.cY).resolve():this.load()},getNodeByKey(H){if(this._nodeByKey)return this._nodeByKey[H]},getNodeLeafKeys(){var H=this,G=[];return(H._rootNode?[H._rootNode.key]:[]).forEach(Xe=>{var lt=H.getNodeByKey(Xe);lt&&Ce.foreachNodes([lt],Ct=>{!Ct.children.length&&G.push(Ct.key)})}),G},getChildNodeKeys(H){var G=this.getNodeByKey(H),Le=[];return G&&Ce.foreachNodes(G.children,Xe=>{Le.push(Xe.key)}),Le},loadDescendants(H,G){var Le=this,Xe=new q.cY,lt=Le.remoteOperations();if(H=(0,le.O9)(H)?Array.isArray(H)?H:[H]:Le.getNodeLeafKeys(),!lt.filtering||!H.length)return Xe.resolve();var Ct=Le._dataSource._createStoreLoadOptions();return Ct.parentIds=H,Le.load(Ct).done(()=>{if(!G){var Dt=(Nt=Le,Jt=[],H.forEach(qt=>{var ti=Nt.getNodeByKey(qt);ti&&ti.children.forEach(oi=>{Jt.push(oi.key)})}),Jt);if(Dt.length)return void Le.loadDescendants(Dt,G).done(Xe.resolve).fail(Xe.reject)}var Nt,Jt;Xe.resolve()}).fail(Xe.reject),Xe.promise()},forEachNode(){var G,H=[];if(1===arguments.length){G=arguments[0];var Le=this.getRootNode();H=Le&&Le.children||[]}else 2===arguments.length&&(G=arguments[1],H=arguments[0],H=Array.isArray(H)?H:[H]);Ce.foreachNodes(H,G)}}}());const xe={extend(Ae){N=N.inherit(Ae)},create:Ae=>new N(Ae)};var Pe=P.X.controllers.data.inherit({_getDataSourceAdapter:()=>xe,_getNodeLevel(Ae){for(var H=-1;Ae.parent;)Ae.visible&&H++,Ae=Ae.parent;return H},_generateDataItem(Ae,H){return{rowType:"data",node:Ae,key:Ae.key,data:Ae.data,isExpanded:this.isRowExpanded(Ae.key,H),level:this._getNodeLevel(Ae)}},_loadOnOptionChange(){this._dataSource.load()},_isItemEquals(Ae,H){return!(Ae.isSelected!==H.isSelected||Ae.node&&H.node&&Ae.node.hasChildren!==H.node.hasChildren||Ae.level!==H.level||Ae.isExpanded!==H.isExpanded)&&this.callBase.apply(this,arguments)},_isCellChanged(Ae,H,G,Le,Xe){return Le===this._columnsController.getFirstDataColumnIndex()&&Ae.isSelected!==H.isSelected||this.callBase.apply(this,arguments)},init(){this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed"),this.callBase.apply(this,arguments)},keyOf(Ae){var H=this._dataSource;if(H)return H.keyOf(Ae)},key(){var Ae=this._dataSource;if(Ae)return Ae.getKeyExpr()},publicMethods(){return this.callBase().concat(["expandRow","collapseRow","isRowExpanded","getRootNode","getNodeByKey","loadDescendants","forEachNode"])},changeRowExpand(Ae){if(this._dataSource){var H={key:Ae},G=this.isRowExpanded(Ae);if(this.executeAction(G?"onRowCollapsing":"onRowExpanding",H),!H.cancel)return this._dataSource.changeRowExpand(Ae).done(()=>{this.executeAction(G?"onRowCollapsed":"onRowExpanded",H)})}return(new q.cY).resolve()},isRowExpanded(Ae,H){return this._dataSource&&this._dataSource.isRowExpanded(Ae,H)},expandRow(Ae){return this.isRowExpanded(Ae)?(new q.cY).resolve():this.changeRowExpand(Ae)},collapseRow(Ae){return this.isRowExpanded(Ae)?this.changeRowExpand(Ae):(new q.cY).resolve()},getRootNode(){return this._dataSource&&this._dataSource.getRootNode()},optionChanged(Ae){switch(Ae.name){case"rootValue":case"parentIdExpr":case"itemsExpr":case"filterMode":case"expandNodesOnFiltering":case"autoExpandAll":case"hasItemsExpr":case"dataStructure":this._columnsController.reset(),this._items=[],this._refreshDataSource(),Ae.handled=!0;break;case"expandedRowKeys":case"onNodesInitialized":this._dataSource&&!this._dataSource._isNodesInitializing&&!(0,ee.RL)(Ae.value,Ae.previousValue)&&this._loadOnOptionChange(),Ae.handled=!0;break;case"maxFilterLengthInRequest":Ae.handled=!0;break;default:this.callBase(Ae)}},getNodeByKey(Ae){if(this._dataSource)return this._dataSource.getNodeByKey(Ae)},getChildNodeKeys(Ae){if(this._dataSource)return this._dataSource.getChildNodeKeys(Ae)},loadDescendants(Ae,H){if(this._dataSource)return this._dataSource.loadDescendants(Ae,H)},forEachNode(){this._dataSource.forEachNode.apply(this,arguments)}});Ce.registerModule("data",{defaultOptions:()=>(0,_e.X)({},P.X.defaultOptions(),{itemsExpr:"items",parentIdExpr:"parentId",rootValue:0,dataStructure:"plain",expandedRowKeys:[],filterMode:"withAncestors",expandNodesOnFiltering:!0,autoExpandAll:!1,onNodesInitialized:null,maxFilterLengthInRequest:1500,paging:{enabled:!1}}),controllers:{data:Pe}});var Ie=i(4231);Ce.registerModule("sorting",Ie.L);var B=i(4292),n=i(1269),g=i(675),o=i(9644),l="dx-treelist-text-content",F="dx-treelist-expanded",te="dx-treelist-collapsed",X=o.E.views.rowsView.inherit(function(){var Ae=function(H,G){var Le=(0,B.A)("<div>").addClass("dx-treelist-empty-space");return H&&Le.toggleClass(F,G).toggleClass(te,!G).append((0,B.A)("<span>")),Le};return{_renderIconContainer(H,G){var Le=(0,B.A)("<div>").addClass("dx-treelist-icon-container").appendTo(H);if(G.watch){var Xe=G.watch(()=>[G.row.level,G.row.isExpanded,G.row.node.hasChildren],()=>{Le.empty(),this._renderIcons(Le,G)});n.A.on(Le,g.N,Xe)}return H.addClass("dx-treelist-cell-expandable"),this._renderIcons(Le,G)},_renderIcons(H,G){for(var{row:Le}=G,{level:Xe}=Le,lt=0;lt<=Xe;lt++)H.append(Ae(lt===Xe&&Le.node.hasChildren,Le.isExpanded));return H},_renderCellCommandContent(H,G){return this._renderIconContainer(H,G),!0},_processTemplate(H,G){var Le,Xe=this,Ct=this.callBase(H),Dt=Xe._columnsController.getFirstDataColumnIndex();return Ct&&(null===(Le=G.column)||void 0===Le?void 0:Le.index)===Dt?{render(Nt){var Jt,$t=Nt.container;Xe._renderCellCommandContent($t,Nt.model)&&(Nt.container=(Jt=$t,(0,B.A)("<div>").addClass(l).appendTo(Jt))),Ct.render(Nt)}}:Ct},_updateCell(H,G){H=H.hasClass(l)?H.parent():H,this.callBase(H,G)},_rowClick(H){var G=this._dataController,Le=(0,B.A)(H.event.target),Xe=this.isExpandIcon(Le),lt=G&&G.items()[H.rowIndex];Xe&&lt&&G.changeRowExpand(lt.key),this.callBase(H)},_createRow(H){var G=H&&H.node,Le=this.callBase.apply(this,arguments);return G&&(this.setAria("level",H.level+1,Le),G.hasChildren&&this.setAria("expanded",H.isExpanded,Le)),Le},_getGridRoleName:()=>"treegrid",isExpandIcon:H=>!!H.closest(".".concat(F,", .").concat(te)).length,setAriaExpandedAttribute(H,G){var Le=G.isExpanded;this.setAria("expanded",(0,le.O9)(Le)&&Le.toString(),H)}}}());Ce.registerModule("rows",{defaultOptions:o.E.defaultOptions,views:{rowsView:X}});var ge=i(9633);Ce.registerModule("contextMenu",ge.p);var He=i(1639);Ce.registerModule("errorHandling",He.y);var Z=i(8168),D=i(255),U=D.m.controllers.resizing.inherit({_getWidgetAriaLabel:()=>"dxTreeList-ariaTreeList",_toggleBestFitMode(Ae){this.callBase(Ae),this._rowsView.getTableElement().find(".dx-treelist-cell-expandable").toggleClass(this.addWidgetPrefix("best-fit"),Ae)}});Ce.registerModule("gridView",{defaultOptions:D.m.defaultOptions,controllers:(0,Z.A)((0,Z.A)({},D.m.controllers),{resizing:U}),views:D.m.views});var p=i(8539);Ce.registerModule("headerPanel",p.k);var w=i(4905),V=i(1299),J=i(8041),{callModuleItemsMethod:$}=Ce;Ce.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","editingRowBased","editingFormBased","editingCellBased","editing","grouping","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var Te=J.A.inherit({_activeStateUnit:".dx-row",_getDefaultOptions(){var Ae=this.callBase();return(0,Ee.__)(Ce.modules,function(){(0,le.Tn)(this.defaultOptions)&&(0,_e.X)(!0,Ae,this.defaultOptions())}),Ae},_setDeprecatedOptions(){this.callBase(),(0,_e.X)(this._deprecatedOptions,{"columnChooser.allowSearch":{since:"23.1",message:'Use the "columnChooser.search.enabled" option instead'},"columnChooser.searchTimeout":{since:"23.1",message:'Use the "columnChooser.search.timeout" option instead'}})},_defaultOptionsRules(){return this.callBase().concat([{device:()=>(0,V.Nt)(),options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0}}}])},_init(){this.callBase(),this.option("_disableDeprecationWarnings")||d.A.logHeaderFilterDeprecatedWarningIfNeed(this),Ce.processModules(this,Ce),$(this,"init")},_clean:ee.lQ,_optionChanged(Ae){$(this,"optionChanged",[Ae]),Ae.handled||this.callBase(Ae)},_dimensionChanged(){this.updateDimensions(!0)},_visibilityChanged(Ae){Ae&&this.updateDimensions()},_initMarkup(){this.callBase.apply(this,arguments),this.$element().addClass("dx-treelist"),this.getView("gridView").render(this.$element())},_renderContentImpl(){this.getView("gridView").update()},_renderContent(){var Ae=this;(0,ee.zE)(()=>{Ae._renderContentImpl()})},_dispose(){this.callBase(),$(this,"dispose")},isReady(){return this.getController("data").isReady()},beginUpdate(){this.callBase(),$(this,"beginUpdate")},endUpdate(){$(this,"endUpdate"),this.callBase()},getController(Ae){return this._controllers[Ae]},getView(Ae){return this._views[Ae]},focus(Ae){this.callBase(),(0,le.O9)(Ae)&&this.getController("keyboardNavigation").focus(Ae)}});Te.registerModule=Ce.registerModule.bind(Ce),(0,w.A)("dxTreeList",Te);const Ne=Te;var T=i(5002),r=T.u.extenders.controllers.stateStoring.applyState;Ce.registerModule("stateStoring",(0,_e.X)(!0,{},T.u,{extenders:{controllers:{stateStoring:{applyState(Ae){r.apply(this,arguments),this.option("expandedRowKeys",Ae.expandedRowKeys?Ae.expandedRowKeys.slice():[])}},data:{getUserState(){var Ae=this.callBase.apply(this,arguments);return this.option("autoExpandAll")||(Ae.expandedRowKeys=this.option("expandedRowKeys")),Ae}}}}}));var v=i(3987);Ce.registerModule("columnChooser",v.C);var f=i(449);Ce.registerModule("masterDetail",(0,_e.X)(!0,{},f.g,{extenders:{controllers:{data:{isRowExpanded(){return this.callBase.apply(this,arguments)},_processItems(){return this.callBase.apply(this,arguments)},_processDataItem(){return this.callBase.apply(this,arguments)}}}}}));var s=i(2219);Ce.registerModule("editorFactory",s.k);var t=i(736),u=i(5713),y="dx-treelist-icon-container",we=u.l.controllers.editing.inherit({_generateNewItem(Ae){var H=this.callBase(Ae);return H.data={key:Ae},H.children=[],H.level=0,H.parentKey=this.option("rootValue"),H},_isProcessedItem:()=>!0,_setInsertAfterOrBeforeKey(Ae,H){void 0!==H&&H!==this.option("rootValue")?Ae.insertAfterKey=H:this.callBase.apply(this,arguments)},_getLoadedRowIndex(Ae,H){var Le=this.getController("data").dataSource(),Xe=Le?.parentKeyOf(H.data);if(void 0!==Xe&&Xe!==this.option("rootValue")){var lt=d.A.getIndexByKey(Xe,Ae);return lt>=0&&this._dataController.isRowExpanded(Xe)?lt+1:-1}return this.callBase.apply(this,arguments)},_isEditColumnVisible(){var Ae=this.callBase.apply(this,arguments),H=this.option("editing");return Ae||H.allowAdding},_isDefaultButtonVisible(Ae,H){var G=this.callBase.apply(this,arguments),{row:Le}=H;return"add"===Ae.name?this.allowAdding(H)&&Le.rowIndex!==this._getVisibleEditRowIndex()&&!(Le.removed||Le.isNewRow):G},_getEditingButtons(Ae){var H=this.callBase.apply(this,arguments);return Ae.column.buttons||H.unshift(this._getButtonConfig("add",Ae)),H},_beforeSaveEditData(Ae){var H=this._dataController,G=this.callBase.apply(this,arguments);if(Ae&&"insert"!==Ae.type){var Le=H?.store(),Xe=Le?.key();if(!(0,le.O9)(Xe))throw c.A.Error("E1045")}return G},addRowByRowIndex(Ae){var G=this.getController("data").getVisibleRows()[Ae];return this.addRow(G?G.key:void 0)},addRow(Ae){return void 0===Ae&&(Ae=this.option("rootValue")),this.callBase.call(this,Ae)},_addRowCore(Ae,H,G){var{callBase:Le}=this,Xe=this.option("rootValue"),lt=this.getController("data"),Dt=lt.dataSource().createParentIdGetter();if(void 0!==(H=Dt(Ae))&&H!==Xe&&!lt.isRowExpanded(H)){var Nt=new q.cY;return lt.expandRow(H).done(()=>{setTimeout(()=>{Le.call(this,Ae,H,G).done(Nt.resolve).fail(Nt.reject)})}).fail(Nt.reject),Nt.promise()}return Le.call(this,Ae,H,G)},_initNewRow(Ae,H){return this.getController("data").dataSource().createParentIdSetter()(Ae.data,H),this.callBase.apply(this,arguments)},allowAdding(Ae){return this._allowEditAction("allowAdding",Ae)},_needToCloseEditableCell(Ae){return this.callBase.apply(this,arguments)||Ae.closest(".".concat(y)).length&&this.isEditing()},getButtonLocalizationNames(){var Ae=this.callBase.apply(this);return Ae.add="dxTreeList-editingAddRowToNode",Ae}}),R=u.l.extenders.views.rowsView._rowClick,z=u.l.extenders.views.rowsView._rowDblClick,fe=function(Ae){var H=(0,B.A)(Ae.event.target),G="dxdblclick"===Ae.event.type?z:R;return!H.closest(".".concat("dx-select-checkbox")).length&&!Me.call(this,Ae,G)};function Me(Ae,H){return!(0,B.A)(Ae.event.target).closest(".".concat(y)).length&&(H.call(this,Ae),!0)}var ze=(0,_e.X)({},u.l.extenders.views.rowsView,{_renderCellCommandContent(Ae,H){var Le=H.row&&this._editingController.isEditRow(H.row.rowIndex);return!(H.isEditing||Le)&&this.callBase.apply(this,arguments)},_rowClick(Ae){fe.call(this,Ae)&&this.callBase.apply(this,arguments)},_rowDblClick(Ae){fe.call(this,Ae)&&this.callBase.apply(this,arguments)}});Ce.registerModule("editing",{defaultOptions:()=>(0,_e.X)(!0,u.l.defaultOptions(),{editing:{texts:{addRowToNode:t.A.format("dxTreeList-editingAddRowToNode")}}}),controllers:{editing:we},extenders:{controllers:(0,_e.X)(!0,{},u.l.extenders.controllers,{data:{changeRowExpand(){return this._editingController.refresh(),this.callBase.apply(this,arguments)}}}),views:{rowsView:ze,headerPanel:u.l.extenders.views.headerPanel}}});var tt=i(8274);Ce.registerModule("editingRowBased",tt.a);var ht=i(1210);Ce.registerModule("editingFormBased",ht.I);var St=i(3520);Ce.registerModule("editingCellBased",St.W);var xt=i(9869),Tt=(0,_e.X)({},xt.W.extenders.controllers.editing);delete Tt.processItems,delete Tt.processDataItem,Ce.registerModule("validating",{defaultOptions:xt.W.defaultOptions,controllers:xt.W.controllers,extenders:{controllers:{editing:Tt,editorFactory:xt.W.extenders.controllers.editorFactory},views:xt.W.extenders.views}});var Pt=i(5965),Ht=Pt.f.defaultOptions,M=Pt.f.extenders.dataSourceAdapter;Pt.f.extenders.controllers.data=(0,_e.X)({},Pt.f.extenders.controllers.data,{_loadOnOptionChange(){var Ae=this._dataSource&&this._dataSource._virtualScrollController;Ae&&Ae.reset(),this.callBase()}}),Pt.f.extenders.dataSourceAdapter=(0,_e.X)({},M,{changeRowExpand(){return this.callBase.apply(this,arguments).done(()=>{var Ae=this.getViewportItemIndex();Ae>=0&&this.setViewportItemIndex(Ae)})}}),Ce.registerModule("virtualScrolling",(0,_e.X)({},Pt.f,{defaultOptions:()=>(0,_e.X)(!0,Ht(),{scrolling:{mode:"virtual"}})})),xe.extend(Pt.f.extenders.dataSourceAdapter);var ce=i(170);Ce.registerModule("filterRow",ce.$);var Be=i(6101);Ce.registerModule("headerFilter",Be.Q);var Se=i(1271);Ce.registerModule("filterSync",Se.a);var Ye=i(848);Ce.registerModule("filterBuilder",Ye.s);var Qe=i(2570);Ce.registerModule("filterPanel",Qe.$);var pt=i(7807);Ce.registerModule("pager",pt.u);var At=i(541);Ce.registerModule("columnsResizingReordering",At.Q);var _t=i(9725);Ce.registerModule("columnFixing",_t.o);var Fe=i(1701);Ce.registerModule("adaptivity",Fe.A);var Je=i(4153),De=Je.n.extenders.views.rowsView._rowClick,O=Je.n.extenders.controllers.data._handleDataChanged,Q=function(Ae,H){return!!Ae.filter(G=>G===H).length};Ce.registerModule("selection",(0,_e.X)(!0,{},Je.n,{defaultOptions:()=>(0,_e.X)(!0,Je.n.defaultOptions(),{selection:{showCheckBoxesMode:"always",recursive:!1}}),extenders:{controllers:{data:{_handleDataChanged(Ae){var H=this.getController("selection");H.isRecursiveSelection()&&(!Ae||"updateSelectionState"!==Ae.changeType)&&H.updateSelectionState({selectedItemKeys:this.option("selectedRowKeys")}),O.apply(this,arguments)},loadDescendants(){var Ae=this,H=Ae.callBase.apply(Ae,arguments),G=Ae.getController("selection");return G.isRecursiveSelection()&&H.done(()=>{G.updateSelectionState({selectedItemKeys:Ae.option("selectedRowKeys")})}),H}},selection:{init(){this.callBase.apply(this,arguments),this._selectionStateByKey={}},_getSelectionConfig(){var Ae=this.callBase.apply(this,arguments),{plainItems:H}=Ae;return Ae.plainItems=G=>{var Le;return G&&(Le=this._dataController.getCachedStoreData()),Le||(Le=H.apply(this,arguments).map(Xe=>Xe.data)),Le||[]},Ae.isItemSelected=G=>{var Le=this._dataController.keyOf(G);return this.isRowSelected(Le)},Ae.isSelectableItem=G=>!!G,Ae.getItemData=G=>G,Ae.allowLoadByRange=()=>!1,Ae},renderSelectCheckBoxContainer(Ae,H){var G=this.component.getView("rowsView");Ae.addClass("dx-cell-focus-disabled");var Le=G._renderSelectCheckBox(Ae,{value:H.row.isSelected,row:H.row,column:H.column});G._attachCheckBoxClickEvent(Le)},_updateSelectColumn:ee.lQ,_getSelectAllNodeKeys(){var{component:Ae}=this,H=Ae.getRootNode(),G={},Le=[],Xe=this.isRecursiveSelection();return H&&Ce.foreachNodes(H.children,lt=>(void 0!==lt.key&&(lt.visible||Xe)&&Le.push(lt.key),!lt.visible||!Xe&&Ae.isRowExpanded(lt.key,G))),Le},isSelectAll(){if(0===(this.option("selectedRowKeys")||[]).length)return!1;var{component:H}=this,G=this._getSelectAllNodeKeys(),Le=this.isRecursiveSelection(),Xe=!1,lt=G.filter(Ct=>{var Dt=H.isRowSelected(Ct,Le);return void 0===Dt&&(Xe=!0),Dt});return lt.length?lt.length===G.length||void 0:!!Xe&&void 0},selectAll(){var Ae=this._getSelectAllNodeKeys().filter(H=>!this.isRowSelected(H));return this.focusedItemIndex(-1),this.selectRows(Ae,!0)},deselectAll(){var Ae=this._getSelectAllNodeKeys();return this.focusedItemIndex(-1),this.deselectRows(Ae)},selectedItemKeys(Ae,H,G,Le){var Xe=this,lt=Xe.option("selectedRowKeys"),Dt=this.isRecursiveSelection()&&Xe._normalizeSelectionArgs({keys:(0,le.O9)(Ae)?Ae:[]},H,!G);return Dt&&!(0,ee.RL)(Dt.selectedRowKeys,lt)?(Xe._isSelectionNormalizing=!0,this.callBase(Dt.selectedRowKeys,!1,!1,!1).always(()=>{Xe._isSelectionNormalizing=!1}).done(Nt=>{Dt.selectedRowsData=Nt,Xe._fireSelectionChanged(Dt)})):this.callBase(Ae,H,G,Le)},changeItemSelection(Ae,H){var G=this.isRecursiveSelection(),Le=this.callBase.bind(this);if(G&&!H.shift){var Xe=this._dataController.getKeyByRowIndex(Ae);return this.selectedItemKeys(Xe,!0,this.isRowSelected(Xe)).done(()=>{this.isRowSelected(Xe)&&Le(Ae,H,!0)})}return this.callBase.apply(this,arguments)},_updateParentSelectionState(Ae,H){var G=this,Le=H,Xe=Ae.parent;Xe&&(Xe.children.length>1&&(!1===H?Le=!!Xe.children.some(Dt=>G._selectionStateByKey[Dt.key])&&void 0:!0===H&&(Le=!Xe.children.some(Dt=>!G._selectionStateByKey[Dt.key])||void 0)),this._selectionStateByKey[Xe.key]=Le,Xe.parent&&Xe.parent.level>=0&&this._updateParentSelectionState(Xe,Le))},_updateChildrenSelectionState(Ae,H){var G=this,{children:Le}=Ae;Le&&Le.forEach(Xe=>{G._selectionStateByKey[Xe.key]=H,Xe.children.length>0&&G._updateChildrenSelectionState(Xe,H)})},_updateSelectionStateCore(Ae,H){for(var G=this._dataController,Le=0;Le<Ae.length;Le++){this._selectionStateByKey[Ae[Le]]=H;var Xe=G.getNodeByKey(Ae[Le]);Xe&&(this._updateParentSelectionState(Xe,H),this._updateChildrenSelectionState(Xe,H))}},_getSelectedParentKeys(Ae,H,G){for(var Le,Xe=this._dataController.getNodeByKey(Ae),lt=Xe&&Xe.parent,Ct=[];lt&&lt.level>=0;){if(Ct.unshift(lt.key),G?!Q(H,lt.key)&&this.isRowSelected(lt.key):H.indexOf(lt.key)>=0){Ct=this._getSelectedParentKeys((Le=lt).key,H,G).concat(Ct);break}if(G)break;lt=lt.parent}return Le&&Ct||[]},_getSelectedChildKeys(Ae,H){var G=[],Le=this._dataController.getNodeByKey(Ae);return Le&&Ce.foreachNodes(Le.children,Xe=>{var lt=H.indexOf(Xe.key);return lt<0&&G.push(Xe.key),lt>0||lt<0&&void 0===this._selectionStateByKey[Xe.key]}),G},_normalizeParentKeys(Ae,H){var G=[Ae],Le=this._getSelectedParentKeys(Ae,H.selectedRowKeys);if(Le.length){(G=G.concat(Le)).forEach(lt=>{var Ct=H.selectedRowKeys.indexOf(lt);Ct>=0&&H.selectedRowKeys.splice(Ct,1)});var Xe=this._getSelectedChildKeys(Le[0],G);H.selectedRowKeys=H.selectedRowKeys.concat(Xe)}},_normalizeChildrenKeys(Ae,H){var G=this._dataController.getNodeByKey(Ae);G&&G.children.forEach(Le=>{var Xe=H.selectedRowKeys.indexOf(Le.key);Xe>=0&&H.selectedRowKeys.splice(Xe,1),this._normalizeChildrenKeys(Le.key,H)})},_normalizeSelectedRowKeysCore(Ae,H,G,Le){var Xe=this;Ae.forEach(lt=>{if(!G||Xe.isRowSelected(lt)!==Le){Xe._normalizeChildrenKeys(lt,H);var Ct=H.selectedRowKeys.indexOf(lt);Le?(Ct<0&&H.selectedRowKeys.push(lt),H.currentSelectedRowKeys.push(lt)):(Ct>=0&&H.selectedRowKeys.splice(Ct,1),H.currentDeselectedRowKeys.push(lt),Xe._normalizeParentKeys(lt,H))}})},_normalizeSelectionArgs(Ae,H,G){var Le,Xe=Array.isArray(Ae.keys)?Ae.keys:[Ae.keys],lt=this.option("selectedRowKeys")||[];return Xe.length&&(Le={currentSelectedRowKeys:[],currentDeselectedRowKeys:[],selectedRowKeys:H?lt.slice(0):[]},this._normalizeSelectedRowKeysCore(Xe,Le,H,G)),Le},_updateSelectedItems(Ae){this.updateSelectionState(Ae),this.callBase(Ae)},_fireSelectionChanged(){this._isSelectionNormalizing||this.callBase.apply(this,arguments)},_isModeLeavesOnly:Ae=>"leavesOnly"===Ae,_removeDuplicatedKeys(Ae){var H=[],G={};return Ae.forEach(Le=>{G[Le]||(G[Le]=!0,H.push(Le))}),H},_getAllChildKeys(Ae){var H=[],G=this._dataController.getNodeByKey(Ae);return G&&Ce.foreachNodes(G.children,Le=>{H.push(Le.key)},!0),H},_getAllSelectedRowKeys(Ae){var H=[];return Ae.forEach(G=>{var Le=this._getSelectedParentKeys(G,[],!0),Xe=this._getAllChildKeys(G);H.push.apply(H,Le.concat([G],Xe))}),H=this._removeDuplicatedKeys(H)},_getParentSelectedRowKeys(Ae){var H=this,G=[];return Ae.forEach(Le=>{!H._getSelectedParentKeys(Le,Ae).length&&G.push(Le)}),G},_getLeafSelectedRowKeys(Ae){var H=[],G=this._dataController;return Ae.forEach(Le=>{var Xe=G.getNodeByKey(Le);Xe&&!Xe.hasChildren&&H.push(Le)}),H},isRecursiveSelection(){var Ae=this.option("selection.mode"),H=this.option("selection.recursive");return"multiple"===Ae&&H},updateSelectionState(Ae){var H=Ae.removedItemKeys||[],G=Ae.selectedItemKeys||[];this.isRecursiveSelection()&&(this._updateSelectionStateCore(H,!1),this._updateSelectionStateCore(G,!0))},isRowSelected(Ae,H){var G=this.callBase.apply(this,arguments);return H=H??this.isRecursiveSelection(),!G&&H?Ae in this._selectionStateByKey&&this._selectionStateByKey[Ae]:G},getSelectedRowKeys(Ae){if(!this._dataController)return[];var H=this.callBase.apply(this,arguments);return Ae&&(this.isRecursiveSelection()&&(H=this._getAllSelectedRowKeys(H)),"all"!==Ae&&("excludeRecursive"===Ae?H=this._getParentSelectedRowKeys(H):this._isModeLeavesOnly(Ae)&&(H=this._getLeafSelectedRowKeys(H)))),H},getSelectedRowsData(Ae){var H=this._dataController,G=this.getSelectedRowKeys(Ae)||[],Le=[];return G.forEach(Xe=>{var lt=H.getNodeByKey(Xe);lt&&Le.push(lt.data)}),Le},refresh(){return this._selectionStateByKey={},this.callBase.apply(this,arguments)}}},views:{columnHeadersView:{_processTemplate(Ae,H){var G=this,Xe=this.callBase(Ae,H),lt=G._columnsController.getFirstDataColumnIndex();return Xe&&"header"===H.rowType&&H.column.index===lt?{render(Ct){"multiple"===G.option("selection.mode")&&G.renderSelectAll(Ct.container,Ct.model),Xe.render(Ct)}}:Xe},renderSelectAll(Ae,H){Ae.addClass("dx-treelist-select-all"),this._renderSelectAllCheckBox(Ae)},_isSortableElement(Ae){return this.callBase(Ae)&&!Ae.closest(".".concat("dx-select-checkbox")).length}},rowsView:{_renderIcons(Ae,H){return this.callBase.apply(this,arguments),!H.row.isNewRow&&"multiple"===this.option("selection.mode")&&this.getController("selection").renderSelectCheckBoxContainer(Ae,H),Ae},_rowClick(Ae){var H=(0,B.A)(Ae.event.target);this.isExpandIcon(H)?this.callBase.apply(this,arguments):De.apply(this,arguments)}}}}}));var ve=i(6647);Ce.registerModule("search",ve.J);var We=i(5855);Ce.registerModule("keyboardNavigation",(0,_e.X)(!0,{},We.S,{extenders:{controllers:{keyboardNavigation:{_leftRightKeysHandler(Ae,H){var G=this.getVisibleRowIndex(),Le=this._dataController;if(!Ae.ctrl)return this.callBase.apply(this,arguments);var Xe=this._getDirectionCodeByKey(Ae.keyName),lt=Le.getKeyByRowIndex(G);"nextInRow"===Xe?Le.expandRow(lt):Le.collapseRow(lt)}}}}}));var L=i(56);Ce.registerModule("virtualColumns",L.j);var ie=i(6685);Ce.registerModule("focus",(0,_e.X)(!0,{},ie.h,{extenders:{controllers:{data:{changeRowExpand(Ae){return this.option("focusedRowEnabled")&&this.isRowExpanded(Ae)&&this._isFocusedRowInside(Ae)&&this.option("focusedRowKey",Ae),this.callBase.apply(this,arguments)},_isFocusedRowInside(Ae){for(var H=this.option("focusedRowKey"),G=this.getRowIndexByKey(H),Le=G>=0&&this.getVisibleRows()[G],Xe=Le&&Le.node.parent;Xe;){if(Xe.key===Ae)return!0;Xe=Xe.parent}return!1},getParentKey(Ae){var H=this._dataSource,G=this.getNodeByKey(Ae),Le=new q.cY;return G?Le.resolve(G.parent?G.parent.key:void 0):H.load({filter:[H.getKeyExpr(),"=",Ae]}).done(Xe=>{var lt=Xe[0];lt?Le.resolve(H.parentKeyOf(lt)):Le.resolve()}).fail(Le.reject),Le.promise()},expandAscendants(Ae){var H=this,G=H._dataSource,Le=new q.cY;return H.getParentKey(Ae).done(Xe=>{G&&void 0!==Xe&&Xe!==H.option("rootValue")?(G._isNodesInitializing=!0,H.expandRow(Xe),G._isNodesInitializing=!1,H.expandAscendants(Xe).done(Le.resolve).fail(Le.reject)):Le.resolve()}).fail(Le.reject),Le.promise()},getPageIndexByKey(Ae){var H=this,G=H._dataSource,Le=new q.cY;return H.expandAscendants(Ae).done(()=>{G.load({parentIds:[]}).done(Xe=>{var lt=function me(Ae,H){var G=-1;return Ae.forEach((Le,Xe)=>{H(Le)&&(G=Xe)}),G}(Xe,Dt=>H.keyOf(Dt.data)===Ae),Ct=-1;lt>=0&&(Ct=Math.floor(lt/H.pageSize())),Le.resolve(Ct)}).fail(Le.reject)}).fail(Le.reject),Le.promise()}}}}}));var ke=i(601);Ce.registerModule("rowDragging",ke.e);const Et=Ne;var yt=i(7283),et=i(1837);let Wt=(()=>{class Ae extends yt.ic{constructor(G,Le,Xe,lt,Ct,Dt,Nt,$t){super(G,Le,Xe,lt,Nt,$t),this._watcherHelper=lt,this._idh=Ct,this._createEventEmitters([{subscribe:"adaptiveDetailRowPreparing",emit:"onAdaptiveDetailRowPreparing"},{subscribe:"cellClick",emit:"onCellClick"},{subscribe:"cellDblClick",emit:"onCellDblClick"},{subscribe:"cellHoverChanged",emit:"onCellHoverChanged"},{subscribe:"cellPrepared",emit:"onCellPrepared"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"contextMenuPreparing",emit:"onContextMenuPreparing"},{subscribe:"dataErrorOccurred",emit:"onDataErrorOccurred"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"editCanceled",emit:"onEditCanceled"},{subscribe:"editCanceling",emit:"onEditCanceling"},{subscribe:"editingStart",emit:"onEditingStart"},{subscribe:"editorPrepared",emit:"onEditorPrepared"},{subscribe:"editorPreparing",emit:"onEditorPreparing"},{subscribe:"focusedCellChanged",emit:"onFocusedCellChanged"},{subscribe:"focusedCellChanging",emit:"onFocusedCellChanging"},{subscribe:"focusedRowChanged",emit:"onFocusedRowChanged"},{subscribe:"focusedRowChanging",emit:"onFocusedRowChanging"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"initNewRow",emit:"onInitNewRow"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"nodesInitialized",emit:"onNodesInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"rowClick",emit:"onRowClick"},{subscribe:"rowCollapsed",emit:"onRowCollapsed"},{subscribe:"rowCollapsing",emit:"onRowCollapsing"},{subscribe:"rowDblClick",emit:"onRowDblClick"},{subscribe:"rowExpanded",emit:"onRowExpanded"},{subscribe:"rowExpanding",emit:"onRowExpanding"},{subscribe:"rowInserted",emit:"onRowInserted"},{subscribe:"rowInserting",emit:"onRowInserting"},{subscribe:"rowPrepared",emit:"onRowPrepared"},{subscribe:"rowRemoved",emit:"onRowRemoved"},{subscribe:"rowRemoving",emit:"onRowRemoving"},{subscribe:"rowUpdated",emit:"onRowUpdated"},{subscribe:"rowUpdating",emit:"onRowUpdating"},{subscribe:"rowValidating",emit:"onRowValidating"},{subscribe:"saved",emit:"onSaved"},{subscribe:"saving",emit:"onSaving"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{subscribe:"toolbarPreparing",emit:"onToolbarPreparing"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"allowColumnReorderingChange"},{emit:"allowColumnResizingChange"},{emit:"autoExpandAllChange"},{emit:"autoNavigateToFocusedRowChange"},{emit:"cacheEnabledChange"},{emit:"cellHintEnabledChange"},{emit:"columnAutoWidthChange"},{emit:"columnChooserChange"},{emit:"columnFixingChange"},{emit:"columnHidingEnabledChange"},{emit:"columnMinWidthChange"},{emit:"columnResizingModeChange"},{emit:"columnsChange"},{emit:"columnWidthChange"},{emit:"customizeColumnsChange"},{emit:"dataSourceChange"},{emit:"dataStructureChange"},{emit:"dateSerializationFormatChange"},{emit:"disabledChange"},{emit:"editingChange"},{emit:"elementAttrChange"},{emit:"errorRowEnabledChange"},{emit:"expandedRowKeysChange"},{emit:"expandNodesOnFilteringChange"},{emit:"filterBuilderChange"},{emit:"filterBuilderPopupChange"},{emit:"filterModeChange"},{emit:"filterPanelChange"},{emit:"filterRowChange"},{emit:"filterSyncEnabledChange"},{emit:"filterValueChange"},{emit:"focusedColumnIndexChange"},{emit:"focusedRowEnabledChange"},{emit:"focusedRowIndexChange"},{emit:"focusedRowKeyChange"},{emit:"hasItemsExprChange"},{emit:"headerFilterChange"},{emit:"heightChange"},{emit:"highlightChangesChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"itemsExprChange"},{emit:"keyboardNavigationChange"},{emit:"keyExprChange"},{emit:"loadPanelChange"},{emit:"noDataTextChange"},{emit:"pagerChange"},{emit:"pagingChange"},{emit:"parentIdExprChange"},{emit:"remoteOperationsChange"},{emit:"renderAsyncChange"},{emit:"repaintChangesOnlyChange"},{emit:"rootValueChange"},{emit:"rowAlternationEnabledChange"},{emit:"rowDraggingChange"},{emit:"rtlEnabledChange"},{emit:"scrollingChange"},{emit:"searchPanelChange"},{emit:"selectedRowKeysChange"},{emit:"selectionChange"},{emit:"showBordersChange"},{emit:"showColumnHeadersChange"},{emit:"showColumnLinesChange"},{emit:"showRowLinesChange"},{emit:"sortingChange"},{emit:"stateStoringChange"},{emit:"syncLookupFilterValuesChange"},{emit:"tabIndexChange"},{emit:"toolbarChange"},{emit:"twoWayBindingEnabledChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wordWrapEnabledChange"}]),this._idh.setHost(this),Dt.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(G){this._setOption("accessKey",G)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(G){this._setOption("activeStateEnabled",G)}get allowColumnReordering(){return this._getOption("allowColumnReordering")}set allowColumnReordering(G){this._setOption("allowColumnReordering",G)}get allowColumnResizing(){return this._getOption("allowColumnResizing")}set allowColumnResizing(G){this._setOption("allowColumnResizing",G)}get autoExpandAll(){return this._getOption("autoExpandAll")}set autoExpandAll(G){this._setOption("autoExpandAll",G)}get autoNavigateToFocusedRow(){return this._getOption("autoNavigateToFocusedRow")}set autoNavigateToFocusedRow(G){this._setOption("autoNavigateToFocusedRow",G)}get cacheEnabled(){return this._getOption("cacheEnabled")}set cacheEnabled(G){this._setOption("cacheEnabled",G)}get cellHintEnabled(){return this._getOption("cellHintEnabled")}set cellHintEnabled(G){this._setOption("cellHintEnabled",G)}get columnAutoWidth(){return this._getOption("columnAutoWidth")}set columnAutoWidth(G){this._setOption("columnAutoWidth",G)}get columnChooser(){return this._getOption("columnChooser")}set columnChooser(G){this._setOption("columnChooser",G)}get columnFixing(){return this._getOption("columnFixing")}set columnFixing(G){this._setOption("columnFixing",G)}get columnHidingEnabled(){return this._getOption("columnHidingEnabled")}set columnHidingEnabled(G){this._setOption("columnHidingEnabled",G)}get columnMinWidth(){return this._getOption("columnMinWidth")}set columnMinWidth(G){this._setOption("columnMinWidth",G)}get columnResizingMode(){return this._getOption("columnResizingMode")}set columnResizingMode(G){this._setOption("columnResizingMode",G)}get columns(){return this._getOption("columns")}set columns(G){this._setOption("columns",G)}get columnWidth(){return this._getOption("columnWidth")}set columnWidth(G){this._setOption("columnWidth",G)}get customizeColumns(){return this._getOption("customizeColumns")}set customizeColumns(G){this._setOption("customizeColumns",G)}get dataSource(){return this._getOption("dataSource")}set dataSource(G){this._setOption("dataSource",G)}get dataStructure(){return this._getOption("dataStructure")}set dataStructure(G){this._setOption("dataStructure",G)}get dateSerializationFormat(){return this._getOption("dateSerializationFormat")}set dateSerializationFormat(G){this._setOption("dateSerializationFormat",G)}get disabled(){return this._getOption("disabled")}set disabled(G){this._setOption("disabled",G)}get editing(){return this._getOption("editing")}set editing(G){this._setOption("editing",G)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(G){this._setOption("elementAttr",G)}get errorRowEnabled(){return this._getOption("errorRowEnabled")}set errorRowEnabled(G){this._setOption("errorRowEnabled",G)}get expandedRowKeys(){return this._getOption("expandedRowKeys")}set expandedRowKeys(G){this._setOption("expandedRowKeys",G)}get expandNodesOnFiltering(){return this._getOption("expandNodesOnFiltering")}set expandNodesOnFiltering(G){this._setOption("expandNodesOnFiltering",G)}get filterBuilder(){return this._getOption("filterBuilder")}set filterBuilder(G){this._setOption("filterBuilder",G)}get filterBuilderPopup(){return this._getOption("filterBuilderPopup")}set filterBuilderPopup(G){this._setOption("filterBuilderPopup",G)}get filterMode(){return this._getOption("filterMode")}set filterMode(G){this._setOption("filterMode",G)}get filterPanel(){return this._getOption("filterPanel")}set filterPanel(G){this._setOption("filterPanel",G)}get filterRow(){return this._getOption("filterRow")}set filterRow(G){this._setOption("filterRow",G)}get filterSyncEnabled(){return this._getOption("filterSyncEnabled")}set filterSyncEnabled(G){this._setOption("filterSyncEnabled",G)}get filterValue(){return this._getOption("filterValue")}set filterValue(G){this._setOption("filterValue",G)}get focusedColumnIndex(){return this._getOption("focusedColumnIndex")}set focusedColumnIndex(G){this._setOption("focusedColumnIndex",G)}get focusedRowEnabled(){return this._getOption("focusedRowEnabled")}set focusedRowEnabled(G){this._setOption("focusedRowEnabled",G)}get focusedRowIndex(){return this._getOption("focusedRowIndex")}set focusedRowIndex(G){this._setOption("focusedRowIndex",G)}get focusedRowKey(){return this._getOption("focusedRowKey")}set focusedRowKey(G){this._setOption("focusedRowKey",G)}get hasItemsExpr(){return this._getOption("hasItemsExpr")}set hasItemsExpr(G){this._setOption("hasItemsExpr",G)}get headerFilter(){return this._getOption("headerFilter")}set headerFilter(G){this._setOption("headerFilter",G)}get height(){return this._getOption("height")}set height(G){this._setOption("height",G)}get highlightChanges(){return this._getOption("highlightChanges")}set highlightChanges(G){this._setOption("highlightChanges",G)}get hint(){return this._getOption("hint")}set hint(G){this._setOption("hint",G)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(G){this._setOption("hoverStateEnabled",G)}get itemsExpr(){return this._getOption("itemsExpr")}set itemsExpr(G){this._setOption("itemsExpr",G)}get keyboardNavigation(){return this._getOption("keyboardNavigation")}set keyboardNavigation(G){this._setOption("keyboardNavigation",G)}get keyExpr(){return this._getOption("keyExpr")}set keyExpr(G){this._setOption("keyExpr",G)}get loadPanel(){return this._getOption("loadPanel")}set loadPanel(G){this._setOption("loadPanel",G)}get noDataText(){return this._getOption("noDataText")}set noDataText(G){this._setOption("noDataText",G)}get pager(){return this._getOption("pager")}set pager(G){this._setOption("pager",G)}get paging(){return this._getOption("paging")}set paging(G){this._setOption("paging",G)}get parentIdExpr(){return this._getOption("parentIdExpr")}set parentIdExpr(G){this._setOption("parentIdExpr",G)}get remoteOperations(){return this._getOption("remoteOperations")}set remoteOperations(G){this._setOption("remoteOperations",G)}get renderAsync(){return this._getOption("renderAsync")}set renderAsync(G){this._setOption("renderAsync",G)}get repaintChangesOnly(){return this._getOption("repaintChangesOnly")}set repaintChangesOnly(G){this._setOption("repaintChangesOnly",G)}get rootValue(){return this._getOption("rootValue")}set rootValue(G){this._setOption("rootValue",G)}get rowAlternationEnabled(){return this._getOption("rowAlternationEnabled")}set rowAlternationEnabled(G){this._setOption("rowAlternationEnabled",G)}get rowDragging(){return this._getOption("rowDragging")}set rowDragging(G){this._setOption("rowDragging",G)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(G){this._setOption("rtlEnabled",G)}get scrolling(){return this._getOption("scrolling")}set scrolling(G){this._setOption("scrolling",G)}get searchPanel(){return this._getOption("searchPanel")}set searchPanel(G){this._setOption("searchPanel",G)}get selectedRowKeys(){return this._getOption("selectedRowKeys")}set selectedRowKeys(G){this._setOption("selectedRowKeys",G)}get selection(){return this._getOption("selection")}set selection(G){this._setOption("selection",G)}get showBorders(){return this._getOption("showBorders")}set showBorders(G){this._setOption("showBorders",G)}get showColumnHeaders(){return this._getOption("showColumnHeaders")}set showColumnHeaders(G){this._setOption("showColumnHeaders",G)}get showColumnLines(){return this._getOption("showColumnLines")}set showColumnLines(G){this._setOption("showColumnLines",G)}get showRowLines(){return this._getOption("showRowLines")}set showRowLines(G){this._setOption("showRowLines",G)}get sorting(){return this._getOption("sorting")}set sorting(G){this._setOption("sorting",G)}get stateStoring(){return this._getOption("stateStoring")}set stateStoring(G){this._setOption("stateStoring",G)}get syncLookupFilterValues(){return this._getOption("syncLookupFilterValues")}set syncLookupFilterValues(G){this._setOption("syncLookupFilterValues",G)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(G){this._setOption("tabIndex",G)}get toolbar(){return this._getOption("toolbar")}set toolbar(G){this._setOption("toolbar",G)}get twoWayBindingEnabled(){return this._getOption("twoWayBindingEnabled")}set twoWayBindingEnabled(G){this._setOption("twoWayBindingEnabled",G)}get visible(){return this._getOption("visible")}set visible(G){this._setOption("visible",G)}get width(){return this._getOption("width")}set width(G){this._setOption("width",G)}get wordWrapEnabled(){return this._getOption("wordWrapEnabled")}set wordWrapEnabled(G){this._setOption("wordWrapEnabled",G)}get columnsChildren(){return this._getOption("columns")}set columnsChildren(G){this.setChildren("columns",G)}_createInstance(G,Le){return new Et(G,Le)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(G){super.ngOnChanges(G),this.setupChanges("columns",G),this.setupChanges("dataSource",G),this.setupChanges("expandedRowKeys",G),this.setupChanges("selectedRowKeys",G)}setupChanges(G,Le){G in this._optionsToUpdate||this._idh.setup(G,Le)}ngDoCheck(){this._idh.doCheck("columns"),this._idh.doCheck("dataSource"),this._idh.doCheck("expandedRowKeys"),this._idh.doCheck("selectedRowKeys"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(G,Le){let Xe=this._idh.setupSingle(G,Le),lt=null!==this._idh.getChanges(G,Le);(Xe||lt)&&super._setOption(G,Le)}}return Ae.\u0275fac=function(G){return new(G||Ae)(k.rXU(k.aKT),k.rXU(k.SKi),k.rXU(yt.zF),k.rXU(yt.jS),k.rXU(yt.$M),k.rXU(yt.fH),k.rXU(be.pJ),k.rXU(k.Agw))},Ae.\u0275cmp=k.VBU({type:Ae,selectors:[["dx-tree-list"]],contentQueries:function(G,Le,Xe){if(1&G&&k.wni(Xe,et.nj_,4),2&G){let lt;k.mGM(lt=k.lsd())&&(Le.columnsChildren=lt)}},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",allowColumnReordering:"allowColumnReordering",allowColumnResizing:"allowColumnResizing",autoExpandAll:"autoExpandAll",autoNavigateToFocusedRow:"autoNavigateToFocusedRow",cacheEnabled:"cacheEnabled",cellHintEnabled:"cellHintEnabled",columnAutoWidth:"columnAutoWidth",columnChooser:"columnChooser",columnFixing:"columnFixing",columnHidingEnabled:"columnHidingEnabled",columnMinWidth:"columnMinWidth",columnResizingMode:"columnResizingMode",columns:"columns",columnWidth:"columnWidth",customizeColumns:"customizeColumns",dataSource:"dataSource",dataStructure:"dataStructure",dateSerializationFormat:"dateSerializationFormat",disabled:"disabled",editing:"editing",elementAttr:"elementAttr",errorRowEnabled:"errorRowEnabled",expandedRowKeys:"expandedRowKeys",expandNodesOnFiltering:"expandNodesOnFiltering",filterBuilder:"filterBuilder",filterBuilderPopup:"filterBuilderPopup",filterMode:"filterMode",filterPanel:"filterPanel",filterRow:"filterRow",filterSyncEnabled:"filterSyncEnabled",filterValue:"filterValue",focusedColumnIndex:"focusedColumnIndex",focusedRowEnabled:"focusedRowEnabled",focusedRowIndex:"focusedRowIndex",focusedRowKey:"focusedRowKey",hasItemsExpr:"hasItemsExpr",headerFilter:"headerFilter",height:"height",highlightChanges:"highlightChanges",hint:"hint",hoverStateEnabled:"hoverStateEnabled",itemsExpr:"itemsExpr",keyboardNavigation:"keyboardNavigation",keyExpr:"keyExpr",loadPanel:"loadPanel",noDataText:"noDataText",pager:"pager",paging:"paging",parentIdExpr:"parentIdExpr",remoteOperations:"remoteOperations",renderAsync:"renderAsync",repaintChangesOnly:"repaintChangesOnly",rootValue:"rootValue",rowAlternationEnabled:"rowAlternationEnabled",rowDragging:"rowDragging",rtlEnabled:"rtlEnabled",scrolling:"scrolling",searchPanel:"searchPanel",selectedRowKeys:"selectedRowKeys",selection:"selection",showBorders:"showBorders",showColumnHeaders:"showColumnHeaders",showColumnLines:"showColumnLines",showRowLines:"showRowLines",sorting:"sorting",stateStoring:"stateStoring",syncLookupFilterValues:"syncLookupFilterValues",tabIndex:"tabIndex",toolbar:"toolbar",twoWayBindingEnabled:"twoWayBindingEnabled",visible:"visible",width:"width",wordWrapEnabled:"wordWrapEnabled"},outputs:{onAdaptiveDetailRowPreparing:"onAdaptiveDetailRowPreparing",onCellClick:"onCellClick",onCellDblClick:"onCellDblClick",onCellHoverChanged:"onCellHoverChanged",onCellPrepared:"onCellPrepared",onContentReady:"onContentReady",onContextMenuPreparing:"onContextMenuPreparing",onDataErrorOccurred:"onDataErrorOccurred",onDisposing:"onDisposing",onEditCanceled:"onEditCanceled",onEditCanceling:"onEditCanceling",onEditingStart:"onEditingStart",onEditorPrepared:"onEditorPrepared",onEditorPreparing:"onEditorPreparing",onFocusedCellChanged:"onFocusedCellChanged",onFocusedCellChanging:"onFocusedCellChanging",onFocusedRowChanged:"onFocusedRowChanged",onFocusedRowChanging:"onFocusedRowChanging",onInitialized:"onInitialized",onInitNewRow:"onInitNewRow",onKeyDown:"onKeyDown",onNodesInitialized:"onNodesInitialized",onOptionChanged:"onOptionChanged",onRowClick:"onRowClick",onRowCollapsed:"onRowCollapsed",onRowCollapsing:"onRowCollapsing",onRowDblClick:"onRowDblClick",onRowExpanded:"onRowExpanded",onRowExpanding:"onRowExpanding",onRowInserted:"onRowInserted",onRowInserting:"onRowInserting",onRowPrepared:"onRowPrepared",onRowRemoved:"onRowRemoved",onRowRemoving:"onRowRemoving",onRowUpdated:"onRowUpdated",onRowUpdating:"onRowUpdating",onRowValidating:"onRowValidating",onSaved:"onSaved",onSaving:"onSaving",onSelectionChanged:"onSelectionChanged",onToolbarPreparing:"onToolbarPreparing",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",allowColumnReorderingChange:"allowColumnReorderingChange",allowColumnResizingChange:"allowColumnResizingChange",autoExpandAllChange:"autoExpandAllChange",autoNavigateToFocusedRowChange:"autoNavigateToFocusedRowChange",cacheEnabledChange:"cacheEnabledChange",cellHintEnabledChange:"cellHintEnabledChange",columnAutoWidthChange:"columnAutoWidthChange",columnChooserChange:"columnChooserChange",columnFixingChange:"columnFixingChange",columnHidingEnabledChange:"columnHidingEnabledChange",columnMinWidthChange:"columnMinWidthChange",columnResizingModeChange:"columnResizingModeChange",columnsChange:"columnsChange",columnWidthChange:"columnWidthChange",customizeColumnsChange:"customizeColumnsChange",dataSourceChange:"dataSourceChange",dataStructureChange:"dataStructureChange",dateSerializationFormatChange:"dateSerializationFormatChange",disabledChange:"disabledChange",editingChange:"editingChange",elementAttrChange:"elementAttrChange",errorRowEnabledChange:"errorRowEnabledChange",expandedRowKeysChange:"expandedRowKeysChange",expandNodesOnFilteringChange:"expandNodesOnFilteringChange",filterBuilderChange:"filterBuilderChange",filterBuilderPopupChange:"filterBuilderPopupChange",filterModeChange:"filterModeChange",filterPanelChange:"filterPanelChange",filterRowChange:"filterRowChange",filterSyncEnabledChange:"filterSyncEnabledChange",filterValueChange:"filterValueChange",focusedColumnIndexChange:"focusedColumnIndexChange",focusedRowEnabledChange:"focusedRowEnabledChange",focusedRowIndexChange:"focusedRowIndexChange",focusedRowKeyChange:"focusedRowKeyChange",hasItemsExprChange:"hasItemsExprChange",headerFilterChange:"headerFilterChange",heightChange:"heightChange",highlightChangesChange:"highlightChangesChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",itemsExprChange:"itemsExprChange",keyboardNavigationChange:"keyboardNavigationChange",keyExprChange:"keyExprChange",loadPanelChange:"loadPanelChange",noDataTextChange:"noDataTextChange",pagerChange:"pagerChange",pagingChange:"pagingChange",parentIdExprChange:"parentIdExprChange",remoteOperationsChange:"remoteOperationsChange",renderAsyncChange:"renderAsyncChange",repaintChangesOnlyChange:"repaintChangesOnlyChange",rootValueChange:"rootValueChange",rowAlternationEnabledChange:"rowAlternationEnabledChange",rowDraggingChange:"rowDraggingChange",rtlEnabledChange:"rtlEnabledChange",scrollingChange:"scrollingChange",searchPanelChange:"searchPanelChange",selectedRowKeysChange:"selectedRowKeysChange",selectionChange:"selectionChange",showBordersChange:"showBordersChange",showColumnHeadersChange:"showColumnHeadersChange",showColumnLinesChange:"showColumnLinesChange",showRowLinesChange:"showRowLinesChange",sortingChange:"sortingChange",stateStoringChange:"stateStoringChange",syncLookupFilterValuesChange:"syncLookupFilterValuesChange",tabIndexChange:"tabIndexChange",toolbarChange:"toolbarChange",twoWayBindingEnabledChange:"twoWayBindingEnabledChange",visibleChange:"visibleChange",widthChange:"widthChange",wordWrapEnabledChange:"wordWrapEnabledChange"},features:[k.Jv_([yt.zF,yt.jS,yt.fH,yt.$M]),k.Vt3,k.OA$],decls:0,vars:0,template:function(G,Le){},encapsulation:2}),Ae})(),zt=(()=>{class Ae{}return Ae.\u0275fac=function(G){return new(G||Ae)},Ae.\u0275mod=k.$C({type:Ae}),Ae.\u0275inj=k.G2t({imports:[[et.nrj,et.Bkf,et.nwt,et.hXw,et.YGc,et.gf0,et.rvW,et._zS,et.U9o,et.hyP,et._RO,et.YC7,et.GIV,et.X1G,et.W6p,et.Pxf,et.BR_,et.uE7,et.$lK,et.aJg,et.GCl,et.Sy5,et.k61,et.POb,et.hUd,et.HKo,et.Ixj,et.a6E,et.YLo,et.YaD,et.eNx,et.Tob,et.$Ql,et.isg,et.L0X,et.MtA,et.yA4,et.oCB,et.tWd,et.zkV,et.Sn2,et.MBy,et.qCh,et.x_w,et.s5o,et.ZaD,et.m1r,et.Wnt,et.rER,et.XUe,et.lkr,et.WC8,et.kYc,et.X6g,et.l4W,yt.p_,yt.xZ],et.nrj,et.Bkf,et.nwt,et.hXw,et.YGc,et.gf0,et.rvW,et._zS,et.U9o,et.hyP,et._RO,et.YC7,et.GIV,et.X1G,et.W6p,et.Pxf,et.BR_,et.uE7,et.$lK,et.aJg,et.GCl,et.Sy5,et.k61,et.POb,et.hUd,et.HKo,et.Ixj,et.a6E,et.YLo,et.YaD,et.eNx,et.Tob,et.$Ql,et.isg,et.L0X,et.MtA,et.yA4,et.oCB,et.tWd,et.zkV,et.Sn2,et.MBy,et.qCh,et.x_w,et.s5o,et.ZaD,et.m1r,et.Wnt,et.rER,et.XUe,et.lkr,et.WC8,et.kYc,et.X6g,et.l4W,yt.xZ]}),Ae})()},560:(Mt,dt,i)=>{i.d(dt,{B:()=>Ce,_:()=>le});var be=i(345),k=i(4438),se=i(6970),_e=i(7283),he=i(1837);let Ce=(()=>{class ae extends _e.ic{constructor(ee,q,P,Y,Ee,re,j,ue){super(ee,q,P,Y,j,ue),this._watcherHelper=Y,this._idh=Ee,this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"optionChanged",emit:"onOptionChanged"},{emit:"elementAttrChange"},{emit:"hoverStateEnabledChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"validationGroupChange"}]),this._idh.setHost(this),re.setHost(this)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(ee){this._setOption("elementAttr",ee)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(ee){this._setOption("hoverStateEnabled",ee)}get items(){return this._getOption("items")}set items(ee){this._setOption("items",ee)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(ee){this._setOption("itemTemplate",ee)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(ee){this._setOption("validationGroup",ee)}get itemsChildren(){return this._getOption("items")}set itemsChildren(ee){this.setChildren("items",ee)}_createInstance(ee,q){return new se.A(ee,q)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(ee){super.ngOnChanges(ee),this.setupChanges("items",ee)}setupChanges(ee,q){ee in this._optionsToUpdate||this._idh.setup(ee,q)}ngDoCheck(){this._idh.doCheck("items"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(ee,q){let P=this._idh.setupSingle(ee,q),Y=null!==this._idh.getChanges(ee,q);(P||Y)&&super._setOption(ee,q)}}return ae.\u0275fac=function(ee){return new(ee||ae)(k.rXU(k.aKT),k.rXU(k.SKi),k.rXU(_e.zF),k.rXU(_e.jS),k.rXU(_e.$M),k.rXU(_e.fH),k.rXU(be.pJ),k.rXU(k.Agw))},ae.\u0275cmp=k.VBU({type:ae,selectors:[["dx-validation-summary"]],contentQueries:function(ee,q,P){if(1&ee&&k.wni(P,he.CVf,4),2&ee){let Y;k.mGM(Y=k.lsd())&&(q.itemsChildren=Y)}},inputs:{elementAttr:"elementAttr",hoverStateEnabled:"hoverStateEnabled",items:"items",itemTemplate:"itemTemplate",validationGroup:"validationGroup"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onItemClick:"onItemClick",onOptionChanged:"onOptionChanged",elementAttrChange:"elementAttrChange",hoverStateEnabledChange:"hoverStateEnabledChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",validationGroupChange:"validationGroupChange"},features:[k.Jv_([_e.zF,_e.jS,_e.fH,_e.$M]),k.Vt3,k.OA$],decls:0,vars:0,template:function(ee,q){},encapsulation:2}),ae})(),le=(()=>{class ae{}return ae.\u0275fac=function(ee){return new(ee||ae)},ae.\u0275mod=k.$C({type:ae}),ae.\u0275inj=k.G2t({imports:[[he.POb,_e.p_,_e.xZ],he.POb,_e.xZ]}),ae})()},2898:(Mt,dt,i)=>{i.d(dt,{L:()=>le,_:()=>Ce});var be=i(345),k=i(4438),se=i(5966),_e=i(7283),he=i(1837);let Ce=(()=>{class ae extends _e.PF{constructor(ee,q,P,Y,Ee,re,j,ue,b){super(ee,q,P,Y,ue,b),this._watcherHelper=Y,this._idh=Ee,this._createEventEmitters([{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"validated",emit:"onValidated"},{emit:"adapterChange"},{emit:"elementAttrChange"},{emit:"heightChange"},{emit:"nameChange"},{emit:"validationGroupChange"},{emit:"validationRulesChange"},{emit:"widthChange"}]),this.parentElement=this.getParentElement(re),this._idh.setHost(this),j.setHost(this)}get adapter(){return this._getOption("adapter")}set adapter(ee){this._setOption("adapter",ee)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(ee){this._setOption("elementAttr",ee)}get height(){return this._getOption("height")}set height(ee){this._setOption("height",ee)}get name(){return this._getOption("name")}set name(ee){this._setOption("name",ee)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(ee){this._setOption("validationGroup",ee)}get validationRules(){return this._getOption("validationRules")}set validationRules(ee){this._setOption("validationRules",ee)}get width(){return this._getOption("width")}set width(ee){this._setOption("width",ee)}get validationRulesChildren(){return this._getOption("validationRules")}set validationRulesChildren(ee){this.setChildren("validationRules",ee)}_createInstance(ee,q){return new se.A(this.parentElement?this.parentElement:ee,q)}getParentElement(ee){if(ee)return ee.getHost().element.nativeElement}ngOnDestroy(){this._destroyWidget()}ngOnChanges(ee){super.ngOnChanges(ee),this.setupChanges("validationRules",ee)}setupChanges(ee,q){ee in this._optionsToUpdate||this._idh.setup(ee,q)}ngDoCheck(){this._idh.doCheck("validationRules"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(ee,q){let P=this._idh.setupSingle(ee,q),Y=null!==this._idh.getChanges(ee,q);(P||Y)&&super._setOption(ee,q)}}return ae.\u0275fac=function(ee){return new(ee||ae)(k.rXU(k.aKT),k.rXU(k.SKi),k.rXU(_e.zF),k.rXU(_e.jS),k.rXU(_e.$M),k.rXU(_e.fH,13),k.rXU(_e.fH),k.rXU(be.pJ),k.rXU(k.Agw))},ae.\u0275cmp=k.VBU({type:ae,selectors:[["dx-validator"]],contentQueries:function(ee,q,P){if(1&ee&&k.wni(P,he.Inh,4),2&ee){let Y;k.mGM(Y=k.lsd())&&(q.validationRulesChildren=Y)}},inputs:{adapter:"adapter",elementAttr:"elementAttr",height:"height",name:"name",validationGroup:"validationGroup",validationRules:"validationRules",width:"width"},outputs:{onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onValidated:"onValidated",adapterChange:"adapterChange",elementAttrChange:"elementAttrChange",heightChange:"heightChange",nameChange:"nameChange",validationGroupChange:"validationGroupChange",validationRulesChange:"validationRulesChange",widthChange:"widthChange"},features:[k.Jv_([_e.zF,_e.jS,_e.fH,_e.$M]),k.Vt3,k.OA$],decls:0,vars:0,template:function(ee,q){},encapsulation:2}),ae})(),le=(()=>{class ae{}return ae.\u0275fac=function(ee){return new(ee||ae)},ae.\u0275mod=k.$C({type:ae}),ae.\u0275inj=k.G2t({imports:[[he.nz1,he.$lK,_e.p_,_e.xZ],he.nz1,he.$lK,_e.xZ]}),ae})()},1701:(Mt,dt,i)=>{i.d(dt,{A:()=>T});var be=i(3992),k=i(4292),se=i(5042),_e=i(2984),he=i(7963),Ce=i(7951),le=i(2101),ae=i(186),oe=i(2463),ee=i(8060),q=i(1269),P=i(675),Y=i(9104),Ee=i(736),re=i(493),j=i(1299),ue=i(4895),b=i(5207),c="columnHeadersView",a="rowsView",m=[c,a,"footerView"],I="adaptiveHidden",N="detailAdaptive",xe="dx-field-item-content",Ie="hidden-column",n="dx-command-adaptive",g="dx-command-adaptive-hidden",l="dx-adaptive-item-text",C="adaptive",Z="dx-group-cell",U="dxDataGrid-ariaAdaptiveExpand";function V(r,v){return r._columnsController.getColumnId(v)}function $(r,v){var f,s=(0,k.A)(r),t=v.component.getController("adaptiveColumns");"data"===v.rowType?(f=(0,k.A)("<span>").addClass(t.addWidgetPrefix("adaptive-more")),q.A.on(f,(0,Y.b4)(ee.U,"dxDataGridAdaptivity"),t.createAction(()=>{t.toggleExpandAdaptiveDetailRow(v.key)})),f.appendTo(s)):b.A.setEmptyText(s)}function ye(r){var v,f=null===(v=r.data)||void 0===v?void 0:v.$nextCell;q.A.off(f,"focus",ye),q.A.trigger(f,"dxclick")}var T={defaultOptions:()=>({columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}),controllers:{adaptiveColumns:ue.A.ViewController.inherit({_isRowEditMode(){return"row"===this._getEditMode()},_isItemModified(r,v){var f=this._columnsController.getVisibleIndex(r.column.index),s=this._dataController.getRowIndexByKey(v.key),t=this._dataController.items()[s+1];return t&&t.modifiedValues&&(0,oe.O9)(t.modifiedValues[f])},_renderFormViewTemplate(r,v,f){var s=this,{column:t}=r,u=s.createAction(()=>{s._editingController.isEditing()&&q.A.trigger(f,ee.U)}),y=v.row.data,K=t.calculateCellValue(y),pe=b.A.getDisplayValue(t,K,y,v.rowType),we=b.A.formatValue(pe,t),R=this._editingController.isCellOrBatchEditMode(),z=s._rowsView;if(t.allowEditing&&s.getController("keyboardNavigation").isKeyboardEnabled()&&(f.attr("tabIndex",s.option("tabIndex")),R&&(q.A.off(f,"focus",u),q.A.on(f,"focus",u))),t.cellTemplate){var fe=(0,Ce.X)({},v,{value:K,displayValue:pe,text:we,column:t});z.renderTemplate(f,t.cellTemplate,fe,(0,he.A1)(f)).done(()=>{z._cellPrepared(f,v)})}else{var Me=f.get(0);t.encodeHtml?Me.textContent=we:Me.innerHTML=we,f.addClass(l),(!(0,oe.O9)(we)||""===we)&&f.html("&nbsp;"),s._isRowEditMode()||s._isItemModified(r,v)&&f.addClass("dx-item-modified"),z._cellPrepared(f,v)}},_getTemplate(r,v){var f=this,{column:s}=r,t=this.getController("editing");return function(u,y){var K=(0,k.A)(y),pe=f._columnsController.getVisibleIndex(s.index),we=(0,Ce.X)({},v),R=function(){var fe=f._isItemEdited(r);we.value=v.row.values[pe],fe||s.showEditorAlways?t.renderFormEditorTemplate(we,r,u,K,!fe):(we.column=s,we.columnIndex=pe,f._renderFormViewTemplate(r,we,K))};if(R(),we.watch){var z=we.watch(()=>({isItemEdited:f._isItemEdited(r),value:v.row.values[pe]}),()=>{K.contents().remove(),K.removeClass(l),R()});q.A.on(K,P.N,z)}}},_isVisibleColumnsValid:r=>!(r<2||r.length-function(){for(var v=0,f=0;f<r.length;f++)r[f].command&&v++;return v}()<=1),_calculatePercentWidths(r,v){var f=this,s=0;return v.forEach((t,u)=>{r[u]!==I&&(s+=f._getItemPercentWidth(t))}),s},_isPercentWidth:r=>(0,oe.Kg)(r)&&r.endsWith("%"),_isColumnHidden(r){return this._hiddenColumns.filter(v=>v.index===r.index).length>0},_getAverageColumnsWidth(r,v,f){var s=this,t=0,u=0;return v.forEach(y=>{if(!s._isColumnHidden(y)){var{width:K}=y;(0,oe.O9)(K)&&!isNaN(parseFloat(K))?t+=s._isPercentWidth(K)?s._calculatePercentWidth({visibleIndex:y.visibleIndex,columnsCount:v.length,columnsCanFit:f,bestFitWidth:y.bestFitWidth,columnWidth:K,containerWidth:r}):parseFloat(K):u++}}),(r-t)/u},_calculateColumnWidth(r,v,f,s){var pe,t=V(this,r),u=this._columnsController.columnOption(t,"width"),y=this._columnsController.columnOption(t,"bestFitWidth"),K=f.length;if(u&&"auto"!==u){if(!this._isPercentWidth(u))return parseFloat(u);pe=this._calculatePercentWidth({visibleIndex:r.visibleIndex,columnsCount:K,columnsCanFit:s,bestFitWidth:y,columnWidth:u,containerWidth:v})}else pe=this.option("columnAutoWidth")||r.command?y:this._getAverageColumnsWidth(v,f,s);return pe},_calculatePercentWidth(r){var v=r.visibleIndex<r.columnsCount-1&&r.columnsCanFit,f=r.containerWidth*parseFloat(r.columnWidth)/100,s=r.columnsCanFit&&f<r.bestFitWidth?r.bestFitWidth:f;return v?r.containerWidth*parseFloat(r.columnWidth)/100:s},_getNotTruncatedColumnWidth(r,v,f,s){var t=V(this,r),u=this._columnsController.columnOption(t,"width"),y=this._columnsController.columnOption(t,"bestFitWidth");if(u&&"auto"!==u&&!this._isPercentWidth(u))return parseFloat(u);var K=this._calculateColumnWidth(r,v,f,s);return K<y?null:K},_getItemPercentWidth(r){var v=0;return r.width&&this._isPercentWidth(r.width)&&(v=parseFloat(r.width)),v},_getCommandColumnsWidth(){var r=this,v=r._columnsController.getVisibleColumns(),f=0;return(0,le.__)(v,(s,t)=>{(t.index<0||t.command)&&(f+=r._columnsController.columnOption(V(r,t),"bestFitWidth")||0)}),f},_isItemEdited(r){if(this.isFormOrPopupEditMode())return!1;if(!this._isRowEditMode()){var f=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,s=this._columnsController.getVisibleIndex(r.column.index);return this._editingController.isEditCell(f,s)}var v=this.option("editing.editRowKey");return!!(0,se.RL)(v,this._dataController.adaptiveExpandedKey())||void 0},_getFormItemsByHiddenColumns(r){var v=[];return(0,le.__)(r,(f,s)=>{v.push({column:s,name:s.name,dataField:s.dataField,visibleIndex:s.visibleIndex})}),v},_getAdaptiveColumnVisibleIndex(r){for(var v=0;v<r.length;v++)if(r[v].command===C)return v},_hideAdaptiveColumn(r,v){var f=this._getAdaptiveColumnVisibleIndex(v);(0,oe.O9)(f)&&(r[f]=I,this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:f}))},_showHiddenCellsInView(r){var{$cells:v,isCommandColumn:f}=r,s=this.addWidgetPrefix(Ie);f?(s=g,v.attr({tabIndex:0,"aria-hidden":null}).removeClass(s)):v.removeClass(s)},_showHiddenColumns(){for(var r=0;r<m.length;r++){var v=this.getView(m[r]);if(v&&v.isVisible()&&v.element()){var f=v.name,s=v.element().find(".".concat(g));this._showHiddenCellsInView({viewName:f,$cells:s,isCommandColumn:!0});var t=v.element().find(".".concat(this.addWidgetPrefix(Ie)));this._showHiddenCellsInView({viewName:f,$cells:t})}}},_isCellValid:r=>r&&r.length&&!r.hasClass("dx-master-detail-cell")&&!r.hasClass(Z),_hideVisibleColumn(r){var{isCommandColumn:v,visibleIndex:f}=r,s=this;m.forEach(t=>{var u=s.getView(t);u&&s._hideVisibleColumnInView({view:u,isCommandColumn:v,visibleIndex:f})})},_hideVisibleColumnInView(r){var u,{view:v,isCommandColumn:f,visibleIndex:s}=r,t=v.name,y=this._columnsController.getVisibleColumns()[s],K=this._editingController&&this._editingController.getEditFormRowIndex();if(v&&v.isVisible()&&y)for(var pe=v.getRowsCount(),we=v._getRowElements(),R=0;R<pe;R++)if(R!==K||t!==a||"popup"===this.option("editing.mode")){var fe=t===c?this._columnsController.getVisibleIndex(y.index,R):s;if(fe>=0){var Me=we.eq(R);u=this._findCellElementInRow(Me,fe),this._isCellValid(u)&&this._hideVisibleCellInView({viewName:t,isCommandColumn:f,$cell:u})}}},_findCellElementInRow(r,v){var f=r.children(),s=v,t=!1;if(r.hasClass("dx-group-row")){var u=r.find(".".concat(Z)),y=u.attr("colspan");if(u.length&&(0,oe.O9)(y)){var K=parseInt(y);v>u.index()+K-1?s=v-K+1:t=!0}}return t?void 0:f.eq(s)},_hideVisibleCellInView(r){var{$cell:v,isCommandColumn:f}=r,s=f?g:this.addWidgetPrefix(Ie);v.attr({tabIndex:-1,"aria-hidden":!0}).addClass(s)},_getEditMode(){return this._editingController.getEditMode()},isFormOrPopupEditMode(){var r=this._getEditMode();return"form"===r||"popup"===r},hideRedundantColumns(r,v,f){if(this._hiddenColumns=[],this._isVisibleColumnsValid(v)&&f.length){var we,R,z,s=0,t=this.component.$element(),u=(0,ae.RG)(t)-this._getCommandColumnsWidth(),y=function(){return v.filter(nt=>!nt.command&&0===this._hiddenColumns.filter(M=>M.index===nt.index).length)}.bind(this),K=y(),pe=K.length;do{z=!1,s=0;var fe=this._calculatePercentWidths(r,v),Me=fe<100&&0!==fe;for(we=0;we<v.length;we++){var ze=v[we],tt=this._getNotTruncatedColumnWidth(ze,u,K,Me),ht=V(this,ze),St=this._columnsController.columnOption(ht,"width"),xt=this._columnsController.columnOption(ht,"minWidth"),Tt=this._columnsController.columnOption(ht,"bestFitWidth");if(r[we]!==I){if(!tt&&!ze.command&&!ze.fixed){z=!0;break}(!St||"auto"===St)&&(tt=Math.max(Tt||0,xt||0)),(ze.command!==C||R)&&(s+=tt)}else R=!0}if(z=z||s>(0,ae.RG)(t)){var Pt=f.pop(),Ht=this._columnsController.getVisibleIndex(Pt.index);u+=this._calculateColumnWidth(Pt,u,K,Me),this._hideVisibleColumn({visibleIndex:Ht}),r[Ht]=I,this._hiddenColumns.push(Pt),K=y()}}while(z&&K.length>1&&f.length);pe===K.length&&this._hideAdaptiveColumn(r,v)}else this._hideAdaptiveColumn(r,v)},getAdaptiveDetailItems(){return this._$itemContents},getItemContentByColumnIndex(r){for(var v,f=0;f<this._$itemContents.length;f++){var s=(v=this._$itemContents.eq(f)).data("dx-form-item");if(s&&s.column&&this._columnsController.getVisibleIndex(s.column.index)===r)return v}},toggleExpandAdaptiveDetailRow(r,v){this.isFormOrPopupEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(r,v)},createFormByHiddenColumns(r,v){var f=this,s=(0,k.A)(r),t={items:f._getFormItemsByHiddenColumns(f._hiddenColumns),formID:"dx-".concat(new be.A)},u=(0,j.gx)()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:t}),f._$itemContents=null,f._form=f._createComponent((0,k.A)("<div>").appendTo(s),re.A,(0,Ce.X)(u,t,{customizeItem(y){var K=y.column||f._columnsController.columnOption(y.name||y.dataField);K&&(y.label=y.label||{},y.label.text=y.label.text||K.caption,y.column=K,y.template=f._getTemplate(y,v,f.updateForm.bind(f))),t.customizeItem&&t.customizeItem.call(this,y)},onContentReady(y){t.onContentReady&&t.onContentReady.call(this,y),f._$itemContents=s.find(".".concat(xe))}}))},hasAdaptiveDetailRowExpanded(){return(0,oe.O9)(this._dataController.adaptiveExpandedKey())},updateForm(r){this.hasAdaptiveDetailRowExpanded()&&this._form&&(0,oe.O9)(this._form._contentReadyAction)&&(r&&r.length?this._form.option("items",this._getFormItemsByHiddenColumns(r)):this._form.repaint())},updateHidingQueue(r){var f,s,v=r.filter(u=>u.visible&&!u.type&&!u.fixed&&!((0,oe.O9)(u.groupIndex)&&u.groupIndex>=0));if(this._hidingColumnsQueue=[],this.option("allowColumnResizing")&&"widget"===this.option("columnResizingMode"))return this._hidingColumnsQueue;for(s=0;s<v.length;s++)(0,oe.O9)(v[s].hidingPriority)&&v[s].hidingPriority>=0&&(f=!0,this._hidingColumnsQueue[v[s].hidingPriority]=v[s]);if(f)this._hidingColumnsQueue.reverse();else if(this.option("columnHidingEnabled"))for(s=0;s<v.length;s++){var t=this._columnsController.getVisibleIndex(v[s].index);this._hidingColumnsQueue[t]=v[s]}return this._hidingColumnsQueue=this._hidingColumnsQueue.filter(Object),this._hidingColumnsQueue},getHiddenColumns(){return this._hiddenColumns},hasHiddenColumns(){return this._hiddenColumns.length>0},getHidingColumnsQueue(){return this._hidingColumnsQueue},init(){var r=this;r._columnsController=r.getController("columns"),r._dataController=r.getController("data"),r._rowsView=r.getView("rowsView"),r._columnsController.addCommandColumn({type:C,command:C,visible:!0,adaptiveHidden:!0,cssClass:n,alignment:"center",width:"auto",cellTemplate:$,fixedPosition:"right"}),r._columnsController.columnsChanged.add(()=>{var v=!!r.updateHidingQueue(r._columnsController.getColumns()).length;r._columnsController.columnOption("command:adaptive","adaptiveHidden",!v,!0)}),r._editingController=r.getController("editing"),r._hidingColumnsQueue=[],r._hiddenColumns=[],r.createAction("onAdaptiveDetailRowPreparing"),r.callBase()},optionChanged(r){"columnHidingEnabled"===r.name&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!r.value),this.callBase(r)},publicMethods:()=>["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"],isAdaptiveDetailRowExpanded(r){var v=this._dataController;return v.adaptiveExpandedKey()&&(0,se.RL)(v.adaptiveExpandedKey(),r)},expandAdaptiveDetailRow(r){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(r)},collapseAdaptiveDetailRow(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()},updateCommandAdaptiveAriaLabel(r,v){var f=this._dataController.getRowIndexByKey(r);if(-1!==f){var s=(0,k.A)(this.component.getRowElement(f));this.setCommandAdaptiveAriaLabel(s,v)}},setCommandAdaptiveAriaLabel(r,v){r.find(".dx-command-adaptive").attr("aria-label",Ee.A.format(v))}})},extenders:{views:{rowsView:{_getCellTemplate(r){var v=this,{column:f}=r;return r.rowType===N&&"detail"===f.command?function(s,t){v._adaptiveColumnsController.createFormByHiddenColumns((0,k.A)(s),t)}:v.callBase(r)},_createRow(r){var v=this.callBase.apply(this,arguments);return r&&r.rowType===N&&r.key===this._dataController.adaptiveExpandedKey()&&v.addClass("dx-adaptive-detail-row"),v},_renderCells(r,v){this.callBase(r,v);var f=this._adaptiveColumnsController,s=f.getHidingColumnsQueue().length,t=f.getHiddenColumns().length;s&&!t&&function J(r){return r.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}(r).last().addClass("dx-last-data-cell"),"data"===v.row.rowType&&f.setCommandAdaptiveAriaLabel(r,U)},_getColumnIndexByElementCore(r){var v=r.closest(".".concat(xe));if(v.length&&v.closest(this.component.$element()).length){var f=v.length?v.first().data("dx-form-item"):null;return f&&f.column&&this._columnsController.getVisibleIndex(f.column.index)}return this.callBase(r)},_cellPrepared(r,v){this.callBase.apply(this,arguments),v.row.rowType!==N&&v.column.visibleWidth===I&&r.addClass(this.addWidgetPrefix(Ie))},getCell(r,v){var f=this._dataController.items()[r?.rowIndex];if(f?.rowType===N){var s=this._adaptiveColumnsController.getAdaptiveDetailItems();return this.callBase(r,v,s)}return this.callBase.apply(this,arguments)},_getCellElement(r,v){var f=this._dataController.items()[r];return f&&f.rowType===N?this._adaptiveColumnsController.getItemContentByColumnIndex(v):this.callBase.apply(this,arguments)},getContextMenuItems(r){if(r.row&&"detailAdaptive"===r.row.rowType){var v=this.component.getView("columnHeadersView"),f=(0,k.A)(r.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return r.column=f?f.column:r.column,v.getContextMenuItems&&v.getContextMenuItems(r)}return this.callBase&&this.callBase(r)},isClickableElement(r){return!!this.callBase&&this.callBase(r)||!!r.closest(".".concat(n)).length},init(){this.callBase(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}}},controllers:{export:{_updateColumnWidth(r,v){this.callBase(r,r.visibleWidth===I?r.bestFitWidth:v)}},columnsResizer:{_pointCreated(r,v,f){var s=this.callBase(r,v,f),t=f[r.columnIndex]||{},u=this._getNextColumnIndex(r.columnIndex);return s||t.visibleWidth===I||u!==r.columnIndex+1&&(f[u]||{}).command},_getNextColumnIndex(r){for(var v=this._columnsController.getVisibleColumns(),f=this.callBase(r);v[f]&&v[f].visibleWidth===I;)f++;return f}},draggingHeader:{_pointCreated(r,v,f,s){return this.callBase(r,v,f,s)||(v[r.columnIndex-1]||{}).visibleWidth===I}},editing:{_isRowEditMode(){return"row"===this.getEditMode()},_getFormEditItemTemplate(r,v){return"row"!==this.getEditMode()&&"detailAdaptive"===r.rowType?(r.columnIndex=this._columnsController.getVisibleIndex(v.index),this.getColumnTemplate(r)):this.callBase(r,v)},_closeEditItem(r){var v=r.closest(".".concat(xe)),f=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,s=v.length?v.first().data("dx-form-item"):null,t=s&&s.column&&this._columnsController.getVisibleIndex(s.column.index);this.isEditCell(f,t)||this.callBase(r)},_beforeUpdateItems(r,v){if(!this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.hasHiddenColumns()){var f=this._dataController.items(),s=f[v],t=b.A.getIndexByKey(this._dataController.adaptiveExpandedKey(),f);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),t>=0&&r.push(t+1),r.push(v+1),this._dataController.adaptiveExpandedKey(s.key)}},_afterInsertRow(r){this.callBase.apply(this,arguments),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(r,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)},_collapseAdaptiveDetailRow(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)},_cancelEditAdaptiveDetailRow(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()},_afterSaveEditData(){this.callBase.apply(this,arguments);var r=new _e.cY;return this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()?(0,_e.z7)(this.getController("validating").validate(!0)).done(v=>{v&&this._cancelEditAdaptiveDetailRow(),r.resolve()}):r.resolve(),r.promise()},_beforeCancelEditData(){this.callBase(),this._cancelEditAdaptiveDetailRow()},_getRowIndicesForCascadeUpdating(r){var v=this.callBase.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(r.key)&&v.push(r.rowType===N?r.rowIndex-1:r.rowIndex+1),v},_beforeCloseEditCellInBatchMode(r){var v=this._dataController._adaptiveExpandedKey;if(v){var f=b.A.getIndexByKey(v,this._dataController.items());f>-1&&r.unshift(f)}},editRow(r){this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(r)},deleteRow(r){var v=this._dataController.getKeyByRowIndex(r);"batch"===this.getEditMode()&&this._adaptiveController.isAdaptiveDetailRowExpanded(v)&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(r)},init(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}},resizing:{_needBestFit(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_correctColumnWidths(r,v){var f=this._adaptiveColumnsController,s=f.getHiddenColumns(),t=f.updateHidingQueue(this._columnsController.getColumns());f.hideRedundantColumns(r,v,t);var u=f.getHiddenColumns();return f.hasAdaptiveDetailRowExpanded()&&s.length!==u.length&&f.updateForm(u),!u.length&&f.collapseAdaptiveDetailRow(),this.callBase.apply(this,arguments)},_toggleBestFitMode(r){r&&this._adaptiveColumnsController._showHiddenColumns(),this.callBase(r)},_needStretch(){var r=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||r.getHidingColumnsQueue().length||r.hasHiddenColumns()},init(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}},data:{_processItems(r,v){var{changeType:f}=v;if(r=this.callBase.apply(this,arguments),"loadingAll"===f||!(0,oe.O9)(this._adaptiveExpandedKey))return r;var s=b.A.getIndexByKey(this._adaptiveExpandedKey,r),t=!1===this.option("scrolling.legacyMode");if(s>=0){var u=r[s];r.splice(s+1,0,{visible:!0,rowType:N,key:u.key,data:u.data,node:u.node,modifiedValues:u.modifiedValues,isNewRow:u.isNewRow,values:u.values})}else"refresh"===f&&(!t||!v.repaintChangesOnly)&&(this._adaptiveExpandedKey=void 0);return r},_getRowIndicesForExpand(r){var v=this.callBase.apply(this,arguments);return this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(r)&&v.push(v[v.length-1]+1),v},adaptiveExpandedKey(r){if(!(0,oe.O9)(r))return this._adaptiveExpandedKey;this._adaptiveExpandedKey=r},toggleExpandAdaptiveDetailRow(r,v){var f=b.A.getIndexByKey(this._adaptiveExpandedKey,this._items),s=b.A.getIndexByKey(r,this._items);f>=0&&f===s&&!v&&(r=void 0,s=-1);var t=this._adaptiveExpandedKey;this._adaptiveExpandedKey=r,f>=0&&f++,s>=0&&s++;var u=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[f-u,s-u]});var y=this.getController("adaptiveColumns");y.updateCommandAdaptiveAriaLabel(r,"dxDataGrid-ariaAdaptiveCollapse"),y.updateCommandAdaptiveAriaLabel(t,U)},init(){this.callBase(),this._adaptiveExpandedKey=void 0}},editorFactory:{_needHideBorder(r){return this.callBase(r)||r?.hasClass("dx-field-item-content")&&r?.find(".dx-checkbox").length},_getFocusCellSelector(){return"".concat(this.callBase(),", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content")},_getRevertTooltipsSelector(){return"".concat(this.callBase(),", .dx-field-item-content .").concat(this.addWidgetPrefix("revert-tooltip"))}},columns:{_isColumnVisible(r){return this.callBase(r)&&!r.adaptiveHidden}},keyboardNavigation:r=>class extends r{_isCellValid(v,f){return super._isCellValid(v,f)&&!v.hasClass(this.addWidgetPrefix(Ie))&&!v.hasClass(g)}_processNextCellInMasterDetail(v,f){super._processNextCellInMasterDetail(v,f);var s=this._editingController.isCellOrBatchEditMode();this._editingController.isEditing()&&v&&s&&!this._isInsideEditForm(v)&&(q.A.off(v,"focus",ye),q.A.on(v,"focus",{$nextCell:v},ye),q.A.trigger(f,"focus"))}_isCellElement(v){return super._isCellElement(v)||v.hasClass(l)}init(){super.init(),this._adaptiveController=this.getController("adaptiveColumns")}}}}}},3987:(Mt,dt,i)=>{i.d(dt,{C:()=>n});var be=i(3862),k=i(4292),se=i(5042),_e=i(7951),he=i(2101),Ce=i(186),le=i(2463),ae=i(736),oe=i(2839),ee=i(4633),q=i(1299),P=i(8321),Y=i(4895),Ee=i(5101),j="column-chooser-button",ue="notouch-action",m="column-chooser",S="dx-column-chooser-item",I=["showInColumnChooser","caption","allowHiding","visible","cssClass","ownerBand"],n={defaultOptions:()=>({columnChooser:{enabled:!1,search:{enabled:!1,timeout:500,editorOptions:{}},selection:{allowSelectAll:!1,selectByClick:!1,recursive:!1},position:void 0,mode:"dragAndDrop",width:250,height:260,title:ae.A.format("dxDataGrid-columnChooserTitle"),emptyPanelText:ae.A.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}),controllers:{columnChooser:Y.A.ViewController.inherit({renderShowColumnChooserButton(g){var C,o=this,l=o.addWidgetPrefix(j),_=o.option("columnChooser.enabled"),h=g.find(".".concat(l));_?h.length?h.show():(C=(0,k.A)("<div>").addClass(l).appendTo(g),o._createComponent(C,oe.A,{icon:m,onClick(){o.getView("columnChooserView").showColumnChooser()},hint:o.option("columnChooser.title"),integrationOptions:{}})):h.hide()},getPosition(){var g=this.getView("rowsView"),o=this.option("columnChooser.position");return(0,le.O9)(o)?o:{my:"right bottom",at:"right bottom",of:g&&g.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}})},views:{columnChooserView:Ee.n.inherit({_resizeCore:se.lQ,_isWinDevice:()=>!!be.A.real().win,_initializePopupContainer(){var g=this,o=g.addWidgetPrefix("column-chooser"),l=g.element().addClass(o),_=g.option("columnChooser"),h=(0,q.ss)(),C=(0,q.AE)(h),F=(0,q.gx)(h),te={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,wrapperAttr:{class:o},toolbarItems:[{text:_.title,toolbar:"top",location:C||F?"before":"center"}],position:g.getController("columnChooser").getPosition(),width:_.width,height:_.height,rtlEnabled:g.option("rtlEnabled"),onHidden(){g._isWinDevice()&&(0,k.A)("body").removeClass(g.addWidgetPrefix(ue))},container:_.container};C||F?(0,_e.X)(te,{showCloseButton:!0}):te.toolbarItems[te.toolbarItems.length]={shortcut:"cancel"},(0,le.O9)(this._popupContainer)?this._popupContainer.option(te):(g._popupContainer=g._createComponent(l,ee.A,te),g._popupContainer.on("optionChanged",X=>{"visible"===X.name&&g.renderCompleted.fire()})),this.setPopupAttributes()},setPopupAttributes(){var g=this.isSelectMode(),o=this._columnsController.isBandColumnsUsed();this._popupContainer.setAria({role:"dialog",label:ae.A.format("dxDataGrid-columnChooserTitle")}),this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix("column-chooser-mode-drag"),!g).toggleClass(this.addWidgetPrefix("column-chooser-mode-select"),g),this._popupContainer.$content().addClass(this.addWidgetPrefix("column-chooser-list")),g&&!o&&this._popupContainer.$content().addClass(this.addWidgetPrefix("column-chooser-plain"))},_renderCore(g){if(this._popupContainer){var o=!this.isSelectMode();this._columnChooserList&&"full"!==g?o&&this._updateItems():this._renderTreeView()}},_renderTreeView(){var g,o,l,_=this,h=this._popupContainer.$content(),C=this.option("columnChooser"),F=this.isSelectMode(),ge={dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:(0,le.O9)(C.allowSearch)?C.allowSearch:null===(g=C.search)||void 0===g?void 0:g.enabled,searchTimeout:(0,le.O9)(C.searchTimeout)?C.searchTimeout:null===(o=C.search)||void 0===o?void 0:o.timeout,searchEditorOptions:null===(l=C.search)||void 0===l?void 0:l.editorOptions};if(this._isWinDevice()&&(ge.useNativeScrolling=!1),(0,_e.X)(ge,F?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList)ge.searchEnabled||(ge.searchValue=""),this._columnChooserList.option(ge),this._updateItems();else{this._columnChooserList=this._createComponent(h,P.A,ge),this._updateItems();var He=0;this._columnChooserList.on("optionChanged",Z=>{var D=Z.component.getScrollable();He=D.scrollTop()}),this._columnChooserList.on("contentReady",Z=>{(0,se.OX)(()=>{Z.component.getScrollable().scrollTo({y:He}),_.renderCompleted.fire()})})}},_prepareDragModeConfig(){return{noDataText:this.option("columnChooser").emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate(o,l,_){(0,k.A)(_).text(o.text).parent().addClass(o.cssClass).addClass(S)}}},_prepareSelectModeConfig(){var g=this,o=this.option("columnChooser.selection")||{},l=!1;return{selectByClick:o.selectByClick,selectNodesRecursive:o.recursive,showCheckBoxesMode:o.allowSelectAll?"selectAll":"normal",onSelectionChanged:_=>{if(!l){var h=(C=_.component.getNodes(),(F=(te,X)=>te.reduce((ge,He)=>(ge.push(He),He.children.length&&F(He.children,ge),ge),X))(C,[]));_.component.beginUpdate(),l=!0,((C,F)=>{F.filter(te=>!1===te.itemData.allowHiding).forEach(te=>C.component.selectItem(te.key))})(_,h),_.component.endUpdate(),l=!1,g.component.beginUpdate(),this._isUpdatingColumnVisibility=!0,(C=>{C.forEach(F=>{g._columnsController.columnOption(F.itemData.id,"visible",!1!==F.selected)})})(h),g.component.endUpdate(),this._isUpdatingColumnVisibility=!1}var C,F}}},_updateItems(){var g=this.isSelectMode(),l=function(g,o){var l=[],_=g.isSelectMode(),h=g.option("columnChooser.selection.recursive");return o.length&&(0,he.__)(o,(C,F)=>{var te={text:F.caption,cssClass:F.cssClass,allowHiding:F.allowHiding,expanded:!0,id:F.index,disabled:!1===F.allowHiding,parentId:(0,le.O9)(F.ownerBand)?F.ownerBand:null};_&&!(h&&F.hasColumns)&&(te.selected=F.visible),l.push(te)}),l}(this,this._columnsController.getChooserColumns(g));this._columnChooserList.option("items",l)},_updateItemsSelection(g){var o=g?.map(l=>this._columnsController.columnOption(l));this._columnChooserList.beginUpdate(),o?.forEach(l=>{var{visible:_,index:h}=l;_?this._columnChooserList.selectItem(h):this._columnChooserList.unselectItem(h)}),this._columnChooserList.endUpdate()},_columnOptionChanged(g){if(this.callBase(g),this.isSelectMode()&&this._columnChooserList&&!0!==this._isUpdatingColumnVisibility){var{optionNames:l}=g,_=l.visible&&1===l.length,h=(0,le.O9)(g.columnIndex)?[g.columnIndex]:g.columnIndices;(I.some(F=>l[F])||g.changeTypes.columns&&l.all)&&(this._updateItemsSelection(h),_||this._updateItems())}},optionChanged(g){"columnChooser"===g.name?(this._initializePopupContainer(),this.render(null,"full")):this.callBase(g)},getColumnElements(){var g=[],o=this.isSelectMode(),l=this._columnsController.getChooserColumns(o),_=this._popupContainer&&this._popupContainer.$content(),h=_&&_.find(".dx-treeview-node");return h&&l.forEach(C=>{var F=h.filter("[data-item-id = '".concat(C.index,"']")),te=F.length?F.children(".".concat(S)).get(0):null;g.push(te)}),(0,k.A)(g)},getName:()=>"columnChooser",getColumns(){return this._columnsController.getChooserColumns()},allowDragging(g){var o=this._columnsController.isParentColumnVisible(g.index),l=!g.visible&&g.allowHiding;return this.isColumnChooserVisible()&&o&&l},allowColumnHeaderDragging(g){return!this.isSelectMode()&&this.isColumnChooserVisible()&&g.allowHiding},getBoundingRect(){var g=this._popupContainer&&this._popupContainer.$overlayContent();if(g&&g.is(":visible")){var o=g.offset();return{left:o.left,top:o.top,right:o.left+(0,Ce.Ot)(g),bottom:o.top+(0,Ce.P$)(g)}}return null},showColumnChooser(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&(0,k.A)("body").addClass(this.addWidgetPrefix(ue))},hideColumnChooser(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible(){var g=this._popupContainer;return g&&g.option("visible")},isSelectMode(){return"select"===this.option("columnChooser.mode")},hasHiddenColumns(){var g=this.option("columnChooser.enabled"),o=this.getColumns().filter(l=>!l.visible);return g&&o.length},publicMethods:()=>["showColumnChooser","hideColumnChooser"]})},extenders:{views:{headerPanel:{_getToolbarItems(){var g=this.callBase();return this._appendColumnChooserItem(g)},_appendColumnChooserItem(g){var o=this;if(o.option("columnChooser.enabled")){var _=o.option("columnChooser.title");g.push({widget:"dxButton",options:{icon:m,onClick:function(){o.component.getView("columnChooserView").showColumnChooser()},hint:_,text:_,onInitialized:function(C){(0,k.A)(C.element).addClass(o._getToolbarButtonClass(o.addWidgetPrefix(j)))},elementAttr:{"aria-haspopup":"dialog"}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40})}return g},optionChanged(g){"columnChooser"===g.name?(this._invalidate(),g.handled=!0):this.callBase(g)},isVisible(){var g=this.option("columnChooser.enabled");return this.callBase()||g}},columnHeadersView:{allowDragging(g){var o=this.component.getView("columnChooserView"),l=!o.isSelectMode(),_=o.isColumnChooserVisible();return l&&_&&g.allowHiding||this.callBase(g)}}},controllers:{columns:{allowMoveColumn(g,o,l,_){return!("select"===this.option("columnChooser.mode")&&"columnChooser"===_)&&this.callBase(g,o,l,_)}}}}}},9725:(Mt,dt,i)=>{i.d(dt,{o:()=>_});var be=i(2824),k=i(4292),se=i(9263),_e=i(7951),he=i(2101),Ce=i(448),le=i(186),ae=i(5918),oe=i(2463),ee=i(1269),q=i(9544),P=i(736),Y=i(9057),Ee=i(5207),re=i(5101),j="content",ue="content-fixed",c="dx-first-cell",d="dx-state-hover",m="dx-col-fixed",I="dx-pointer-events-none",N="transparent",xe="dx-group-row",Ie=function(h){var C=-1;return(0,he.__)(h,(F,te)=>{if(te.command===N)return C=F,!1}),C},B=function(h,C,F){var te=0;if(h&&C&&F)for(var X=0;X<h.length;X++)h[X].command===N?te+=h[X].colspan:(C[te]<F[X]&&(C[te]=F[X]),te++);return C},n={init(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol(h){return this.callBase(h).toggleClass(m,!(!this._isFixedTableRendering||!(h.fixed||h.command&&h.command!==N)))},_correctColumnIndicesForFixedColumns(h,C){var F=Ie(h),te=h[F].colspan,X=C&&C.columnIndices;X&&(C.columnIndices=X.map(ge=>{if(ge)return ge.map(He=>He<F?He:He>=F+te?He-te+1:-1).filter(He=>He>=0)}))},_partialUpdateFixedTable(h){var C=this._fixedTableElement,F=this._getRowElementsCore(C);C.children("colgroup").replaceWith(this._createColGroup(h));for(var X=0;X<F.length;X++)this._partialUpdateFixedRow((0,k.A)(F[X]),h)},_partialUpdateFixedRow(h,C){var F,Z,te=h.get(0).childNodes,X=Ie(C),ge=C[X],D=this._columnsController.getColumnIndexOffset()+1,{colspan:U}=ge;if(h.hasClass("dx-master-detail-row"))te[0].setAttribute("colspan",null===(F=this._columnsController.getVisibleColumns())||void 0===F?void 0:F.length);else{h.hasClass(xe)&&(U=(Z=this._getGroupCellOptions({row:h.data("options"),columns:this._columnsController.getVisibleColumns()})).colspan-Math.max(0,te.length-(Z.columnIndex+2)));for(var p=0;p<te.length;p++){var w=Z?p===Z.columnIndex+1:p===X;te[p].setAttribute("aria-colindex",D),w?(te[p].setAttribute("colspan",U),D+=U):D++}}},_renderTable(h){var C,F,te=this.getFixedColumns();this._isFixedColumns=!!te.length;var X=this.callBase(h);if(this._isFixedColumns){var ge=h?.change,He=this._getRowElements(this._fixedTableElement),Z=ge?.virtualColumnsScrolling&&He.length===(null===(C=ge?.items)||void 0===C?void 0:C.length);if(this._isFixedTableRendering=!0,Z&&!0!==this.option("scrolling.legacyMode"))this._partialUpdateFixedTable(te),this._isFixedTableRendering=!1;else{var D=ge?.columnIndices;this._correctColumnIndicesForFixedColumns(te,ge),F=this._createTable(te),this._renderRows(F,(0,_e.X)({},h,{columns:te})),this._updateContent(F,ge,!0),D&&(ge.columnIndices=D),this._isFixedTableRendering=!1}}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return X},_renderRow(h,C){var F,{cells:te}=C.row;if(this.callBase.apply(this,arguments),this._isFixedTableRendering&&te&&te.length){F=0;var X=C.row.cells||[];te=te.slice(),C.row.cells=te;for(var ge=0;ge<X.length;ge++)X[ge].column&&X[ge].column.command===N?F=(X[ge].column.colspan||1)-1:te[ge+F]=X[ge]}},_createCell(h){var ge,He,Z,{column:C}=h,F=C&&C.command,{rowType:te}=h,X=this.callBase.apply(this,arguments);(this._isFixedTableRendering||"filter"===te)&&(He=(ge=this.getFixedColumns())[(Z=Ie(ge))-1]),this._isFixedTableRendering?F===N&&(X.addClass(I).toggleClass(c,0===Z||He&&"expand"===He.command).toggleClass("dx-last-cell",ge.length&&Z===ge.length-1),"freeSpace"!==te&&Ee.A.setEmptyText(X)):"filter"===te&&X.toggleClass(c,h.columnIndex===Z);var D=this.option("rowAlternationEnabled")&&h.isAltRow,U="multiple"===this.option("selection.mode")&&0===h.columnIndex&&"header"===h.rowType;return se.A.mozilla&&h.column.fixed&&"group"!==h.rowType&&!D&&!U&&X.addClass(m),X},_getContent(h){var C;return h?null===(C=this._fixedTableElement)||void 0===C?void 0:C.parent():this.callBase.apply(this,arguments)},_wrapTableInScrollContainer(h,C){var F=this.callBase.apply(this,arguments);return(this._isFixedTableRendering||C)&&F.addClass(this.addWidgetPrefix(ue)),F},_renderCellContent(h,C){var F,{column:te}=C,X=this._isFixedTableRendering,ge="group"===C.rowType&&(0,oe.O9)(te.groupIndex);if(X&&ge&&!te.command&&!te.groupCellTemplate&&h.css("pointerEvents","none"),!X&&this._isFixedColumns){if(F=te.fixed||te.command&&!1!==te.fixed,ge&&(F=!1,C.row.summaryCells&&C.row.summaryCells.length)){var He=this._columnsController.getVisibleColumns(),Z=this._getAlignByColumnCellCount?this._getAlignByColumnCellCount(te.colspan,{columns:He,row:C.row,isFixed:!0}):0;if(Z>0){var D=Ie(this._columnsController.getFixedColumns());F=He.length-Z<D}}if(F){if(te.command&&"buttons"!==te.type||"group"===C.rowType)return void h.html("&nbsp;").addClass(te.cssClass);h.addClass("dx-hidden-cell")}}te.command!==N&&this.callBase.apply(this,arguments)},_getCellElementsCore(h){var C=this.callBase.apply(this,arguments),F=C?.parent().hasClass(xe),te="columnHeadersView"===this.name?h:void 0;if(this._fixedTableElement&&C){var X=this.getFixedColumns(te),ge=this._getRowElements(this._fixedTableElement).eq(h).children("td");(0,he.__)(ge,(He,Z)=>{if(F)C[He]&&"hidden"!==Z.style.visibility&&(C[He]=Z);else{var D=X[He];if(D)if(D.command===N)ge.eq(He).hasClass("dx-master-detail-cell")&&(C[He]=Z||C[He]);else{var U=this._columnsController.getVisibleIndexByColumn(D,te);C[U]=Z||C[U]}}})}return C},getColumnWidths(){var h=this.callBase(),C=this.getFixedColumns(),F=this._fixedTableElement&&h.length?this.callBase(this._fixedTableElement):void 0;return B(C,h,F)},getTableElement(h){return(h=this._isFixedTableRendering||h)?this._fixedTableElement:this.callBase()},setTableElement(h,C){this._isFixedTableRendering||C?this._fixedTableElement=h.addClass(I):this.callBase(h)},getColumns(h){var C=this.getTableElement();return this._isFixedTableRendering?this.getFixedColumns(h):this.callBase(h,C)},getRowIndex(h){var C=this._fixedTableElement;return C&&C.find(h).length?this._getRowElements(C).index(h):this.callBase(h)},getTableElements(){var h=this.callBase.apply(this,arguments);return this._fixedTableElement&&(h=(0,k.A)([h.get(0),this._fixedTableElement.get(0)])),h},getFixedColumns(h){return this._columnsController.getFixedColumns(h)},getFixedColumnsOffset(){var C,h={left:0,right:0};if(this._fixedTableElement){var F=(C=this.getTransparentColumnElement()).position();h={left:F.left,right:(0,le.Ot)(this.element(),!0)-((0,le.Ot)(C,!0)+F.left)}}return h},getTransparentColumnElement(){return this._fixedTableElement&&this._fixedTableElement.find(".".concat(I)).first()},getFixedTableElement(){return this._fixedTableElement},isFixedColumns(){return this._isFixedColumns},_resizeCore(){this.callBase(),this.synchronizeRows()},setColumnWidths(h){var C,{widths:F}=h,te=this._columnsController.getVisibleColumns(),X=F?.length&&te.some(w=>(0,oe.O9)(w.visibleWidth)),ge=null===(C=h.optionNames)||void 0===C?void 0:C.width;if(this.callBase(h),this._fixedTableElement){var He=F?.some(w=>"auto"===w||!(0,oe.O9)(w)),D=!He||X&&this.isScrollbarVisible(!0)?this.getFixedColumns():te;this.setFixedTableColumnWidths(D,F)}var U=this.option("wordWrapEnabled");(X||ge&&U)&&this.synchronizeRows()},setFixedTableColumnWidths(h,C){if(this._fixedTableElement&&C){var F=this._fixedTableElement.children("colgroup").children("col");F.toArray().forEach(X=>X.removeAttribute("style"));var te=0;h.forEach(X=>{if(X.colspan)te+=X.colspan;else{var ge=(0,re.W)(C[te]);(0,oe.O9)(ge)&&(0,ae.zj)(F.eq(te),ge),te+=1}})}},_getClientHeight(h){var C=h.getBoundingClientRect&&(0,Ce.N)(h);return C&&C.height?C.height:h.clientHeight},synchronizeRows(){var F,te,X,ge,h=[],C=[];this.waitAsyncTemplates(!0).done(()=>{if(this._isFixedColumns&&this._tableElement&&this._fixedTableElement){var He=this._getClientHeight(this._tableElement.get(0)),Z=this._getClientHeight(this._fixedTableElement.get(0));if(te=this._getRowElements(this._tableElement),X=this._getRowElements(this._fixedTableElement),ge=this._findContentElement(),He!==Z){for(ge&&ge.css("height",He),te.css("height",""),X.css("height",""),F=0;F<te.length;F++)h.push(this._getClientHeight(te.get(F))),C.push(this._getClientHeight(X.get(F)));for(F=0;F<te.length;F++){var D=h[F],U=C[F];D>U?X.eq(F).css("height",D):D<U&&te.eq(F).css("height",U)}ge&&ge.css("height","")}}})},setScrollerSpacing(h){var C=this.option("rtlEnabled");this.callBase(h),this.element().children(".".concat(this.addWidgetPrefix(ue))).css({paddingLeft:C?h:"",paddingRight:C?"":h})}},_={defaultOptions:()=>({columnFixing:{enabled:!1,texts:{fix:P.A.format("dxDataGrid-columnFixingFix"),unfix:P.A.format("dxDataGrid-columnFixingUnfix"),leftPosition:P.A.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:P.A.format("dxDataGrid-columnFixingRightPosition")}}}),extenders:{views:{columnHeadersView:(0,_e.X)({},n,{_getRowVisibleColumns(h){return this._isFixedTableRendering?this.getFixedColumns(h):this.callBase(h)},getContextMenuItems(h){var{column:C}=h,F=this.option("columnFixing"),te=this.callBase(h);if(h.row&&"header"===h.row.rowType&&!0===F.enabled&&C&&C.allowFixing){var X=ge=>{switch(ge.itemData.value){case"none":this._columnsController.columnOption(C.index,"fixed",!1);break;case"left":this._columnsController.columnOption(C.index,{fixed:!0,fixedPosition:"left"});break;case"right":this._columnsController.columnOption(C.index,{fixed:!0,fixedPosition:"right"})}};(te=te||[]).push({text:F.texts.fix,beginGroup:!0,items:[{text:F.texts.leftPosition,value:"left",disabled:C.fixed&&(!C.fixedPosition||"left"===C.fixedPosition),onItemClick:X},{text:F.texts.rightPosition,value:"right",disabled:C.fixed&&"right"===C.fixedPosition,onItemClick:X}]},{text:F.texts.unfix,value:"none",disabled:!C.fixed,onItemClick:X})}return te},getFixedColumnElements(h){if((0,oe.O9)(h))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(h).children();var C=this.getColumnElements(),F=this.getTransparentColumnElement();if(C&&F&&F.length){var te=Ie(this.getFixedColumns());C.splice(te,F.get(0).colSpan,F.get(0))}return C},getColumnWidths(){var h,C=this.callBase(),F=this.getFixedColumnElements(),te=this.getFixedColumns();return this._fixedTableElement&&(h=F&&F.length?this._getWidths(F):this.callBase(this._fixedTableElement)),B(te,C,h)}}),rowsView:(0,_e.X)({},n,{_detachHoverEvents(){var h=this.element();this._fixedTableElement&&this._tableElement&&ee.A.off(h,"mouseover mouseout",".dx-data-row")},_attachHoverEvents(){this._fixedTableElement&&this._tableElement&&ee.A.on(this.element(),"mouseover mouseout",".dx-data-row",this.createAction(h=>{var{event:C}=h,F=this.getRowIndex((0,k.A)(C.target).closest(".dx-row")),te="mouseover"===C.type;F>=0&&(this._tableElement&&this._getRowElements(this._tableElement).eq(F).toggleClass(d,te),this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(F).toggleClass(d,te))}))},_getScrollDelay(){var h;return(null===(h=this.getController("resizing"))||void 0===h?void 0:h.hasResizeTimeout())?this.option("scrolling.updateTimeout"):se.A.mozilla?60:0},_findContentElement(h){var C,F,te=this.addWidgetPrefix(j),X=this.element();if(h=this._isFixedTableRendering||h,X&&h){C=X.children(".".concat(te));var ge=this.getScrollable();return!C.length&&ge&&(C=(0,k.A)("<div>").addClass(te),ee.A.on(C,"scroll",He=>{var{target:Z}=He,D=this._getScrollDelay();clearTimeout(this._fixedScrollTimeout),this._fixedScrollTimeout=setTimeout(()=>{F=(0,k.A)(Z).scrollTop(),ge.scrollTo({y:F})},D)}),ee.A.on(C,q.U,He=>{var Z=(0,k.A)(He.target).closest(".dx-scrollable"),D=!1;if(ge&&ge.$element().is(Z))D=!0;else{var U=Z.length&&Y.A.getInstance(Z.get(0)),p=U&&U.scrollHeight()-U.clientHeight()>0;D=U&&!p}if(D){F=ge.scrollTop(),ge.scrollTo({y:F-He.delta});var w=ge.scrollTop()+ge.clientHeight(),V=ge.scrollHeight()+this.getScrollbarWidth();if(ge.scrollTop()>0&&w<V)return!1}}),C.appendTo(X)),C}return this.callBase()},_updateScrollable(){this.callBase();var h=this.getScrollable();if(!h?._disposed){var C=h&&h.scrollOffset().top;this._updateFixedTablePosition(C)}},_renderContent(h,C,F){return this._isFixedTableRendering||F?h.empty().addClass("".concat(this.addWidgetPrefix(j)," ").concat(this.addWidgetPrefix(ue))).append(C):this.callBase(h,C)},_getGroupCellOptions(h){return this.callBase(this._isFixedTableRendering?(0,_e.X)({},h,{columns:this._columnsController.getVisibleColumns()}):h)},_renderGroupedCells(h,C){return this.callBase(h,(0,_e.X)({},C,{columns:this._columnsController.getVisibleColumns()}))},_renderGroupSummaryCells(h,C){this.callBase(h,this._isFixedTableRendering?(0,_e.X)({},C,{columns:this._columnsController.getVisibleColumns()}):C)},_hasAlignByColumnSummaryItems(h,C){var F=this.callBase.apply(this,arguments),te=C.columns[h];return C.isFixed?te.fixed&&(F||"right"===te.fixedPosition):F&&(!this._isFixedColumns||!te.fixed)},_renderGroupSummaryCellsCore(h,C,F,te){var X;if(this._isFixedTableRendering){C.isFixed=!0,X=this._getAlignByColumnCellCount(F,C),C.isFixed=!1;var ge=C.columns.length-X;C=(0,_e.X)({},C,{columns:this.getFixedColumns()});var He=Ie(C.columns);ge<He?(X-=C.columns[He].colspan-1||0,F-=C.columns[He].colspan-1||0):te>0&&h.css("visibility","hidden"),te=X}this.callBase(h,C,F,te)},_getSummaryCellIndex(h,C){if(this._isFixedTableRendering){var F=Ie(C);return h>F&&(h+=C[F].colspan-1),h}return this.callBase.apply(this,arguments)},_renderCore(h){this._detachHoverEvents();var C=this.callBase(h),F=this._isFixedColumns;return this.element().toggleClass("dx-fixed-columns",F),this.option("hoverStateEnabled")&&F&&this._attachHoverEvents(),C},setAriaOwns(h,C,F){var te,X;if(F){var ge=this.addWidgetPrefix(ue),He=null===(te=this.element())||void 0===te?void 0:te.children(".".concat(ge)),Z=this.getFixedTableElement();He.length&&Z?.length&&this.setAria("owns","".concat(h??""," ").concat(null!==(X=Z.attr("id"))&&void 0!==X?X:""," ").concat(C??"").trim(),He)}else this.callBase.apply(this,arguments)},setRowsOpacity(h,C){this.callBase(h,C);var F=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(F,this.getFixedColumns(),h,C)},optionChanged(h){this.callBase(h),"hoverStateEnabled"===h.name&&this._isFixedColumns&&(h.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex(h){var C=this._fixedTableElement,F=0;if(C&&h.is("td")&&h.closest(C).length){var te=this.getFixedColumns();return(0,he.__)(te,(X,ge)=>{if(X===h[0].cellIndex)return!1;ge.colspan?F+=ge.colspan:F++}),F}return this.callBase.apply(this,arguments)},_updateFixedTablePosition(h,C){if(this._fixedTableElement&&this._tableElement){var F,te=this.getController("editorFactory");this._fixedTableElement.parent().scrollTop(h),C&&te&&(F=te.focus())&&te.focus(F)}},setScrollerSpacing(h,C){var F={marginBottom:0},te=this.element().children(".".concat(this.addWidgetPrefix(ue)));te.length&&this._fixedTableElement&&(te.css(F),this._fixedTableElement.css(F),F[this.option("rtlEnabled")?"marginLeft":"marginRight"]=h,F.marginBottom=C,(this._scrollable&&this._scrollable.option("useNative")?te:this._fixedTableElement).css(F))},_getElasticScrollTop(h){var C=0;if(h.scrollOffset.top<0)C=-h.scrollOffset.top;else if(h.reachedBottom){var F=(0,k.A)(h.component.content()),te=(0,k.A)(h.component.container()),X=Math.max(F.get(0).clientHeight-te.get(0).clientHeight,0);C=Math.min(X-h.scrollOffset.top,0)}return Math.floor(C)},_applyElasticScrolling(h){if(this._fixedTableElement){var C=this._getElasticScrollTop(h);0!==Math.ceil(C)?(0,be.Cy)(this._fixedTableElement,{top:C}):this._fixedTableElement.css("transform","")}},_handleScroll(h){this._updateFixedTablePosition(h.scrollOffset.top,!0),this._applyElasticScrolling(h),this.callBase(h)},_updateContentPosition(h){this.callBase.apply(this,arguments),h||this._updateFixedTablePosition(this._scrollTop)},_afterRowPrepared(h){this._isFixedTableRendering||this.callBase(h)},_scrollToElement(h){this.callBase(h,this.getFixedColumnsOffset())},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}}),footerView:n},controllers:{draggingHeader:{_generatePointsByColumns(h){var X,ge,He,Z,D,C=h.columns,{targetDraggingPanel:F}=h;if(F&&"headers"===F.getName()&&F.isFixedColumns()&&h.sourceColumn.fixed){h.rowIndex||(h.columnElements=F.getFixedColumnElements(0)),h.columns=F.getFixedColumns(h.rowIndex);var te=this.callBase(h);return X=C,He=te,Z=Ie(ge=h.columns),D=X.length-ge.length,(0,he.__)(He,(U,p)=>{p.index>Z&&(p.columnIndex+=D,p.index+=D)}),te}return this.callBase(h)},_pointCreated(h,C,F,te){var X=this.callBase.apply(this,arguments),ge=C[h.columnIndex],He=this._columnHeadersView.getTransparentColumnElement();if(!X&&"headers"===F&&He&&He.length){var Z=(0,Ce.N)(He.get(0));return te&&te.fixed?"right"===te.fixedPosition?h.x<Z.right:h.x>Z.left:!(!ge||!ge.fixed||"right"===ge.fixedPosition)||h.x<Z.left||h.x>Z.right}return X}},columnsResizer:{_generatePointsByColumns(){var h=this,C=h._columnsController,F=C&&h._columnsController.getVisibleColumns(),te=C&&h._columnsController.getFixedColumns(),X=Ie(te),ge=F.length-te.length,He=h._columnHeadersView.getFixedColumnElements();h.callBase(),He&&He.length>0&&(h._pointsByFixedColumns=Ee.A.getPointsByColumns(He,Z=>(Z.index>X&&(Z.columnIndex+=ge,Z.index+=ge),h._pointCreated(Z,F.length,F))))},_getTargetPoint(h,C,F){var te=this._columnHeadersView.getTransparentColumnElement();if(te&&te.length){var X=(0,Ce.N)(te.get(0));if(C<=X.left||C>=X.right)return this.callBase(this._pointsByFixedColumns,C,F)}return this.callBase(h,C,F)}},resizing:{_setAriaOwns(){var h,C,F;this.callBase.apply(this,arguments);var te=null===(h=this._columnHeadersView)||void 0===h?void 0:h.getFixedTableElement(),X=null===(C=this._footerView)||void 0===C?void 0:C.getFixedTableElement();null===(F=this._rowsView)||void 0===F||F.setAriaOwns(te?.attr("id"),X?.attr("id"),!0)}}}}}},7949:(Mt,dt,i)=>{i.d(dt,{J:()=>B});var be=i(7669),k=i(4292),se=i(7951),_e=i(2101),he=i(186),Ce=i(2463),le=i(1269),ae=i(736),oe=i(7805),ee=i(5101),q="text-content",re="dx-header-row",d="dx-visibility-hidden",m="dx-text-content-alignment-",B={defaultOptions:()=>({showColumnHeaders:!0,cellHintEnabled:!0}),views:{columnHeadersView:ee.n.inherit(function(){var n=function(l,_,h){var C=(0,k.A)("<div>").addClass(l.addWidgetPrefix(q));l.setAria("role","presentation",C),g(l,_,h.column,C);var F=l.option("showColumnLines"),te=l.getController("columns").getHeaderContentAlignment(h.column.alignment);return C[F||"right"===te?"appendTo":"prependTo"](_)};function g(l,_,h,C){var F=l._getIndicatorElements(_,!0),te=l._getIndicatorElements(_),X=F&&F.length,ge=l._getColumnAlignment(h.alignment),He=".".concat(l._getIndicatorClassName("sort")),Z=".".concat(l._getIndicatorClassName("sortIndex")),D=te.filter(He),U=te.children().filter(Z);(C=C||_.children(".".concat(l.addWidgetPrefix(q)))).toggleClass(m+ge,X>0).toggleClass(m+("left"===ge?"right":"left"),X>0&&"center"===h.alignment).toggleClass("dx-sort-indicator",!!D.length).toggleClass("dx-sort-index-indicator",!!U.length).toggleClass("dx-header-filter-indicator",!!te.filter(".".concat(l._getIndicatorClassName("headerFilter"))).length)}var o={_createTable(){var l=this.callBase.apply(this,arguments);return le.A.on(l,"mousedown selectstart",this.createAction(_=>{var{event:h}=_;h.shiftKey&&h.preventDefault()})),l},_isLegacyKeyboardNavigation(){return this.option("useLegacyKeyboardNavigation")},_getDefaultTemplate(l){var _=this;return function(h,C){var{caption:F}=l,te=!l.command||F&&"expand"!==l.command;"empty"===l.command?_._renderEmptyMessage(h,C):te?n(_,h,C).text(F):l.command&&h.html("&nbsp;")}},_renderEmptyMessage(l,_){var h=this._getEmptyHeaderText();if(h){var C=n(this,l,_);if(h.includes("{0}")){var[te,X]=h.split("{0}"),ge=ae.A.format("dxDataGrid-emptyHeaderColumnChooserText"),He=this.component.getView("columnChooserView"),Z=(0,k.A)("<a>").text(ge).addClass("dx-link");le.A.on(Z,"click",this.createAction(()=>He.showColumnChooser())),C.append(be.A.createTextNode(te)).append(Z).append(be.A.createTextNode(X))}else C.text(h)}else l.html("&nbsp;")},_getEmptyHeaderText(){var l=!!this.component.getView("columnChooserView").hasHiddenColumns(),_=!!this.component.getView("headerPanel").hasGroupedColumns();switch(!0){case l&&_:return ae.A.format("dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText");case _:return ae.A.format("dxDataGrid-emptyHeaderWithGroupPanelText");case l:return ae.A.format("dxDataGrid-emptyHeaderWithColumnChooserText");default:return""}},_getHeaderTemplate(l){return l.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(l)}},_processTemplate(l,_){var h=this,{column:F}=_,te=h.callBase(l);return"header"===_.rowType&&te&&F.headerCellTemplate&&!F.command?{render(X){var ge=n(h,X.container,X.model);te.render((0,se.X)({},X,{container:ge}))}}:te},_handleDataChanged(l){"refresh"===l.changeType&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell(l,_){var h=this.callBase(l,_);return"header"===_.row.rowType&&(h.addClass("dx-cell-focus-disabled"),this._isLegacyKeyboardNavigation()||_.column&&!_.column.type&&h.attr("tabindex",this.option("tabindex")||0)),h},_setCellAriaAttributes(l,_){this.callBase(l,_),"header"===_.rowType&&(_.column.type||this.setAria("role","columnheader",l),_.column&&!_.column.command&&!_.column.isBand&&(l.attr("id",_.column.headerId),this.setAria("label","".concat(ae.A.format("dxDataGrid-ariaColumn")," ").concat(_.column.caption),l)))},_createRow(l){var _=this.callBase.apply(this,arguments);return _.toggleClass("dx-column-lines",this.option("showColumnLines")),"header"===l.rowType&&(_.addClass(re),this._isLegacyKeyboardNavigation()||(0,oe.j)("columnHeaders",this,_,"td",this._handleActionKeyDown.bind(this))),_},_handleActionKeyDown(l){var{event:_}=l,h=(0,k.A)(_.target);if(this._lastActionElement=_.target,h.is(".dx-header-filter")){var C=this.getController("headerFilter"),F=h.closest("td"),te=this.getColumnIndexByElement(F);te>=0&&C.showHeaderFilterMenu(te,!1)}else{var X=h.closest(".dx-row");this._processHeaderAction(_,X)}_.preventDefault()},_renderCore(){var l=this.element(),_={};if(!this._tableElement||this._dataController.isLoaded()||this._hasRowElements){l.addClass(this.addWidgetPrefix("headers")).toggleClass(this.addWidgetPrefix("nowrap"),!this.option("wordWrapEnabled")).empty(),this.setAria("role","presentation",l);var h=this._updateContent(this._renderTable({change:_}),_);return this.getRowCount()>1&&l.addClass("dx-header-multi-row"),this.callBase.apply(this,arguments),h}},_renderRows(){(this._dataController.isLoaded()||this._hasRowElements)&&(this.callBase.apply(this,arguments),this._hasRowElements=!0)},_renderRow(l,_){var h=1===this.getRowCount()?null:_.row.rowIndex;_.columns=this.getColumns(h),this.callBase(l,_)},_createCell(l){var{column:_}=l,h=this.callBase.apply(this,arguments);return _.rowspan>1&&"header"===l.rowType&&h.attr("rowSpan",_.rowspan),h},_getRows(){var l=[],_=this.getRowCount();if(this.option("showColumnHeaders"))for(var h=0;h<_;h++)l.push({rowType:"header",rowIndex:h});return l},_getCellTemplate(l){if("header"===l.rowType)return this._getHeaderTemplate(l.column)},_columnOptionChanged(l){var{changeTypes:_}=l,{optionNames:h}=l;_.grouping||_.groupExpanding?_.grouping&&(this._isGroupingChanged=!0):(this.callBase(l),(h.width||h.visible)&&this.resizeCompleted.fire())},_isElementVisible:l=>l&&l.visible,_alignCaptionByCenter(l){var _=this._getIndicatorContainer(l,!0);_&&_.length&&(_.filter(".".concat(d)).remove(),(_=this._getIndicatorContainer(l)).clone().addClass(d).css("float","").insertBefore(l.children(".".concat(this.addWidgetPrefix(q)))))},_updateCell(l,_){"header"===_.rowType&&"center"===_.column.alignment&&this._alignCaptionByCenter(l),this.callBase.apply(this,arguments)},_updateIndicator(l,_,h){var C=this.callBase.apply(this,arguments);return"center"===_.alignment&&this._alignCaptionByCenter(l),g(this,l,_),C},_getIndicatorContainer(l,_){var h=this.callBase(l);return _?h:h.filter(":not(.".concat(d,")"))},_isSortableElement:()=>!0,getHeadersRowHeight(){var l=this.getTableElement(),_=l&&l.find(".".concat(re));return _&&_.toArray().reduce((h,C)=>h+(0,he.Oq)(C),0)||0},getHeaderElement(l){var _=this.getColumnElements();return _&&_.eq(l)},getColumnElements(l,_){var C,h=this,F=h._columnsController,te=h.getRowCount();if(h.option("showColumnHeaders")){if(te>1&&(!(0,Ce.O9)(l)||(0,Ce.O9)(_))){var X=[],ge=(0,Ce.O9)(_)?F.getChildrenByBandColumn(_,!0):F.getVisibleColumns();return(0,_e.__)(ge,(He,Z)=>{var D=(0,Ce.O9)(l)?l:F.getRowIndex(Z.index);(C=h._getCellElement(D,F.getVisibleIndex(Z.index,D)))&&X.push(C.get(0))}),(0,k.A)(X)}if(!l||l<te)return h.getCellElements(l||0)}},getColumnIndexByElement(l){var _=this.getCellIndex(l),h=l.closest(".dx-row"),{rowIndex:C}=h[0],F=this.getColumns(C)[_];return F?F.index:-1},getVisibleColumnIndex(l,_){var h=this.getColumns()[l];return h?this._columnsController.getVisibleIndex(h.index,_):-1},getColumnWidths(){var l=this.getColumnElements();return l&&l.length?this._getWidths(l):this.callBase.apply(this,arguments)},allowDragging(l){var _=l&&this._columnsController.getRowIndex(l.index),h=this.getColumns(_);return(this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering"))&&l.allowReordering&&h.length>1},getBoundingRect(){var l=this.getColumnElements();return l&&l.length?{top:this.getTableElement().offset().top}:null},getName:()=>"headers",getColumnCount(){var l=this.getColumnElements();return l?l.length:0},isVisible(){return this.option("showColumnHeaders")},optionChanged(l){switch(l.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":this._invalidate(!0,!0),l.handled=!0;break;default:this.callBase(l)}},getHeight(){return this.getElementHeight()},getContextMenuItems(l){var _=this,{column:h}=l;if(l.row&&("header"===l.row.rowType||"detailAdaptive"===l.row.rowType)){var C=_.option("sorting");if(C&&"none"!==C.mode&&h&&h.allowSorting){var F=function(te){setTimeout(()=>{_._columnsController.changeSortOrder(h.index,te.itemData.value)})};return[{text:C.ascendingText,value:"asc",disabled:"asc"===h.sortOrder,icon:"context-menu-sort-asc",onItemClick:F},{text:C.descendingText,value:"desc",disabled:"desc"===h.sortOrder,icon:"context-menu-sort-desc",onItemClick:F},{text:C.clearText,value:"none",disabled:!h.sortOrder,icon:"context-menu-sort-none",onItemClick:F}]}}},getRowCount(){return this._columnsController&&this._columnsController.getRowCount()},setRowsOpacity(l,_,h){var C,F,te=this.getRowCount(),X=this._columnsController.getColumns(),ge=X&&X[l],He=ge&&ge.isBand&&ge.index,Z=(U,p)=>{U.ownerBand===He&&(F.eq(p).css({opacity:_}),U.isBand&&this.setRowsOpacity(U.index,_,C+1))};if((0,Ce.O9)(He))for(C=h=h||0;C<te;C++)(F=this.getCellElements(C))&&this.getColumns(C).forEach(Z)}};return o}())}}},9392:(Mt,dt,i)=>{i.d(dt,{a:()=>it});var be=i(8168),k=i(3771),se=i(4292),_e=i(4423),he=i(9407),Ce=i(2984),le=i(7951),ae=i(8745),oe=i(2101),ee=i(5652),q=i(2463),P=i(8059),Y=i(4168),Ee=i(5333),re=i(1076),j=i(9259),ue=i(736),b=i(438),c=i(7310),a=i(4895),d=i(5207),m=["filterValues","filterType","fixed","fixedPosition"],S=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","added"].concat(m),I={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},xe=Number.MAX_SAFE_INTEGER||9007199254740991,Pe="groupExpand",B=/columns\[(\d+)\]\.?/gi,n={visible:!0,showInColumnChooser:!0},g={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},o={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},l="group",_="columnChooser",h=i(9518),C=i(5042),F=i(9504),te=i(448),X=i(5655),ge=function(De){De.filterOperations=De.defaultFilterOperations},He=1,Z=function(De,O,Q,ve){var We={};if(O){(0,q.Kg)(O)&&(O={dataField:O}),De.setName(O);var L={};if(O.command)L=(0,ee.tm)(We,O);else{We=De.getCommonSettings(O),Q&&Q.name&&Q.dataField&&(O=(0,le.X)({},O,{dataField:Q.dataField}));var ie=De._createCalculatedColumnOptions(O,ve);O.type||(L={headerId:"dx-col-".concat(He++)}),L=(0,ee.tm)(L,n),(0,ee.tm)(L,We),(0,ee.tm)(L,ie),(0,ee.tm)(L,O),(0,ee.tm)(L,{selector:null})}return O.filterOperations===O.defaultFilterOperations&&ge(L),L}},D=function De(O,Q,ve){var We=[];return Q&&(0,oe.__)(Q,(L,ie)=>{var me=O._columnsUserState&&pe(ie,O._columnsUserState[L])&&O._columnsUserState[L],ke=Z(O,ie,me,ve);ke&&(ve&&(ke.ownerBand=ve),We.push(ke),ke.columns&&(We=We.concat(De(O,ke.columns,ke)),delete ke.columns,ke.hasColumns=!0))}),We},U=function(De,O){for(var Q=[],ve=O[De];ve;)Q.unshift(ve),ve=O[De=ve.index];return Q},p=function De(O,Q,ve){var We=[],L=Q[O];if(L)for(var ie=0;ie<L.length;ie++){var me=L[ie];(!(0,q.O9)(me.groupIndex)||me.showWhenGrouped)&&(We.push(me),ve&&me.isBand&&(We=We.concat(De(me.index,Q,ve))))}return We},J=function De(O,Q){var ve=0,We=O.getChildrenByBandColumn(Q,!0);return(0,oe.__)(We,(L,ie)=>{ie.isBand?(ie.colspan=ie.colspan||De(O,ie.index),ve+=ie.colspan||1):ve+=1}),ve},ye=function(De){var O=(0,q.NW)(De);return"string"!==O&&"boolean"!==O&&"number"!==O&&"date"!==O&&"object"!==O&&(O=void 0),O},de=function(De,O){switch(De){case"date":case"datetime":return F.A.getDateSerializationFormat(O);case"number":if((0,q.Kg)(O))return"string";if((0,q.kf)(O))return null}},Te=function(De,O){De.deserializeValue||(d.A.isDateType(O)&&(De.deserializeValue=function(Q){return F.A.deserializeDate(Q)},De.serializeValue=function(Q){return(0,q.Kg)(Q)?Q:F.A.serializeDate(Q,this.serializationFormat)}),"number"===O&&(De.deserializeValue=function(Q){var ve=parseFloat(Q);return isNaN(ve)?Q:ve},De.serializeValue=function(Q,ve){return"filter"===ve?Q:(0,q.O9)(Q)&&"string"===this.serializationFormat?Q.toString():Q}))},T=function(De){return!0===De.value?this.trueText||"true":!1===De.value?this.falseText||"false":De.valueText||""},r=function(De){if("boolean"===De)return T},f=function(De){(0,oe.__)(De._columns,(O,Q)=>{Q.index=O}),(0,oe.__)(De._columns,(O,Q)=>{(0,q.Gv)(Q.ownerBand)&&(Q.ownerBand=Q.ownerBand.index)}),(0,oe.__)(De._commandColumns,(O,Q)=>{Q.index=-(O+1)})},s=function(De,O){(0,h.Il)(De._columns,"groupIndex",O,Q=>{var{grouped:ve}=Q;return delete Q.grouped,ve})},y=function(De,O,Q){var L,ve=(0,q.Gv)(O)?O.rowIndex:null,We=Q===l?De.getGroupColumns():Q===_?De.getChooserColumns():De.getVisibleColumns(ve);return O=(0,q.Gv)(O)?O.columnIndex:O,(L=We[O])&&L.type===Pe&&(L=De._columns.filter(ie=>L.type===ie.type)[0]||L),L&&(0,q.O9)(L.index)?L.index:-1};function pe(De,O){return De&&O&&O.name===(De.name||De.dataField)&&(O.dataField===De.dataField||De.name)}var we=function(De){var ke,Ze,st,O=De._columnsUserState,Q=De._ignoreColumnOptionNames||[],ve=De._columns,We={},L=[],ie=!0,me=[];function Et(zt,Ae){if(Ae)for(var H=0;H<S.length;H++){var G=S[H];Q.includes(G)||("dataType"===G?zt[G]=zt[G]||Ae[G]:m.includes(G)?G in Ae&&(zt[G]=Ae[G]):("selectedFilterOperation"===G&&Ae[G]&&(zt.defaultSelectedFilterOperation=zt[G]||null),zt[G]=Ae[G]))}}function yt(zt,Ae){for(var H=Ae.name||Ae.dataField,G=We[H]||0,Le=0;Le<zt.length;Le++)if(pe(Ae,zt[Le])){if(!G)return We[H]=We[H]||0,We[H]++,Le;G--}return-1}if(O){for(st=0;st<ve.length;st++)Ze=yt(O,ve[st]),ie=ie&&Ze>=0,me.push(Ze);for(st=0;st<ve.length;st++)ke=ve[st],Ze=me[st],(De._hasUserState||ie)&&Et(ke,O[Ze]),Ze>=0&&(0,q.O9)(O[Ze].initialIndex)?L[Ze]=ke:L.push(ke);var et=!1;for(st=0;st<O.length;st++){var Wt=O[st];Wt.added&&yt(ve,Wt)<0&&(Et(ke=Z(De,Wt.added),Wt),L.push(ke),Wt.added.columns&&(et=!0))}et&&(f(De),L=D(De,L)),fe(De,L)}},R=function(De,O){f(De),s(De,O),function(De,O){(0,oe.__)(De._columns,(Q,ve)=>{(0,q.O9)(ve.sortIndex)&&!xt(ve.sortOrder)&&delete ve.sortIndex}),(0,h.Il)(De._columns,"sortIndex",O,Q=>!(0,q.O9)(Q.groupIndex)&&xt(Q.sortOrder))}(De,O),_t(De),function(De,O){for(var Q,ve=[],We=De.getBandColumnsCache(),L=[],ie=De._columns.filter(Ze=>!Ze.command),me=0;me<ie.length;me++)Q=ie[me],U(me,We.columnParentByIndex).length?L.push(Q):ve.push(Q);(0,h.Il)(L,"visibleIndex",O),(0,h.Il)(ve,"visibleIndex",O)}(De,O)},z=function(De){De.resetColumnsCache()};function fe(De,O){De._previousColumns=De._columns,De._columns=O,z(De),De.updateColumnDataTypes()}var Me=function(De,O,Q,ve){var We,L=De._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:ve};Q=(Q=Q||"all").split(".")[0];var{changeTypes:ie}=L;O&&!ie[O]&&(ie[O]=!0,ie.length++);var{optionNames:me}=L;Q&&!me[Q]&&(me[Q]=!0,me.length++),(void 0===ve||ve!==L.columnIndex)&&((0,q.O9)(ve)&&(null!==(We=L.columnIndices)&&void 0!==We||(L.columnIndices=[]),(0,q.O9)(L.columnIndex)&&L.columnIndices.push(L.columnIndex),L.columnIndices.push(ve)),delete L.columnIndex),De._columnChanges=L,z(De)},ze=function(De){var We,O=De.option("onColumnsChanging"),Q=De._columnChanges;De.isInitialized()&&!De._updateLockCount&&Q&&(O&&(De._updateLockCount++,O((0,le.X)({component:De.component},Q)),De._updateLockCount--),De._columnChanges=void 0,(We=Q.optionNames)&&["dataField","lookup","dataType","columns"].some(L=>We[L])?(De._reinitAfterLookupChanges=Q?.optionNames.lookup,De.reinit(),De._reinitAfterLookupChanges=void 0):De.columnsChanged.fire(Q))},St=function(De,O,Q,ve,We){var me,ke,Ze,L=(0,he.Hz)(Q),ie=O.index;if(3===arguments.length)return L(O,{functionsAsIs:!0});var st=L(O,{functionsAsIs:!0});if(!(0,C.RL)(st,ve,{maxDepth:5})){"groupIndex"===Q||"calculateGroupValue"===Q?(ke="grouping",function(De,O,Q,ve){if(Q>=0)ve>=0||(O.lastSortOrder=O.sortOrder);else{var L=De.option("sorting.mode"),ie=O.lastSortOrder;"single"===L&&De._columns.some(ke=>ke!==O&&(0,q.O9)(ke.sortIndex))&&(ie=void 0),O.sortOrder=ie}}(De,O,ve,st)):ke="sortIndex"===Q||"sortOrder"===Q||"calculateSortValue"===Q?"sorting":"columns";var Et=(0,he.vL)(Q);Et(O,ve,{functionsAsIs:!0});var yt=function(De,O){var ve,Q=[],We=De.getBandColumnsCache(),L=function(me){return me.ownerBand===O.ownerBand};if(We.isPlain){var ie=De._columns.indexOf(O);ie>=0&&(Q=["columns[".concat(ie,"]")])}else for(ve=De._columns.filter(L);ve.length&&-1!==ve.indexOf(O);)Q.unshift("columns[".concat(ve.indexOf(O),"]")),ve=(O=We.columnParentByIndex[O.index])?De._columns.filter(L):[];return Q.join(".")}(De,O);o[Q]&&(R(De,O),ve=L(O)),("name"===Q||"allowEditing"===Q)&&De._checkColumns(),!(0,q.O9)(st)&&!(0,q.O9)(ve)&&0!==Q.indexOf("buffer")&&(We=!0),We?z(De):(!S.includes(Q)&&"visibleWidth"!==Q&&(me=De.option("columns"),Ze=De.getColumnByPath(yt,me),(0,q.Kg)(Ze)&&(Ze=me[ie]={dataField:Ze}),Ze&&pe(Ze,O)&&Et(Ze,ve,{functionsAsIs:!0})),Me(De,ke,Q,ie)),yt&&function(De,O){var{value:Q}=O,{optionName:ve}=O,{prevValue:We}=O,{fullOptionName:L}=O,ie="".concat(L,".").concat(ve);!I[ve]&&De._skipProcessingColumnsChange!==ie&&(De._skipProcessingColumnsChange=ie,De.component._notifyOptionChanged(ie,Q,We),De._skipProcessingColumnsChange=!1)}(De,{fullOptionName:yt,optionName:Q,value:ve,prevValue:st})}};function xt(De){return"asc"===De||"desc"===De}var Pt=function(De,O){if(this.dataField){var Q=this.dataField.split("."),ve=Q.length-1;this.serializeValue&&(O=this.serializeValue(O));for(var We=0;We<ve;We++){var L=Q[We];De=De[L]=De[L]||{}}De[Q[ve]]=O}},Ht=function De(O,Q,ve){var We=[];return O[Q=Q||0]&&(0,oe.__)(O[Q],(L,ie)=>{(ie.ownerBand===ve||ie.type===Pe)&&(ie.isBand&&ie.colspan?We.push.apply(We,De(O,Q+1,ie.index)):(!ie.command||Q<1)&&We.push(ie))}),We},M=(De,O)=>!!De._columns.filter(ve=>ve.type===O.type).length,ce=function(De,O){var Q=De.option("rtlEnabled");return O.command&&!M(De,O)||!O.fixedPosition?Q?"right":"left":O.fixedPosition},Be=function(De,O,Q,ve){var We,L=this.getRowCount(),ie=De[ve]&&De[ve].rowspan,me=O.filter(ke=>ke.type===Q);return De.forEach((ke,Ze)=>{ke.type===Q&&(We=Ze,ie=De[Ze+1]?De[Ze+1].rowspan:L)}),ie>1&&(me=(0,oe.Tj)(me,ke=>(0,le.X)({},ke,{rowspan:ie}))),me.unshift.apply(me,(0,q.O9)(We)?[We,1]:[ve,0]),De.splice.apply(De,me),ie||1},Ye=function(De,O){for(var Q=De?De.toString():"0";Q.length<O;)Q="0".concat(Q);return Q},Qe=(De,O,Q,ve)=>{for(var We,L,ie=O.slice().map(et=>(0,le.X)({},et)),me=De._isColumnFixing(),ke=Q.slice().map(et=>(0,le.X)({fixed:me},et)),Ze=et=>Q.reduce((Wt,zt,Ae)=>zt.type===(ve&&et.type===Pe?"expand":et.type)||zt.command===et.command?Ae:Wt,-1),st=et=>et.command!==Q[L].command,Et=0;Et<O.length;Et++)(L=(We=O[Et])&&(We.type||We.command)?Ze(We):-1)>=0&&(ve?(ie[Et]=(0,le.X)({fixed:me},Q[L],We),We.type!==Pe&&(ke=ke.filter(st))):ie[Et]=(0,le.X)({},We,Q[L],We.type===Pe&&{visibleIndex:We.visibleIndex,index:We.index,headerId:We.headerId,allowFixing:0===We.groupIndex,allowReordering:0===We.groupIndex,groupIndex:We.groupIndex}));return O.length&&ve&&ke.length&&(ie=ie.concat(ke)),ie},pt=(De,O)=>(0,q.O9)(O.fixed)||!O.type?O.fixed:De._isColumnFixing(),_t=De=>{De._bandColumnsCache=void 0},Fe=(De,O)=>{var ve,Q=(0,q.Kg)(O)&&O.substr(0,O.indexOf(":"));if(void 0!==O)return Q&&(O=O.substr(Q.length+1)),Q?ve=De.filter(We=>"".concat(We[Q])===O)[0]:["index","name","dataField","caption"].some(We=>!!(ve=De.filter(L=>L[We]===O)[0])),ve},it={defaultOptions:()=>({commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:ue.A.format("dxDataGrid-trueText"),falseText:ue.A.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}),controllers:{columns:class Ot extends a.A.Controller{_getExpandColumnOptions(){return{type:"expand",command:"expand",width:"auto",cssClass:"dx-command-expand",allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}}_getFirstItems(O){var Q,ve=[];return O&&O.items().length>0&&(Q=d.A.normalizeSortingInfo(O.group()).length,ve=function We(L,ie){if(!L||!ie)return L;for(var me=0;me<L.length;me++){var ke=We(L[me].items||L[me].collapsedItems,ie-1);if(ke&&ke.length)return ke}}(O.items(),Q)||[]),ve}_endUpdateCore(){!this._skipProcessingColumnsChange&&ze(this)}init(O){var Q=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!Q,this._isColumnsFromOptions?(fe(this,Q?D(this,Q):[]),we(this)):fe(this,this._columnsUserState?D(this,this._columnsUserState):this._columns),function(De){var O=De._getExpandColumnOptions();De.addCommandColumn(O)}(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0,O):R(this),this._checkColumns()}callbackNames(){return["columnsChanged"]}getColumnByPath(O,Q){var ve,We=[];return O.replace(B,(L,ie)=>(We.push(parseInt(ie)),"")),We.length&&(ve=Q?We.reduce((L,ie)=>L&&L.columns&&L.columns[ie],{columns:Q}):function(De,O){var Q,ve,L=function(me){return me.ownerBand===(Q?Q.index:void 0)};if(De.getBandColumnsCache().isPlain)Q=De._columns[O[0]];else{ve=De._columns.filter(L);for(var ie=0;ie<O.length;ie++)(Q=ve[O[ie]])&&(ve=De._columns.filter(L))}return Q}(this,We)),ve}optionChanged(O){var Q;switch(O.name){case"adaptColumnWidthByRatio":O.handled=!0;break;case"dataSource":O.value!==O.previousValue&&!this.option("columns")&&(!Array.isArray(O.value)||!Array.isArray(O.previousValue))&&(this._columns=[]);break;case"columns":Q=this._skipProcessingColumnsChange,O.handled=!0,this._skipProcessingColumnsChange||(O.name===O.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(O),Q=!0)),Q&&this._updateRequireResize(O);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":O.handled=!0,this.reinit("columnWidth"===O.fullName&&["width"]);break;case"rtlEnabled":this.reinit();break;default:super.optionChanged(O)}}_columnOptionChanged(O){var Q={},ve=this.getColumnByPath(O.fullName),We=O.fullName.replace(B,"");ve&&(We?Q[We]=O.value:Q=O.value,this._skipProcessingColumnsChange=O.fullName,this.columnOption(ve.index,Q),this._skipProcessingColumnsChange=!1)}_updateRequireResize(O){var{component:Q}=this;"width"===O.fullName.replace(B,"")&&Q._updateLockCount&&(Q._requireResize=!0)}publicMethods(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]}applyDataSource(O,Q,ve){var We=O&&O.isLoaded();if(this._dataSource=O,!this._dataSourceApplied||0===this._dataSourceColumnsCount||Q||this.option("regenerateColumnsByVisibleItems")){if(We){if(!this._isColumnsFromOptions){var L=function(De,O){for(var ve,Q=De._getFirstItems(O),We={},L=[],ie=0;ie<Q.length;ie++)if(Q[ie])for(ve in Q[ie])(!(0,q.Tn)(Q[ie][ve])||P.A.isWrapped(Q[ie][ve]))&&(We[ve]=!0);for(ve in We)if(0!==ve.indexOf("__")){var me=Z(De,ve);L.push(me)}return L}(this,O);L.length&&(fe(this,L),this._dataSourceColumnsCount=this._columns.length,we(this))}return this.updateColumns(O,Q,ve)}this._dataSourceApplied=!1,R(this)}else if(We&&!this.isAllDataTypesDefined(!0)&&this.updateColumnDataTypes(O))return Me(this,"columns"),ze(this),(new Ce.cY).reject().promise()}reset(){this._dataSource=null,this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()}resetColumnsCache(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,_t(this)}reinit(O){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=O||null,this.init(),O&&(this._ignoreColumnOptionNames=null)}isInitialized(){return!!this._columns.length||!!this.option("columns")}isDataSourceApplied(){return this._dataSourceApplied}getCommonSettings(O){var Q,ve,We=(!O||!O.type)&&this.option("commonColumnSettings")||{},L=null!==(Q=this.option("grouping"))&&void 0!==Q?Q:{},ie=null!==(ve=this.option("groupPanel"))&&void 0!==ve?ve:{};return(0,le.X)({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:L.autoExpandAll,allowCollapsing:L.allowCollapsing,allowGrouping:ie.allowColumnDragging&&ie.visible||L.contextMenuEnabled},We)}isColumnOptionUsed(O){for(var Q=0;Q<this._columns.length;Q++)if(this._columns[Q][O])return!0}isAllDataTypesDefined(O){var Q=this._columns;if(!Q.length)return!1;for(var ve=0;ve<Q.length;ve++)if((Q[ve].dataField||Q[ve].calculateCellValue!==Q[ve].defaultCalculateCellValue)&&(!Q[ve].dataType||O&&Q[ve].deserializeValue&&void 0===Q[ve].serializationFormat))return!1;return!0}getColumns(){return this._columns}isBandColumnsUsed(){return this.getColumns().some(O=>O.isBand)}getGroupColumns(){var O=[];return(0,oe.__)(this._columns,function(){(0,q.O9)(this.groupIndex)&&(O[this.groupIndex]=this)}),O}_shouldReturnVisibleColumns(){return!0}_compileVisibleColumns(O){return this._visibleColumns=this._visibleColumns||this._compileVisibleColumnsCore(),O=(0,q.O9)(O)?O:this._visibleColumns.length-1,this._visibleColumns[O]||[]}getVisibleColumns(O,Q){return this._shouldReturnVisibleColumns()?this._compileVisibleColumns.apply(this,arguments):[]}getFixedColumns(O){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),O=(0,q.O9)(O)?O:this._fixedColumns.length-1,this._fixedColumns[O]||[]}getFilteringColumns(){return this.getColumns().filter(O=>(O.dataField||O.name)&&(O.allowFiltering||O.allowHeaderFiltering)).map(O=>{var Q=(0,le.X)(!0,{},O);return(0,q.O9)(Q.dataField)||(Q.dataField=Q.name),Q.filterOperations=O.filterOperations!==O.defaultFilterOperations?Q.filterOperations:null,Q})}getColumnIndexOffset(){return 0}_getFixedColumnsCore(){var ie,me,ke,O=[],Q=this.getRowCount(),We={command:"transparent"},L=0;if(this._isColumnFixing())for(var Ze=0;Ze<=Q;Ze++){ie=0,ke=null,me=null;for(var st=this.getVisibleColumns(Ze,!0),Et=0;Et<st.length;Et++){var yt=st[Et-1],et=st[Et];et.fixed?yt&&yt.fixed&&ce(this,yt)!==ce(this,et)?(0,q.O9)(me)||(me=Et):ke=et.fixedPosition:(0===Ze&&(et.isBand&&et.colspan?L+=et.colspan:L++),ie++,(0,q.O9)(me)||(me=Et))}if(0===Ze&&(0===ie||ie>=st.length))return[];(0,q.O9)(me)||(me="right"===ke?0:st.length),O[Ze]=st.slice(0),We.colspan||(We.colspan=L),O[Ze].splice(me,ie,We)}return O.map(Wt=>Wt.map(zt=>{var Ae=(0,be.A)({},zt);return Ae.headerId&&(Ae.headerId+="-fixed"),Ae}))}_isColumnFixing(){var O=this.option("columnFixing.enabled");return!O&&(0,oe.__)(this._columns,(Q,ve)=>{if(ve.fixed)return O=!0,!1}),O}_getExpandColumnsCore(){return this.getGroupColumns()}getExpandColumns(){var Q,O=this._getExpandColumnsCore(),ve=O.filter(me=>0===me.groupIndex)[0],We=ve&&ve.fixed,L=this._isColumnFixing(),ie=this.option("rtlEnabled");return O.length&&(Q=this.columnOption("command:expand")),(0,oe.Tj)(O,me=>(0,le.X)({},me,{visibleWidth:null,minWidth:null,cellTemplate:(0,q.O9)(me.groupIndex)?null:me.cellTemplate,headerCellTemplate:null,fixed:!(!(0,q.O9)(me.groupIndex)||!We)||L,fixedPosition:ie?"right":"left"},Q,{index:me.index,type:me.type||Pe}))}getBandColumnsCache(){if(!this._bandColumnsCache){var O=this._columns,Q={},ve={},We=!0;O.forEach(L=>{var{ownerBand:ie}=L,me=(0,q.Gv)(ie)?ie.index:ie,ke=O[me];L.hasColumns&&(We=!1),L.colspan&&(L.colspan=void 0),L.rowspan&&(L.rowspan=void 0),ke?ve[L.index]=ke:me=-1,Q[me]=Q[me]||[],Q[me].push(L)}),this._bandColumnsCache={isPlain:We,columnChildrenByIndex:Q,columnParentByIndex:ve}}return this._bandColumnsCache}_isColumnVisible(O){return O.visible&&this.isParentColumnVisible(O.index)}_isColumnInGroupPanel(O){return(0,q.O9)(O.groupIndex)&&!O.showWhenGrouped}hasVisibleDataColumns(){return this._columns.some(Q=>{var ve=this._isColumnVisible(Q),We=this._isColumnInGroupPanel(Q);return ve&&!We&&!Q.command})}_compileVisibleColumnsCore(){var O=this.getBandColumnsCache(),Q=Qe(this,this._columns,this._commandColumns,!0);!function(De,O,Q){for(var ve,We=0;We<O.length;We++){var L=O[We];(L.visible||L.command)&&(L.isBand&&(L.colspan=L.colspan||J(De,L.index)),(!L.isBand||!L.colspan)&&(ve=De.getRowCount(),!L.command&&(!(0,q.O9)(L.groupIndex)||L.showWhenGrouped)&&(ve-=U(L.index,Q.columnParentByIndex).length),ve>1&&(L.rowspan=ve)))}}(this,Q,O);var ve=this._getIndexedColumns(Q),We=this._getVisibleColumnsFromIndexed(ve);return!this.hasVisibleDataColumns()&&this._columns.length&&We[We.length-1].push({command:"empty"}),We}_getIndexedColumns(O){for(var Q=this.option("rtlEnabled"),ve=this.getRowCount(),We=function(De){var O;for(O=0;De>1;O++)De/=10;return O}(O.length),L=this.getBandColumnsCache(),ie=[],me=[],ke=0;ke<ve;ke+=1)me[ke]=[{}],ie[ke]=[{},{},{}];return O.forEach(Ze=>{var st,Et,yt,et,zt,{visibleIndex:Wt}=Ze,Ae=U(Ze.index,L.columnParentByIndex),H=this._isColumnVisible(Ze),G=this._isColumnInGroupPanel(Ze);if(H&&!G){var Le=Ae.length;if(Wt<0)Wt=-Wt,zt=me[Le];else if(Ze.fixed=null!==(Et=null===(st=Ae[0])||void 0===st?void 0:st.fixed)&&void 0!==Et?Et:Ze.fixed,Ze.fixedPosition=null!==(et=null===(yt=Ae[0])||void 0===yt?void 0:yt.fixedPosition)&&void 0!==et?et:Ze.fixedPosition,Ze.fixed){var Xe=!!Ze.command&&!M(this,Ze),lt="right"===Ze.fixedPosition;Q&&!Xe&&(lt=!lt),zt=lt?ie[Le][2]:ie[Le][0]}else zt=ie[Le][1];if(Ae.length){Wt=Ye(Wt,We);for(var Ct=Ae.length-1;Ct>=0;Ct-=1)Wt=Ye(Ae[Ct].visibleIndex,We)+Wt}zt[Wt]=zt[Wt]||[],zt[Wt].push(Ze)}}),{positiveIndexedColumns:ie,negativeIndexedColumns:me}}_getVisibleColumnsFromIndexed(O){for(var Q=this,{positiveIndexedColumns:ve,negativeIndexedColumns:We}=O,L=[],ie=this.getRowCount(),me=Qe(this,this.getExpandColumns(),this._columns),ke=0,Ze=0,st=function(yt){L.push([]),(0,ee.ap)(We[yt],(zt,Ae)=>{L[yt].unshift.apply(L[yt],Ae)});var et=L[yt].length;ve[yt].forEach(zt=>{(0,ee.ap)(zt,(Ae,H)=>{L[yt].push.apply(L[yt],H)})}),Ze<=yt&&(Ze+=Be.call(Q,L[yt],me,"detailExpand",et)),ke<=yt&&(ke+=Be.call(Q,L[yt],me,Pe,et))},Et=0;Et<ie;Et+=1)st(Et);return L.push(Ht(L)),L}getInvisibleColumns(O,Q){var L,ve=this,We=[];return(0,oe.__)(O=O||ve._columns,(ie,me)=>{if(me.ownerBand===Q){if(me.isBand)return void((L=me.visible?ve.getInvisibleColumns(ve.getChildrenByBandColumn(me.index),me.index):ve.getChildrenByBandColumn(me.index)).length&&(We.push(me),We=We.concat(L)));me.visible||We.push(me)}}),We}getChooserColumns(O){return((De,O)=>{if("asc"!==O&&"desc"!==O)return De;var Q="asc"===O?1:-1;return De.sort((ve,We)=>Q*(ve.caption||"").localeCompare(We.caption||"")),De})((O?this.getColumns():this.getInvisibleColumns()).filter(L=>L.showInColumnChooser),this.option("columnChooser.sortOrder"))}allowMoveColumn(O,Q,ve,We){var L=y(this,O,ve),ie=this._columns[L];return!(!ie||!(ie.allowReordering||ie.allowGrouping||ie.allowHiding))&&(ve===We?ve!==_&&(O=(0,q.Gv)(O)?O.columnIndex:O)!==(Q=(0,q.Gv)(Q)?Q.columnIndex:Q)&&O+1!==Q:ve===l&&We!==_||We===l?ie&&ie.allowGrouping:ve!==_&&We!==_||ie&&ie.allowHiding)}moveColumn(O,Q,ve,We){var ie,Ze,L={},me=y(this,O,ve),ke=y(this,Q,We);if(me>=0){var st=this._columns[me];if(Q=(0,q.Gv)(Q)?Q.columnIndex:Q,Ze=ke>=0?this._columns[ke].groupIndex:-1,(0,q.O9)(st.groupIndex)&&ve===l&&(Ze>st.groupIndex&&Ze--,We!==l?L.groupIndex=void 0:(ie=st.groupIndex,delete st.groupIndex,s(this))),We===l)L.groupIndex=function(De,O,Q){var We,ve=De.getGroupColumns();if(Q>=0)for(We=0;We<ve.length;We++)ve[We].groupIndex>=Q&&ve[We].groupIndex++;else for(Q=0,We=0;We<ve.length;We++)Q=Math.max(Q,ve[We].groupIndex+1);return Q}(this,0,Ze),st.groupIndex=ie;else if(Q>=0){var Et=this._columns[ke];L.visibleIndex=!Et||st.ownerBand!==Et.ownerBand||pt(this,st)^pt(this,Et)?xe:Et.visibleIndex}var yt=We!==_;st.visible!==yt&&(L.visible=yt),this.columnOption(st.index,L)}}changeSortOrder(O,Q){var ve={},We=this.option("sorting"),L=We&&We.mode,ke=this._columns[O];("single"===L||"multiple"===L)&&ke&&ke.allowSorting&&(("single"===L||!Q)&&!(0,q.O9)(ke.groupIndex)&&(0,oe.__)(this._columns,function(Ze){Ze!==O&&this.sortOrder&&((0,q.O9)(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)}),xt(Q)?ke.sortOrder!==Q&&(ve.sortOrder=Q):"none"===Q?ke.sortOrder&&(ve.sortIndex=void 0,ve.sortOrder=void 0):function(Ze){if("ctrl"===Q){if(!("sortOrder"in Ze)||!("sortIndex"in Ze))return!1;ve.sortOrder=void 0,ve.sortIndex=void 0}else ve.sortOrder=(0,q.O9)(Ze.groupIndex)||(0,q.O9)(Ze.sortIndex)?"desc"===Ze.sortOrder?"asc":"desc":"asc"}(ke)),this.columnOption(ke.index,ve)}getSortDataSourceParameters(O){var Q=[],ve=[];return(0,oe.__)(this._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&(0,q.O9)(this.sortIndex)&&!(0,q.O9)(this.groupIndex)&&(Q[this.sortIndex]=this)}),(0,oe.__)(Q,function(){if(xt(this&&this.sortOrder)){var L={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||O&&this.selector||this.dataField||this.calculateCellValue,desc:"desc"===this.sortOrder};this.sortingMethod&&(L.compare=this.sortingMethod.bind(this)),ve.push(L)}}),ve.length>0?ve:null}getGroupDataSourceParameters(O){var Q=[];return(0,oe.__)(this.getGroupColumns(),function(){var ve=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||O&&this.selector||this.dataField||this.calculateCellValue;if(ve){var We={selector:ve,desc:"desc"===this.sortOrder,isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(We.compare=this.sortingMethod.bind(this)),Q.push(We)}}),Q.length>0?Q:null}refresh(O){var Q=[];return(0,oe.__)(this._columns,function(){var{lookup:ve}=this;if(ve&&!this.calculateDisplayValue){if(O&&ve.valueMap)return;ve.update&&Q.push(ve.update())}}),Ce.z7.apply(se.A,Q).done(z.bind(null,this))}_updateColumnOptions(O,Q){O.selector=O.selector||function(L){return O.calculateCellValue(L)},this._reinitAfterLookupChanges&&this._previousColumns?(O.selector.columnIndex=Q,O.selector.originalCallback=this._previousColumns[Q].selector.originalCallback):(O.selector.columnIndex=Q,O.selector.originalCallback=O.selector),(0,oe.__)(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],(L,ie)=>{var me=O[ie];if((0,q.Tn)(me))if(me.originalCallback)O[ie].context.column=O;else{var ke={column:O};O[ie]=function(Ze){return me.call(ke.column,Ze)},O[ie].originalCallback=me,O[ie].columnIndex=Q,O[ie].context=ke}}),(0,q.Kg)(O.calculateDisplayValue)&&(O.displayField=O.calculateDisplayValue,O.calculateDisplayValue=(0,he.Hz)(O.displayField)),O.calculateDisplayValue&&(O.displayValueMap=O.displayValueMap||{}),Te(O,O.dataType);var{lookup:ve}=O;ve&&Te(ve,ve.dataType);var We=ve?ve.dataType:O.dataType;We&&(O.alignment=O.alignment||function(De,O){switch(De){case"number":return"right";case"boolean":return"center";default:return(0,te.n)(O)}}(We,this.option("rtlEnabled")),O.format=O.format||d.A.getFormatByDataType(We),O.customizeText=O.customizeText||r(We),O.defaultFilterOperations=O.defaultFilterOperations||!ve&&g[We]||[],(0,q.O9)(O.filterOperations)||ge(O),O.defaultFilterOperation=O.filterOperations&&O.filterOperations[0]||"=",O.showEditorAlways=(0,q.O9)(O.showEditorAlways)?O.showEditorAlways:"boolean"===We&&!O.cellTemplate&&!O.lookup)}updateColumnDataTypes(O){var Q=this,ve=Q.option("dateSerializationFormat"),We=Q._getFirstItems(O),L=!1;return(0,oe.__)(Q._columns,(ie,me)=>{var ke,Ze,st,Et,yt,{lookup:et}=me;if(d.A.isDateType(me.dataType)&&void 0===me.serializationFormat&&(me.serializationFormat=ve),et&&d.A.isDateType(et.dataType)&&void 0===me.serializationFormat&&(et.serializationFormat=ve),me.calculateCellValue&&We.length){if(!me.dataType||et&&!et.dataType){for(ke=0;ke<We.length;ke++)Ze=me.calculateCellValue(We[ke]),me.dataType||(yt=ye(Ze),(st=st||yt)&&yt&&st!==yt&&(st="string")),et&&!et.dataType&&(yt=ye(d.A.getDisplayValue(me,Ze,We[ke])),(Et=Et||yt)&&yt&&Et!==yt&&(Et="string"));(st||Et)&&(st&&(me.dataType=st),et&&Et&&(et.dataType=Et),L=!0)}if(void 0===me.serializationFormat||et&&void 0===et.serializationFormat)for(ke=0;ke<We.length;ke++)Ze=me.calculateCellValue(We[ke],!0),void 0===me.serializationFormat&&(me.serializationFormat=de(me.dataType,Ze)),et&&void 0===et.serializationFormat&&(et.serializationFormat=de(et.dataType,et.calculateCellValue(Ze,!0)))}Q._updateColumnOptions(me,ie)}),L}_customizeColumns(O){var Q=this.option("customizeColumns");Q&&(O.some(We=>(0,q.Gv)(We.ownerBand))&&R(this),Q(O),fe(this,D(this,O)))}updateColumns(O,Q,ve){if(Q||this.updateSortingGrouping(O),!O||O.isLoaded()){var We=O?O.sort()||[]:this.getSortDataSourceParameters(),L=O?O.group()||[]:this.getGroupDataSourceParameters(),ie=O?.lastLoadOptions().filter;ve||this._customizeColumns(this._columns),R(this);var me=this._columns;return(0,Ce.z7)(this.refresh(!0)).always(()=>{this._columns===me&&(this._updateChanges(O,{sorting:We,grouping:L,filtering:ie}),ze(this))})}}_updateChanges(O,Q){O&&(this.updateColumnDataTypes(O),this._dataSourceApplied=!0),d.A.equalSortParameters(Q.sorting,this.getSortDataSourceParameters())||Me(this,"sorting"),d.A.equalSortParameters(Q.grouping,this.getGroupDataSourceParameters())||Me(this,"grouping");var ve=this.getController("data");ve&&!d.A.equalFilterParameters(Q.filtering,ve.getCombinedFilter())&&Me(this,"filtering"),Me(this,"columns")}updateSortingGrouping(O,Q){var We,L,ve=this,ie=function(yt,et,Wt){(0,oe.__)(yt,(zt,Ae)=>{if(delete Ae[Wt],et)for(var H=0;H<et.length;H++){var{selector:G}=et[H],{isExpanded:Le}=et[H];if(G===Ae.dataField||G===Ae.name||G===Ae.selector||G===Ae.calculateCellValue||G===Ae.calculateGroupValue||G===Ae.calculateDisplayValue){Ae.sortOrder=Q?"sortOrder"in Ae?Ae.sortOrder:et[H].desc?"desc":"asc":Ae.sortOrder||(et[H].desc?"desc":"asc"),void 0!==Le&&(Ae.autoExpandGroup=Le),Ae[Wt]=H;break}}})};if(O){We=d.A.normalizeSortingInfo(O.sort());var me=d.A.normalizeSortingInfo(O.group()),ke=ve.getGroupDataSourceParameters(),Ze=ve.getSortDataSourceParameters(),st=!d.A.equalSortParameters(me,ke,!0),Et=!st&&!d.A.equalSortParameters(me,ke);ve._columns.length||((0,oe.__)(me,(yt,et)=>{ve._columns.push(et.selector)}),(0,oe.__)(We,(yt,et)=>{(0,q.Tn)(et.selector)||ve._columns.push(et.selector)}),fe(ve,D(ve,ve._columns))),(Q||!ke&&!ve._hasUserState)&&(st||Et)&&(ie(ve._columns,me,"groupIndex"),Q&&(st&&Me(ve,"grouping"),Et&&Me(ve,"groupExpanding"),L=!0)),(Q||!Ze&&!ve._hasUserState)&&!d.A.equalSortParameters(We,Ze)&&(ie(ve._columns,We,"sortIndex"),Q&&(Me(ve,"sorting"),L=!0)),L&&ze(ve)}}updateFilter(O,Q,ve,We){if(!Array.isArray(O))return O;if(ve=void 0!==(O=(0,le.X)([],O)).columnIndex?O.columnIndex:ve,We=void 0!==O.filterValue?O.filterValue:We,(0,q.Kg)(O[0])&&"!"!==O[0]){var L=this.columnOption(O[0]);Q?(0,k.A)().forceIsoDateParsing&&L&&L.serializeValue&&O.length>1&&(O[O.length-1]=L.serializeValue(O[O.length-1],"filter")):L&&L.selector&&(O[0]=L.selector,O[0].columnIndex=L.index)}else(0,q.Tn)(O[0])&&(O[0].columnIndex=ve,O[0].filterValue=We,O[0].selectedFilterOperation=O.selectedFilterOperation);for(var ie=0;ie<O.length;ie++)O[ie]=this.updateFilter(O[ie],Q,ve,We);return O}columnCount(){return this._columns?this._columns.length:0}columnOption(O,Q,ve,We){var L=this,ie=L._columns.concat(L._commandColumns),me=Fe(ie,O);if(me){if(1===arguments.length)return(0,le.X)({},me);if((0,q.Kg)(Q)){if(2===arguments.length)return St(L,me,Q);St(L,me,Q,ve,We)}else(0,q.Gv)(Q)&&(0,oe.__)(Q,(ke,Ze)=>{St(L,me,ke,Ze,We)});ze(L)}}clearSorting(){var O=this.columnCount();this.beginUpdate();for(var Q=0;Q<O;Q++)this.columnOption(Q,"sortOrder",void 0),delete Fe(this._columns,Q).sortOrder;this.endUpdate()}clearGrouping(){var O=this.columnCount();this.beginUpdate();for(var Q=0;Q<O;Q++)this.columnOption(Q,"groupIndex",void 0);this.endUpdate()}getVisibleIndex(O,Q){for(var ve=this.getVisibleColumns(Q),We=ve.length-1;We>=0;We--)if(ve[We].index===O)return We;return-1}getVisibleIndexByColumn(O,Q){var ve=this.getVisibleColumns(Q),We=ve.filter(L=>L.index===O.index&&L.command===O.command)[0];return ve.indexOf(We)}getVisibleColumnIndex(O,Q){var ve=this.columnOption(O,"index");return this.getVisibleIndex(ve,Q)}addColumn(O){var Q=Z(this,O),ve=this._columns.length;this._columns.push(Q),Q.isBand&&(this._columns=D(this,this._columns),Q=this._columns[ve]),Q.added=O,R(this,Q),this.updateColumns(this._dataSource),this._checkColumns()}deleteColumn(O){var De,Q=this.columnOption(O);if(Q&&Q.index>=0){if((De=this._columns).forEach(O=>{(0,q.O9)(O.ownerBand)&&(O.ownerBand=De[O.ownerBand])}),this._columns.splice(Q.index,1),Q.isBand){var ve=this.getChildrenByBandColumn(Q.index).map(We=>We.index);this._columns=this._columns.filter(We=>ve.indexOf(We.index)<0)}R(this),this.updateColumns(this._dataSource)}}addCommandColumn(O){var Q=this._commandColumns.filter(ve=>ve.command===O.command)[0];Q||this._commandColumns.push(Q=O)}getUserState(){var ve,O=this._columns,Q=[];function We(L,ie){void 0!==O[ve][ie]&&(Q[ve][ie]=O[ve][ie])}for(ve=0;ve<O.length;ve++)Q[ve]={},(0,oe.__)(S,We);return Q}setName(O){O.name=O.name||O.dataField||O.type}setUserState(O){var Q=this._dataSource,ve=this.option("stateStoring.ignoreColumnOptionNames");if(O?.forEach(this.setName),!ve){ve=[];var We=this.getCommonSettings();this.option("columnChooser.enabled")||ve.push("visible"),"none"===this.option("sorting.mode")&&ve.push("sortIndex","sortOrder"),We.allowGrouping||ve.push("groupIndex"),We.allowFixing||ve.push("fixed","fixedPosition"),We.allowResizing||ve.push("width","visibleWidth");var L=!this.option("filterPanel.visible");!this.option("filterRow.visible")&&L&&ve.push("filterValue","selectedFilterOperation"),!this.option("headerFilter.visible")&&L&&ve.push("filterValues","filterType")}this._columnsUserState=O,this._ignoreColumnOptionNames=ve,this._hasUserState=!!O,Me(this,"filtering"),this.init(!0),Q&&(Q.sort(this.getSortDataSourceParameters()),Q.group(this.getGroupDataSourceParameters()))}_checkColumns(){var O={},Q=!1,ve=[];this._columns.forEach(We=>{var L,{name:ie}=We,me=null===(L=We.columns)||void 0===L?void 0:L.length,ke=We.allowEditing&&(We.dataField||We.setCellValue)&&!me;ie?(O[ie]&&ve.push('"'.concat(ie,'"')),O[ie]=!0):ke&&(Q=!0)}),ve.length&&c.A.log("E1059",ve.join(", ")),Q&&c.A.log("E1060")}_createCalculatedColumnOptions(O,Q){var ve={},{dataField:We}=O;if((Array.isArray(O.columns)&&O.columns.length||O.isBand)&&(ve.isBand=!0,We=null),We){if((0,q.Kg)(We)){var L=(0,he.Hz)(We);ve={caption:(0,ae.Bc)(We),calculateCellValue(ie,me){var ke=L(ie);return this.deserializeValue&&!me?this.deserializeValue(ke):ke},setCellValue:Pt,parseValue(ie){var me,ke;return"number"===this.dataType?(0,q.Kg)(ie)&&this.format?me=function(De,O){var Q=X.A.parse(De);if((0,q.kf)(Q)){var ve=X.A.format(Q,O),We=X.A.format(Q,"decimal");if(ve===De||We===De)return Q}}(ie.trim(),this.format):(0,q.O9)(ie)&&(0,q.kf)(ie)&&(me=Number(ie)):"boolean"===this.dataType?ie===this.trueText?me=!0:ie===this.falseText&&(me=!1):d.A.isDateType(this.dataType)?(ke=j.A.parse(ie,this.format))&&(me=ke):me=ie,me}}}ve.allowFiltering=!0}else ve.allowFiltering=!!O.calculateFilterExpression;return ve.calculateFilterExpression=function(){return b.A.defaultCalculateFilterExpression.apply(this,arguments)},ve.defaultFilterOperation="=",ve.createFilterExpression=function(ie,me){var ke;return this.calculateFilterExpression&&(ke=this.calculateFilterExpression.apply(this,arguments)),(0,q.Tn)(ke)&&(ke=[ke,"=",!0]),ke&&(ke.columnIndex=this.index,ke.filterValue=ie,ke.selectedFilterOperation=me),ke},(!We||!(0,q.Kg)(We))&&(0,le.X)(!0,ve,{allowSorting:!1,allowGrouping:!1,calculateCellValue:()=>null}),Q&&(ve.allowFixing=!1),O.dataType&&(ve.userDataType=O.dataType),O.selectedFilterOperation&&!("defaultSelectedFilterOperation"in ve)&&(ve.defaultSelectedFilterOperation=O.selectedFilterOperation),O.lookup&&(ve.lookup={calculateCellValue(ie,me){return this.valueExpr&&(ie=this.valueMap&&this.valueMap[ie]),this.deserializeValue&&!me?this.deserializeValue(ie):ie},updateValueMap(){if(this.valueMap={},this.items)for(var ie=(0,he.Hz)(this.valueExpr),me=(0,he.Hz)(this.displayExpr),ke=0;ke<this.items.length;ke++){var Ze=this.items[ke],st=me(Ze);this.valueMap[ie(Ze)]=st,this.dataType=this.dataType||ye(st)}},update(){var ie=this,{dataSource:me}=ie;if(me)if((0,q.Tn)(me)&&!P.A.isWrapped(me)&&(me=me({})),(0,q.Qd)(me)||me instanceof Y.A||Array.isArray(me)){if(ie.valueExpr){var ke=(0,re.ho)(me);return ke.paginate=!1,(me=new Ee.q(ke)).load().done(Ze=>{ie.items=Ze,ie.updateValueMap&&ie.updateValueMap()})}}else c.A.log("E1016");else ie.updateValueMap&&ie.updateValueMap()}}),ve.resizedCallbacks=(0,_e.A)(),O.resized&&ve.resizedCallbacks.add(O.resized.bind(O)),(0,oe.__)(ve,ie=>{if((0,q.Tn)(ve[ie])&&0!==ie.indexOf("default")){var me="default".concat(ie.charAt(0).toUpperCase()).concat(ie.substr(1));ve[me]=ve[ie]}}),ve}getRowCount(){return this._rowCount=this._rowCount||function(De){var O=1,Q=De.getBandColumnsCache(),{columnParentByIndex:ve}=Q;return De._columns.forEach(We=>{var L=U(We.index,ve),ie=L.filter(me=>!me.visible);We.visible&&!ie.length&&(O=Math.max(O,L.length+1))}),O}(this),this._rowCount}getRowIndex(O,Q){var ve=this._columns[O],We=this.getBandColumnsCache();return ve&&(Q||ve.visible&&!ve.command&&!(0,q.O9)(ve.groupIndex))?U(O,We.columnParentByIndex).length:0}getChildrenByBandColumn(O,Q){var ve=this.getBandColumnsCache(),We=p(O,ve.columnChildrenByIndex,!Q);return Q?We.filter(L=>L.visible&&!L.command).sort((L,ie)=>L.visibleIndex-ie.visibleIndex):We}isParentBandColumn(O,Q){var ve=!1,We=this._columns[O],L=this.getBandColumnsCache(),ie=We&&U(O,L.columnParentByIndex);return ie&&(0,oe.__)(ie,(me,ke)=>{if(ke.index===Q)return ve=!0,!1}),ve}isParentColumnVisible(O){var Q=!0,ve=this.getBandColumnsCache(),We=O>=0&&U(O,ve.columnParentByIndex);return We&&(0,oe.__)(We,(L,ie)=>Q=Q&&ie.visible),Q}getColumnId(O){return O.command&&O.type===Pe?M(this,O)?"type:".concat(O.type):"command:".concat(O.command):O.index}getCustomizeTextByDataType(O){return r(O)}getHeaderContentAlignment(O){return this.option("rtlEnabled")?"left"===O?"right":"left":O}}}}},541:(Mt,dt,i)=>{i.d(dt,{Q:()=>D});var be=i(3930),k=i(7669),se=i(4292),_e=i(4423),he=i(7951),Ce=i(2101),le=i(448),ae=i(186),oe=i(2463),ee=i(1269),q=i(9393),P=i(4159),Y=i(9104),Ee=i(9049),re=i(4895),j=i(5207),b="columns-separator-transparent",c="drag-header",d="drag-action",m="tracker",S="drop-highlight",I="dx-block-separator",N="dx-header-row",Ie="dxDataGridResizingReordering",o=function(U){return U.option("allowColumnResizing")||U.getController("columns").isColumnOptionUsed("allowResizing")},l=function(U){return U.option("allowColumnReordering")||U.getController("columns").isColumnOptionUsed("allowReordering")};class h extends re.A.View{_renderSeparator(){}_renderCore(p){var w=super._renderCore(p);return this._isShown=!0,this._renderSeparator(),this.hide(),w}show(){this._isShown=!0}hide(){this._isShown=!1}height(p){var w=this.element();if(w){if(!(0,oe.O9)(p))return(0,ae.Oq)(w);(0,ae.k$)(w,p)}}width(p){var w=this.element();if(w){if(!(0,oe.O9)(p))return(0,ae.RG)(w);(0,ae.zj)(w,p)}}}var X=function(U){return"widget"!==U.option("columnResizingMode")},D={views:{columnsSeparatorView:class C extends h{_renderSeparator(){super._renderSeparator(),this.element().addClass(this.addWidgetPrefix("columns-separator"))}_subscribeToCallback(){var w,p=this;p._positionChanged=function(V){(w=p.element())&&(w.css({top:V.top}),(0,ae.k$)(w,V.height))},p._tablePositionController.positionChanged.add(p._positionChanged)}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_init(){this._isTransparent=o(this),this.isVisible()&&this._subscribeToCallback()}isVisible(){return this.option("showColumnHeaders")&&(l(this)||o(this))}optionChanged(p){"allowColumnResizing"===p.name&&(p.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=o(this),this.hide(!0))),super.optionChanged(p)}init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._init()}show(){var p=this.element();p&&!this._isShown&&(this._isTransparent?p.removeClass(this.addWidgetPrefix(b)):p.show()),super.show()}hide(p){var w=this.element(),V=this.addWidgetPrefix(b);w&&(this._isShown||p)&&(this._isTransparent?(w.addClass(V),w.css("left",""),w.show()):(w.hasClass(V)&&w.removeClass(V),w.hide())),super.hide()}moveByX(p){var w=this.element();w&&w.css("left",null===p?0:p-this._parentElement().offset().left)}changeCursor(p){p=(0,oe.O9)(p)?p:"";var w=this.element();w&&w.css("cursor",p)}dispose(){this._unsubscribeFromCallback(),super.dispose()}},blockSeparatorView:class F extends h{init(){var p=this;super.init(),this.getController("data").loadingChanged.add(w=>{w||p.hide()})}_renderSeparator(){super._renderSeparator(),this.element().addClass(I).html("&nbsp;")}hide(){var p=this._parentElement(),w=this.element();w&&this._isShown&&w.css("display","none"),p&&!p.children(".".concat(I)).length&&p.prepend(this.element()),super.hide()}isVisible(){var p=this.option("groupPanel"),w=this.option("columnChooser");return p&&p.visible||w&&w.enabled}show(p){var V,w=this.element();if(w&&!this._isShown)switch(p){case"group":this.element().css("display","block");break;case"columnChooser":V={width:"100%",display:"block"},be.A.stop(w,!0),be.A.animate(w,{type:"slide",from:{width:0,display:V.display},to:V,duration:300,easing:"swing"});break;default:w.css("display","")}super.show()}},draggingHeaderView:class te extends re.A.View{isDragging(){return this._isDragging}_getDraggingPanelByPos(p){var w;return(0,Ce.__)(this._dragOptions.draggingPanels,(V,J)=>{if(J){var $=J.getBoundingRect();if($&&(void 0===$.bottom||p.y<$.bottom)&&(void 0===$.top||p.y>$.top)&&(void 0===$.left||p.x>$.left)&&(void 0===$.right||p.x<$.right))return w=J,!1}}),w}_renderCore(){this.element().addClass("".concat(this.addWidgetPrefix(c)," ").concat(this.addWidgetPrefix("text-content")," ").concat("dx-widget")).hide()}_resetTargetColumnOptions(){var p=this._dropOptions;p.targetColumnIndex=-1,delete p.targetColumnElement,delete p.isLast,delete p.posX,delete p.posY}_getVisibleIndexObject(p,w){return(0,oe.O9)(p)?{columnIndex:w,rowIndex:p}:w}dispose(){var p=this.element();this._dragOptions=null,p&&p.parent().find(".".concat(this.addWidgetPrefix(c))).remove()}isVisible(){var w=this.getController("columns").getCommonSettings();return this.option("showColumnHeaders")&&(l(this)||w.allowGrouping||w.allowHiding)}init(){var p=this;super.init(),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this._isDragging=!1,this.getController("data").loadingChanged.add(w=>{var V=p.element();!w&&V&&V.hide()})}dragHeader(p){var{columnElement:w}=p,V=!!p.sourceColumn.type;this._isDragging=!0,this._dragOptions=p,this._dropOptions={sourceIndex:p.index,sourceColumnIndex:this._getVisibleIndexObject(p.rowIndex,p.columnIndex),sourceColumnElement:p.columnElement,sourceLocation:p.sourceLocation};var J=k.A.getDocument();this._onSelectStart=J.onselectstart,J.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.element().css({textAlign:w&&w.css("textAlign"),height:w&&(V&&w.get(0).clientHeight||(0,ae.Oq)(w)),width:w&&(V&&w.get(0).clientWidth||(0,ae.RG)(w)),whiteSpace:w&&w.css("whiteSpace")}).addClass(this.addWidgetPrefix(d)).toggleClass("dx-drag-command-cell",V).text(V?"":p.sourceColumn.caption),this.element().appendTo(Ee.A.getSwatchContainer(w))}moveHeader(p){var w=p.event,{that:V}=w.data,J=(0,Y.rw)(w),$=!!V._columnsResizerViewController&&V._columnsResizerViewController.isResizing(),ye=V._dragOptions;if(V._isDragging&&!$){var de=V.element(),Te=Math.abs(J.x-ye.columnElement.offset().left-ye.deltaX),Ne=Math.abs(J.y-ye.columnElement.offset().top-ye.deltaY);(de.is(":visible")||Te>5||Ne>5)&&(de.show(),de.css({left:J.x-ye.deltaX,top:J.y-ye.deltaY}),V.dockHeader(J)),w.preventDefault()}}dockHeader(p){var w=this._getDraggingPanelByPos(p),V=this._controller,J=this._dropOptions,$=this._dragOptions;if(w){var ye=this.option("rtlEnabled"),de="columnChooser"===w.getName(),Te=de?"y":"x",Ne=w.getName(),T="headers"===Ne?$.rowIndex:void 0,{sourceColumn:r}=$,v=w.getColumnElements(T,r?.ownerBand)||[],f=$.pointsByTarget=$.pointsByTarget||{},s="columnChooser"===Ne?[]:f[Ne]||V._generatePointsByColumns((0,he.X)({},$,{targetDraggingPanel:w,columns:w.getColumns(T),columnElements:v,isVerticalOrientation:de,startColumnIndex:"headers"===Ne&&(0,se.A)(v[0]).index()}));if(f[Ne]=s,J.targetLocation=Ne,s.length>0)for(var t=0;t<s.length;t++){var u=s[t+1]&&(s[t][Te]+s[t+1][Te])/2;if(void 0===u||(ye&&"x"===Te?p[Te]>u:p[Te]<u)){J.targetColumnIndex=this._getVisibleIndexObject(T,s[t].columnIndex),v[t]?(J.targetColumnElement=v.eq(t),J.isLast=!1):(J.targetColumnElement=v.last(),J.isLast=!0),J.posX=s[t].x,J.posY=s[t].y,V.dock(J);break}}else this._resetTargetColumnOptions(),V.dock(J)}}dropHeader(p){var w=p.event,{that:V}=w.data,J=V._controller;V.element().hide(),J&&V._isDragging&&J.drop(V._dropOptions),V.element().appendTo(V._parentElement()),V._dragOptions=null,V._dropOptions=null,V._isDragging=!1,k.A.getDocument().onselectstart=V._onSelectStart||null}},trackerView:class _ extends re.A.View{_renderCore(){var p=super._renderCore();return this.element().addClass(this.addWidgetPrefix(m)),this.hide(),p}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_subscribeToCallback(){var p=this;p._positionChanged=function(w){var V=p.element();V&&V.hasClass(p.addWidgetPrefix(m))&&(V.css({top:w.top}),(0,ae.k$)(V,w.height))},this._tablePositionController.positionChanged.add(p._positionChanged)}optionChanged(p){"allowColumnResizing"===p.name&&(this._unsubscribeFromCallback(),p.value&&(this._subscribeToCallback(),this._invalidate())),super.optionChanged(p)}init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()}isVisible(){return o(this)}show(){this.element().show()}hide(){this.element()&&this.element().hide()}setHeight(p){(0,ae.k$)(this.element(),p)}dispose(){this._unsubscribeFromCallback(),super.dispose()}}},controllers:{draggingHeader:class Z extends re.A.ViewController{_generatePointsByColumns(p){var w=this;return this.isCustomGroupColumnPosition=this.checkIsCustomGroupColumnPosition(p),j.A.getPointsByColumns(p.columnElements,V=>w._pointCreated(V,p.columns,p.targetDraggingPanel.getName(),p.sourceColumn),p.isVerticalOrientation,p.startColumnIndex)}checkIsCustomGroupColumnPosition(p){for(var w=!0,V=0;V<p.columns.length;V+=1){var J=p.columns[V];if("expand"===J.command&&!w)return!0;J.command||(w=!1)}return!1}_pointCreated(p,w,V,J){var $,ye=w[p.columnIndex],de=w[p.columnIndex-1],Te="expand"===de?.command,Ne="expand"===ye?.command&&"expand"!==de?.command,T=J&&!J.allowReordering,r=!ye?.allowReordering&&!de?.allowReordering;switch(V){case"columnChooser":return!0;case"headers":if(!Ne)return Te||T||r;if(this.isCustomGroupColumnPosition)return!1;for(;"expand"===(null===($=w[p.columnIndex])||void 0===$?void 0:$.command);)p.columnIndex+=1;return!1;default:return 0===w.length}}_subscribeToEvents(p,w){var V=this;(0,Ce.__)(w,(J,$)=>{if($)for(var ye,de=$.getRowCount?$.getRowCount():1,Te=$.getName(),Ne=function(v,f){if(f){var s=(0,se.A)(f),t=ye[v];t&&$.allowDragging(t)&&(s.addClass(V.addWidgetPrefix(d)),ee.A.on(s,(0,Y.b4)(q.ni,Ie),V.createAction(u=>{var y=u.event,K=(0,Y.rw)(y);p.dragHeader({deltaX:K.x-(0,se.A)(y.currentTarget).offset().left,deltaY:K.y-(0,se.A)(y.currentTarget).offset().top,sourceColumn:t,index:t.index,columnIndex:v,columnElement:s,sourceLocation:Te,draggingPanels:w,rowIndex:V._columnsController.getRowIndex(t.index,!0)})})),ee.A.on(s,(0,Y.b4)(q.Cy,Ie),{that:p},V.createAction(p.moveHeader)),ee.A.on(s,(0,Y.b4)(q._N,Ie),{that:p},V.createAction(p.dropHeader)))}},T=0;T<de;T++){var r=$.getColumnElements(T)||[];r.length&&(ye=$.getColumns(T)||[],(0,Ce.__)(r,Ne))}})}_unsubscribeFromEvents(p,w){var V=this;(0,Ce.__)(w,(J,$)=>{if($){var ye=$.getColumnElements()||[];(0,Ce.__)(ye,(de,Te)=>{var Ne=(0,se.A)(Te);ee.A.off(Ne,(0,Y.b4)(q.ni,Ie)),ee.A.off(Ne,(0,Y.b4)(q.Cy,Ie)),ee.A.off(Ne,(0,Y.b4)(q._N,Ie)),Ne.removeClass(V.addWidgetPrefix(d))})}})}_getSeparator(p){return"headers"===p?this._columnsSeparatorView:this._blockSeparatorView}hideSeparators(p){var w=this._blockSeparatorView,V=this._columnsSeparatorView;this._animationColumnIndex=void 0,w&&w.hide(),"block"!==p&&V&&V.hide()}init(){var p=this;super.init(),p._columnsController=p.getController("columns"),p._columnHeadersView=p.getView("columnHeadersView"),p._columnsSeparatorView=p.getView("columnsSeparatorView"),p._draggingHeaderView=p.getView("draggingHeaderView"),p._rowsView=p.getView("rowsView"),p._blockSeparatorView=p.getView("blockSeparatorView"),p._headerPanelView=p.getView("headerPanel"),p._columnChooserView=p.getView("columnChooserView");var w=function(){if(p._draggingHeaderView){var V=[p._columnChooserView,p._columnHeadersView,p._headerPanelView];p._unsubscribeFromEvents(p._draggingHeaderView,V),p._subscribeToEvents(p._draggingHeaderView,V)}};p._columnHeadersView.renderCompleted.add(w),p._headerPanelView&&p._headerPanelView.renderCompleted.add(w),p._columnChooserView&&p._columnChooserView.renderCompleted.add(w)}allowDrop(p){return this._columnsController.allowMoveColumn(p.sourceColumnIndex,p.targetColumnIndex,p.sourceLocation,p.targetLocation)}drag(p){var{sourceIndex:w}=p,{sourceLocation:V}=p,{sourceColumnElement:J}=p,$=this._columnHeadersView,ye=this._rowsView;J&&(J.css({opacity:.5}),"headers"===V&&($&&$.setRowsOpacity(w,.5),ye&&ye.setRowsOpacity(w,.5)))}dock(p){var w=this,V=(0,oe.Gv)(p.targetColumnIndex)?p.targetColumnIndex.columnIndex:p.targetColumnIndex,{sourceLocation:J}=p,{targetLocation:$}=p,ye=w._getSeparator($),de=V>=0;w._columnHeadersView.element().find(".".concat(N)).toggleClass(w.addWidgetPrefix(S),"headers"!==J&&"headers"===$&&!de),ye&&(w.allowDrop(p)&&de?"group"===$||"columnChooser"===$?w._animationColumnIndex!==V&&(w.hideSeparators(),ye.element()[p.isLast?"insertAfter":"insertBefore"](p.targetColumnElement),w._animationColumnIndex=V,ye.show($)):(w.hideSeparators("block"),w.getController("tablePosition").update(p.posY),ye.moveByX(p.posX-ye.width()),ye.show()):w.hideSeparators())}drop(p){var{sourceColumnElement:w}=p;if(w&&(w.css({opacity:""}),this._columnHeadersView.setRowsOpacity(p.sourceIndex,""),this._rowsView.setRowsOpacity(p.sourceIndex,""),this._columnHeadersView.element().find(".".concat(N)).removeClass(this.addWidgetPrefix(S))),this.allowDrop(p)){var V=this._getSeparator(p.targetLocation);V&&V.hide(),this._columnsController.moveColumn(p.sourceColumnIndex,p.targetColumnIndex,p.sourceLocation,p.targetLocation)}}dispose(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}},tablePosition:class He extends re.A.ViewController{constructor(p){super(p),this.positionChanged=(0,_e.A)()}update(p){var w={},V=this._columnHeadersView.element(),J=V&&V.offset(),$=J&&J.top||0,ye=(0,oe.O9)(p)?Math.abs(p-$):0,de=this._columnHeadersView?this._columnHeadersView.getHeight():0,Te=this._rowsView.getScrollbarWidth(!0),Ne=this._rowsView?this._rowsView.height()-Te:0,T=this.component.getController("columnsResizer"),r=this.component.getView("draggingHeaderView");w.height=de,(T.isResizing()||r.isDragging())&&(w.height+=Ne-ye),null!==p&&V&&V.length&&(w.top=V[0].offsetTop+ye),this.positionChanged.fire(w)}init(){var p=this;super.init(),p._columnHeadersView=this.getView("columnHeadersView"),p._rowsView=this.getView("rowsView"),p._pagerView=this.getView("pagerView"),p._rowsView.resizeCompleted.add(()=>{if(p.option("allowColumnResizing")){var w=p.getController("columnsResizer")._targetPoint;p.update(w?w.y:null)}})}},columnsResizer:class ge extends re.A.ViewController{_isHeadersRowArea(p){if(this._columnHeadersView){var w=this._columnHeadersView.element();if(w){var V=w.offset().top,J=this._columnHeadersView.getHeadersRowHeight();return p>=V&&p<=V+J}}return!1}_isRtlParentStyle(){var p;return this.option("rtlEnabled")&&"rtl"===(null===(p=this._$parentContainer)||void 0===p?void 0:p.parent().css("direction"))}_pointCreated(p,w,V){var J=X(this),$=this.option("rtlEnabled"),ye=this._isRtlParentStyle(),de=J||!$||ye?1:0;if(p.index>=de&&p.index<w+(J||$&&!ye?0:1)){p.columnIndex-=de;var Te=V[p.columnIndex]||{};return!(J?Te.allowResizing&&(V[p.columnIndex+1]||{}).allowResizing:Te.allowResizing)}return!0}_getTargetPoint(p,w,V){if(p)for(var J=0;J<p.length;J++)if((p[J].x!==p[0].x||!p[J+1]||p[J].x!==p[J+1].x)&&p[J].x-V<=w&&w<=p[J].x+V)return p[J];return null}_moveSeparator(p){var w,V=p.event,J=V.data,$=J._columnsSeparatorView.width(),ye=X(J),de=$/2,Te=J._$parentContainer.offset(),Ne=Te.left,T=(0,Y.rw)(V),r=J.option("rtlEnabled"),v=this._isRtlParentStyle(),f=null===(w=J._draggingHeaderView)||void 0===w?void 0:w.isDragging();if(J._isResizing&&J._resizingInfo){if((Ne<=T.x||!ye&&v)&&(!ye||T.x<=Ne+(0,ae.RG)(J._$parentContainer))&&J._updateColumnsWidthIfNeeded(T.x)){var s=J._columnHeadersView.getColumnElements().eq(J._resizingInfo.currentColumnIndex),t=s[0];if(t){var u=t.getBoundingClientRect().width;J._columnsSeparatorView.moveByX(s.offset().left+((ye||v)&&r?0:u)),J._tablePositionController.update(J._targetPoint.y),V.preventDefault()}}}else f||(J._isHeadersRowArea(T.y)?(J._previousParentOffset&&(J._previousParentOffset.left!==Te.left||J._previousParentOffset.top!==Te.top)&&J.pointsByColumns(null),J._targetPoint=J._getTargetPoint(J.pointsByColumns(),T.x,$),J._previousParentOffset=Te,J._isReadyResizing=!1,J._targetPoint?(J._columnsSeparatorView.changeCursor("col-resize"),J._columnsSeparatorView.moveByX(J._targetPoint.x-de),J._tablePositionController.update(J._targetPoint.y),J._isReadyResizing=!0,V.preventDefault()):(J._columnsSeparatorView.changeCursor(),J._columnsSeparatorView.moveByX(null))):(J.pointsByColumns(null),J._isReadyResizing=!1,J._columnsSeparatorView.changeCursor(),J._columnsSeparatorView.moveByX(null)))}_endResizing(p){var V=p.event.data;V._isResizing&&(V.pointsByColumns(null),V._resizingInfo=null,V._columnsSeparatorView.hide(),V._columnsSeparatorView.changeCursor(),V._trackerView.hide(),V._isReadyResizing=!1,V._isResizing=!1)}_getNextColumnIndex(p){return p+1}_setupResizingInfo(p){var w=this._targetPoint.columnIndex,V=this._getNextColumnIndex(w),J=this._columnHeadersView.getHeaderElement(w),$=this._columnHeadersView.getHeaderElement(V);this._resizingInfo={startPosX:p,currentColumnIndex:w,currentColumnWidth:J&&J.length>0?(0,le.N)(J[0]).width:0,nextColumnIndex:V,nextColumnWidth:$&&$.length>0?(0,le.N)($[0]).width:0}}_startResizing(p){var w=p.event,V=w.data,J=(0,Y.rw)(w);if((0,Y.kH)(w)&&(V._isHeadersRowArea(J.y)?(V._targetPoint=V._getTargetPoint(V.pointsByColumns(),J.x,10),V._targetPoint&&(V._columnsSeparatorView.moveByX(V._targetPoint.x-V._columnsSeparatorView.width()/2),V._isReadyResizing=!0)):V._isReadyResizing=!1),V._isReadyResizing){V._setupResizingInfo(J.x),V._isResizing=!0,V._tablePositionController.update(V._targetPoint.y),V._columnsSeparatorView.show(),V._trackerView.show();var $=V.component.getScrollable();$&&V._isRtlParentStyle()&&(V._scrollRight=(0,ae.RG)($.$content())-(0,ae.RG)($.container())-$.scrollLeft()),w.preventDefault(),w.stopPropagation()}this.isResizing()&&this.getController("editorFactory").loseFocus()}_generatePointsByColumns(){var p=this,w=p._columnsController?p._columnsController.getVisibleColumns():[],V=p._columnHeadersView.getColumnElements(),J=[];V&&V.length>0&&(J=j.A.getPointsByColumns(V,$=>p._pointCreated($,V.length,w))),p._pointsByColumns=J}_unsubscribeFromEvents(){this._moveSeparatorHandler&&ee.A.off(k.A.getDocument(),(0,Y.b4)(P.A.move,Ie),this._moveSeparatorHandler),this._startResizingHandler&&ee.A.off(this._$parentContainer,(0,Y.b4)(P.A.down,Ie),this._startResizingHandler),this._endResizingHandler&&(ee.A.off(this._columnsSeparatorView.element(),(0,Y.b4)(P.A.up,Ie),this._endResizingHandler),ee.A.off(k.A.getDocument(),(0,Y.b4)(P.A.up,Ie),this._endResizingHandler))}_subscribeToEvents(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),ee.A.on(k.A.getDocument(),(0,Y.b4)(P.A.move,Ie),this,this._moveSeparatorHandler),ee.A.on(this._$parentContainer,(0,Y.b4)(P.A.down,Ie),this,this._startResizingHandler),ee.A.on(this._columnsSeparatorView.element(),(0,Y.b4)(P.A.up,Ie),this,this._endResizingHandler),ee.A.on(k.A.getDocument(),(0,Y.b4)(P.A.up,Ie),this,this._endResizingHandler)}_updateColumnsWidthIfNeeded(p){var w,V,J=this._rowsView.contentWidth(),$=this._resizingInfo,ye=this._columnsController,de=ye.getVisibleColumns(),Te=this._columnsSeparatorView.width(),Ne=X(this),T=Ne&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),r=this.option("rtlEnabled"),v=this._isRtlParentStyle(),f=de[$.currentColumnIndex],s=de[$.nextColumnIndex];function t(ze){return(0,oe.Kg)(ze)&&ze.endsWith("%")}function u(ze,tt,ht,St){if(ze){var xt=ze.width;xt&&(St=t(xt)),St?(ye.columnOption(ze.index,"visibleWidth",tt),ye.columnOption(ze.index,"width","".concat((tt/ht*100).toFixed(3),"%"))):(ye.columnOption(ze.index,"visibleWidth",null),ye.columnOption(ze.index,"width",tt))}}w=p-$.startPosX,(Ne||v)&&r&&(w=-w);var ze,tt,ht,St,xt,Tt,Pt,{cellWidth:y,nextCellWidth:K}=(Pt={},(xt=$.currentColumnWidth+(ze=w))>=(Tt=f&&f.minWidth||Te)?Pt.cellWidth=xt:(Pt.cellWidth=Tt,St=!0),Ne&&((ht=$.nextColumnWidth-ze)>=(tt=s&&s.minWidth||Te)?Pt.nextCellWidth=St?$.nextColumnWidth-(ze+Tt-xt):ht:(Pt.nextCellWidth=tt,Pt.cellWidth=$.currentColumnWidth+(ze-tt+ht))),Pt);if(V=f.width!==y){if(ye.beginUpdate(),y=Math.floor(y),J=function(ze,tt){var ht=tt.every(xt=>xt.width);if(ht){var St=tt.reduce((xt,Tt)=>(t(Tt.width)&&(xt+=parseFloat(Tt.width)),xt),0);St>100&&(ze=ze/St*100)}return ze}(J,de),u(f,y,J,T),Ne)u(s,K=Math.floor(K),J,T);else{var pe=this._columnHeadersView.getColumnWidths();pe[$.currentColumnIndex]=y;var we=pe.reduce((ze,tt)=>ze+tt,0)>this._rowsView.contentWidth();if(!we){var R=j.A.getLastResizableColumnIndex(de);R>=0&&ye.columnOption(de[R].index,"visibleWidth","auto")}for(var z=0;z<pe.length;z++)de[z]&&de[z]!==f&&void 0===de[z].width&&ye.columnOption(de[z].index,"width",pe[z])}if(ye.endUpdate(),!Ne){this.component.updateDimensions();var fe=this.component.getScrollable();if(fe&&v){var Me=(0,ae.RG)(fe.$content())-(0,ae.RG)(fe.container())-this._scrollRight;fe.scrollTo({left:Me})}}}return V}_subscribeToCallback(p,w){p.add(w),this._subscribesToCallbacks.push({callback:p,handler:w})}_unsubscribeFromCallbacks(){for(var p=0;p<this._subscribesToCallbacks.length;p++){var w=this._subscribesToCallbacks[p];w.callback.remove(w.handler)}this._subscribesToCallbacks=[]}_unsubscribes(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()}_init(){var p=this,w=function(){p._isResizing||p.pointsByColumns(null)},V=function(ye){p._scrollLeft!==ye.left&&(p._scrollLeft=ye.left,p.pointsByColumns(null))};p._columnsSeparatorView=p.getView("columnsSeparatorView"),p._columnHeadersView=p.getView("columnHeadersView"),p._trackerView=p.getView("trackerView"),p._rowsView=p.getView("rowsView"),p._columnsController=p.getController("columns"),p._tablePositionController=p.getController("tablePosition"),p._$parentContainer=p.component.$element(),p._draggingHeaderView=p.component.getView("draggingHeaderView"),p._subscribeToCallback(p._columnHeadersView.renderCompleted,w),p._subscribeToCallback(p._columnHeadersView.resizeCompleted,w),p._subscribeToCallback(p._columnsSeparatorView.renderCompleted,()=>{p._unsubscribeFromEvents(),p._subscribeToEvents()}),p._subscribeToCallback(p._rowsView.renderCompleted,()=>{p._rowsView.scrollChanged.remove(V),p._rowsView.scrollChanged.add(V)});var J=0!==p._rowsView.getScrollbarWidth(),$=0;p._subscribeToCallback(p.getController("tablePosition").positionChanged,ye=>{if(p._isResizing&&!p._rowsView.isResizing){var de=0!==p._rowsView.getScrollbarWidth();J!==de||$&&$!==ye.height?(J=de,$=ye.height,p.component.updateDimensions()):p._rowsView.updateFreeSpaceRowHeight()}$=ye.height})}optionChanged(p){super.optionChanged(p),"allowColumnResizing"===p.name&&(p.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())}isResizing(){return this._isResizing}init(){this._subscribesToCallbacks=[],o(this)&&this._init()}pointsByColumns(p){if(void 0===p)return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns;this._pointsByColumns=p}dispose(){this._unsubscribes(),super.dispose()}}},extenders:{views:{rowsView:{_needUpdateRowHeight(U){var p=this.option("wordWrapEnabled"),V=this.getController("columnsResizer").isResizing();return this.callBase.apply(this,arguments)||U>0&&p&&V}}},controllers:{editorFactory:{renderFocusOverlay(){if(!this.getController("columnsResizer").isResizing())return this.callBase.apply(this,arguments)}}}}}},9633:(Mt,dt,i)=>{i.d(dt,{p:()=>P});var be=i(181),k=i(4292),se=i(5042),_e=i(2101),he=i(458),Ce=i(4895),ae={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},oe=["columnHeadersView","rowsView","footerView","headerPanel"],P={defaultOptions:()=>({onContextMenuPreparing:null}),controllers:{contextMenu:Ce.A.ViewController.inherit({init(){this.createAction("onContextMenuPreparing")},getContextMenuItems(Y){if(!Y)return!1;var j,ue,b,c,Ee=this,re=(0,k.A)(Y.target);return(0,_e.__)(oe,function(){var a,d,m=Ee.getView(this);if((j=m&&m.element())&&(j.is(re)||j.find(re).length)){b=re.closest(".dx-row > td, .dx-row > tr"),ue=b.parent();var S=m.getRowIndex(ue),I=b[0]&&b[0].cellIndex,N=ue.data("options"),xe={event:Y,targetElement:(0,be.c)(re),target:ae[this],rowIndex:S,row:m._getRows()[S],columnIndex:I,column:null===(d=null===(a=N?.cells)||void 0===a?void 0:a[I])||void 0===d?void 0:d.column};if(xe.items=m.getContextMenuItems&&m.getContextMenuItems(xe),Ee.executeAction("onContextMenuPreparing",xe),Ee._contextMenuPrepared(xe),c=xe.items)return!1}}),c},_contextMenuPrepared:se.lQ})},views:{contextMenuView:Ce.A.View.inherit({_renderCore(){var Y=this,Ee=Y.element().addClass("dx-context-menu");this.setAria("role","presentation",Ee),this._createComponent(Ee,he.A,{onPositioning(re){var{event:j}=re,ue=re.component,b=Y.getController("contextMenu").getContextMenuItems(j);b?(ue.option("items",b),j.stopPropagation()):re.cancel=!0},onItemClick(re){re.itemData.onItemClick&&re.itemData.onItemClick(re)},cssClass:Y.getWidgetContainerClass(),target:Y.component.$element()})}})}}},9629:(Mt,dt,i)=>{i.d(dt,{X:()=>ue});var be=i(4292),k=i(4014),se=i(5042),_e=i(2984),he=i(7951),Ce=i(2101),le=i(2463),ae=i(2097),oe=i(6305),ee=i(764),q=i(7310),P=i(4895),Y=i(5207),Ee=function(b,c,a){var d=b._dataSource;if(d){if(void 0!==a){if(b._getPagingOptionValue(c)!==a){"pageSize"===c&&d.pageIndex(0),d[c](a),b._skipProcessingPagingChange=!0,b.option("paging.".concat(c),a),b._skipProcessingPagingChange=!1;var S=d.pageIndex();return b._isPaging="pageIndex"===c,d["pageIndex"===c?"load":"reload"]().done(()=>{b._isPaging=!1,b.pageChanged.fire(S)})}return(0,_e.cY)().resolve().promise()}return d[c]()}return 0},re=P.A.Controller.inherit(ee.A),ue={defaultOptions:()=>({loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}),controllers:{data:class j extends re{init(){var c=this;c._items=[],c._cachedProcessedItems=null,c._columnsController=this.getController("columns"),c._isPaging=!1,c._currentOperationTypes=null,c._dataChangedHandler=a=>{c._currentOperationTypes=this._dataSource.operationTypes(),c._handleDataChanged(a),c._currentOperationTypes=null},c._columnsChangedHandler=c._handleColumnsChanged.bind(c),c._loadingChangedHandler=c._handleLoadingChanged.bind(c),c._loadErrorHandler=c._handleLoadError.bind(c),c._customizeStoreLoadOptionsHandler=c._handleCustomizeStoreLoadOptions.bind(c),c._changingHandler=c._handleChanging.bind(c),c._dataPushedHandler=c._handleDataPushed.bind(c),c._columnsController.columnsChanged.add(c._columnsChangedHandler),c._isLoading=!1,c._isCustomLoading=!1,c._repaintChangesOnly=void 0,c._changes=[],c.createAction("onDataErrorOccurred"),c.dataErrorOccurred.add(a=>c.executeAction("onDataErrorOccurred",{error:a})),c._refreshDataSource()}_getPagingOptionValue(c){return this._dataSource[c]()}callbackNames(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged","pushed"]}callbackFlags(c){if("dataErrorOccurred"===c)return{stopOnFalse:!0}}publicMethods(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey","getDataSource","getVisibleRows","repaintRows"]}reset(){this._columnsController.reset(),this._items=[],this._refreshDataSource()}_handleDataSourceChange(c){if(c.value===c.previousValue||this.option("columns")&&Array.isArray(c.value)&&Array.isArray(c.previousValue)){if(c.value!==c.previousValue){var d=this.store();d&&(d._array=c.value)}return this.needToRefreshOnDataSourceChange(c)&&this.refresh(this.option("repaintChangesOnly")),!0}return!1}needToRefreshOnDataSourceChange(c){return!0}optionChanged(c){var d,m,a=this;function S(){c.handled=!0}if("dataSource"===c.name&&c.name===c.fullName&&this._handleDataSourceChange(c))S();else switch(c.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":S();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":S(),a.reset();break;case"paging":if((d=a.dataSource())&&(m=a._setPagingOptions(d))){var I=d.pageIndex();this._isPaging=m.isPageIndexChanged,d.load().done(()=>{this._isPaging=!1,a.pageChanged.fire(I)})}S();break;case"rtlEnabled":a.reset();break;case"columns":(d=a.dataSource())&&d.isLoading()&&c.name===c.fullName&&(this._useSortingGroupingFromColumns=!0,d.load());break;default:super.optionChanged(c)}}isReady(){return!this._isLoading}getDataSource(){return this._dataSource&&this._dataSource._dataSource}getCombinedFilter(c){return this.combinedFilter(void 0,c)}combinedFilter(c,a){if(!this._dataSource)return c;var d=c??this._dataSource.filter();if(this._columnsController.isDataSourceApplied()||this._columnsController.isAllDataTypesDefined()){var S=this._calculateAdditionalFilter();d=S?Y.A.combineFilters([S,d]):d}var I=this._dataSource.remoteOperations().filtering||a;return this._columnsController.updateFilter(d,I)}waitReady(){return this._updateLockCount?(this._readyDeferred=new _e.cY,this._readyDeferred):(0,_e.z7)()}_endUpdateCore(){var c=this._changes;if(c.length){this._changes=[];var a=c.every(d=>d.repaintChangesOnly);this.updateItems(1===c.length?c[0]:{repaintChangesOnly:a})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)}_handleCustomizeStoreLoadOptions(c){var a,d=this._columnsController,m=this._dataSource,{storeLoadOptions:S}=c;c.isCustomLoading&&!S.isLoadingAll||(S.filter=this.combinedFilter(S.filter),1===(null===(a=S.filter)||void 0===a?void 0:a.length)&&"!"===S.filter[0]&&(c.data=[],c.extra=c.extra||{},c.extra.totalCount=0),d.isDataSourceApplied()||d.updateColumnDataTypes(m),this._columnsUpdating=!0,d.updateSortingGrouping(m,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,S.sort=d.getSortDataSourceParameters(),S.group=d.getGroupDataSourceParameters(),m.sort(S.sort),m.group(S.group),S.sort=d.getSortDataSourceParameters(!m.remoteOperations().sorting),c.group=d.getGroupDataSourceParameters(!m.remoteOperations().grouping))}_handleColumnsChanged(c){var S,I,N,a=this,{changeTypes:d}=c,{optionNames:m}=c;if(d.sorting||d.grouping)a._dataSource&&!a._columnsUpdating&&(a._dataSource.group(a._columnsController.getGroupDataSourceParameters()),a._dataSource.sort(a._columnsController.getSortDataSourceParameters()),a.reload());else if(d.columns&&(I=a._columnsController.columnOption(c.columnIndex,"filterValues"),(m.filterValues||m.filterType&&Array.isArray(I)||m.filterValue||m.selectedFilterOperation||m.allowFiltering)&&(S=a._columnsController.columnOption(c.columnIndex,"filterValue"),(Array.isArray(I)||void 0===c.columnIndex||(0,le.O9)(S)||!m.selectedFilterOperation||m.filterValue)&&(a._applyFilter(),N=!0)),!a._needApplyFilter&&!Y.A.checkChanges(m,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])&&a._columnsController.columnsChanged.add(function Pe(Ie){var B;a._columnsController.columnsChanged.remove(Pe),a.updateItems({repaintChangesOnly:!1,virtualColumnsScrolling:null===(B=Ie?.changeTypes)||void 0===B?void 0:B.virtualColumnsScrolling})}),(0,le.O9)(m.visible))){var xe=a._columnsController.columnOption(c.columnIndex);xe&&((0,le.O9)(xe.filterValue)||(0,le.O9)(xe.filterValues))&&(a._applyFilter(),N=!0)}!N&&d.filtering&&a.reload()}_handleDataChanged(c){var a=this,d=a._dataSource,m=a._columnsController,S=!1;this._useSortingGroupingFromColumns=!1,d&&!a._isDataSourceApplying&&(a._isDataSourceApplying=!0,(0,_e.z7)(a._columnsController.applyDataSource(d)).done(()=>{a._isLoading&&a._handleLoadingChanged(!1),S&&c&&c.isDelayed&&(c.isDelayed=!1),a._isDataSourceApplying=!1;var N,I=a._needApplyFilter;a._needApplyFilter=!1,I&&!a._isAllDataTypesDefined&&(N=a._calculateAdditionalFilter())&&N.length?(q.A.log("W1005",a.component.NAME),a._applyFilter()):a.updateItems(c,!0)}).fail(()=>{a._isDataSourceApplying=!1}),a._isDataSourceApplying&&(S=!0,a._handleLoadingChanged(!0)),a._needApplyFilter=!a._columnsController.isDataSourceApplied(),a._isAllDataTypesDefined=m.isAllDataTypesDefined())}_handleLoadingChanged(c){this._isLoading=c,this._fireLoadingChanged()}_handleLoadError(c){this.dataErrorOccurred.fire(c)}_handleDataPushed(c){this.pushed.fire(c)}fireError(){for(var c=arguments.length,a=new Array(c),d=0;d<c;d++)a[d]=arguments[d];this.dataErrorOccurred.fire(q.A.Error.apply(q.A,a))}_setPagingOptions(c){var a=this.option("paging.pageIndex"),d=this.option("paging.pageSize"),m=this.option("paging.enabled"),S=this.option("scrolling.mode"),I="infinite"===S,xe=m||"virtual"===S||I,Pe=!1,Ie=!1,B=!1;return c.requireTotalCount(!I),void 0!==m&&c.paginate()!==xe&&(c.paginate(xe),Pe=!0),void 0!==d&&c.pageSize()!==d&&(c.pageSize(d),Ie=!0),void 0!==a&&c.pageIndex()!==a&&(c.pageIndex(a),B=!0),!!(Pe||Ie||B)&&{isPaginateChanged:Pe,isPageSizeChanged:Ie,isPageIndexChanged:B}}_getSpecificDataSourceOption(){var c=this.option("dataSource");return Array.isArray(c)?{store:{type:"array",data:c,key:this.option("keyExpr")}}:c}_initDataSource(){var c=this._dataSource;super._initDataSource();var a=this._dataSource;if(this._useSortingGroupingFromColumns=!0,this._cachedProcessedItems=null,a){var d=this._setPagingOptions(a);this._isPaging=d?.isPageIndexChanged,this.setDataSource(a)}else c&&this.updateItems()}_loadDataSource(){var c=this,a=c._dataSource,d=new _e.cY;return(0,_e.z7)(this._columnsController.refresh(!0)).always(()=>{a?a.load().done(function(){c._isPaging=!1,d.resolve.apply(d,arguments)}).fail(d.reject):d.resolve()}),d.promise()}_beforeProcessItems(c){return c.slice(0)}getRowIndexDelta(){return 0}getDataIndex(c){var a=this._items,d="append"===c.changeType&&a.length>0?a[a.length-1]:null;return(0,le.O9)(d?.dataIndex)?d.dataIndex+1:0}_processItems(c,a){var d=this,m=d.getRowIndexDelta(),{changeType:S}=a,xe={visibleColumns:d._columnsController.getVisibleColumns(null,"loadingAll"===S),dataIndex:this.getDataIndex(a)},Pe=[];return(0,Ce.__)(c,(Ie,B)=>{(0,le.O9)(B)&&(xe.rowIndex=Ie-m,B=d._processItem(B,xe),Pe.push(B))}),Pe}_processItem(c,a){return c=this._generateDataItem(c,a),(c=this._processDataItem(c,a)).dataIndex=a.dataIndex++,c}_generateDataItem(c,a){return{rowType:"data",data:c,key:this.keyOf(c)}}_processDataItem(c,a){return c.values=this.generateDataValues(c.data,a.visibleColumns),c}generateDataValues(c,a,d){for(var S,m=[],I=0;I<a.length;I++){var N=a[I];S=d?void 0:null,N.command||(N.calculateCellValue?S=N.calculateCellValue(c):N.dataField&&(S=c[N.dataField])),m.push(S)}return m}_applyChange(c){"update"===c.changeType?this._applyChangeUpdate(c):this.items().length&&c.repaintChangesOnly&&"refresh"===c.changeType?this._applyChangesOnly(c):"refresh"===c.changeType&&this._applyChangeFull(c)}_applyChangeFull(c){this._items=c.items.slice(0)}_getRowIndices(c){var a=c.rowIndices.slice(0),d=this.getRowIndexDelta();a.sort((I,N)=>I-N);for(var m=0;m<a.length;m++){var S=a[m];c.allowInvisibleRowIndices&&(S+=d),S<0&&(a.splice(m,1),m--)}return a}_applyChangeUpdate(c){var Pe,a=this,{items:d}=c,m=a._getRowIndices(c),S=a.getRowIndexDelta(),I=a.option("repaintChangesOnly"),N=-1,xe=0;c.items=[],c.rowIndices=[],c.columnIndices=[],c.changeTypes=[];var Ie=function(B,n,g){var o=B&&n&&(0,se.RL)(B.key,n.key);return o&&g&&(o=B.rowType===n.rowType&&("detail"!==n.rowType||B.isEditing===n.isEditing)),o};(0,Ce.__)(m,(B,n)=>{var g;if(N!==(n+=xe+S)){N=n;var o=a._items[n],l=a._items[n+1],_=d[n],h=d[n+1],C=Ie(o,l)||Ie(_,h);if(_&&(_.rowIndex=n,c.items.push(_)),o&&_&&Ie(o,_,C))Pe="update",a._items[n]=_,o.visible!==_.visible?c.items.splice(-1,1,{visible:_.visible}):I&&!c.isFullUpdate&&(g=a._partialUpdateRow(o,_,n-S));else if(_&&!o||h&&Ie(o,h,C))Pe="insert",a._items.splice(n,0,_),xe++;else if(o&&!_||l&&Ie(_,l,C))Pe="remove",a._items.splice(n,1),xe--,N=-1;else{if(!_)return;Pe="update",a._items[n]=_}c.rowIndices.push(n-S),c.changeTypes.push(Pe),c.columnIndices.push(g)}})}_isCellChanged(c,a,d,m,S){if(JSON.stringify(c.values[m])!==JSON.stringify(a.values[m]))return!0;function I(N,xe){return!!N.modifiedValues&&void 0!==N.modifiedValues[xe]}return I(c,m)!==I(a,m)}_getChangedColumnIndices(c,a,d,m){var S;if(c.rowType===a.rowType){if("group"!==a.rowType&&"groupFooter"!==a.rowType&&(S=[],"detail"!==a.rowType))for(var I=0;I<c.values.length;I++)this._isCellChanged(c,a,d,I,m)&&S.push(I);"group"===a.rowType&&a.isExpanded===c.isExpanded&&c.cells&&(S=c.cells.map((N,xe)=>{var Pe;return"groupExpand"!==(null===(Pe=N.column)||void 0===Pe?void 0:Pe.type)?xe:-1}).filter(N=>N>=0))}return S}_partialUpdateRow(c,a,d,m){var S=this._getChangedColumnIndices(c,a,d,m);return S?.length&&this.option("dataRowTemplate")&&(S=void 0),S&&(c.cells&&c.cells.forEach((I,N)=>{!(S.indexOf(N)>=0)&&I&&I.update&&I.update(a)}),a.update=c.update,a.watch=c.watch,a.cells=c.cells,m&&(a.oldValues=c.values),c.update&&c.update(a)),S}_isItemEquals(c,a){var d,m,S,I;if(JSON.stringify(c.values)!==JSON.stringify(a.values)||["modified","isNewRow","removed","isEditing"].some(Ie=>c[Ie]!==a[Ie]))return!1;if("group"===c.rowType||"groupFooter"===c.rowType){var N=c.isExpanded===a.isExpanded,xe=JSON.stringify(c.summaryCells)===JSON.stringify(a.summaryCells),Pe=(null===(d=c.data)||void 0===d?void 0:d.isContinuation)===(null===(m=a.data)||void 0===m?void 0:m.isContinuation)&&(null===(S=c.data)||void 0===S?void 0:S.isContinuationOnNextPage)===(null===(I=a.data)||void 0===I?void 0:I.isContinuationOnNextPage);if(!N||!xe||!Pe)return!1}return!0}_applyChangesOnly(c){var a,d=[],m=[],S=[],I=[],N={},xe=null===(a=c?.isLiveUpdate)||void 0===a||a;function Pe(g){if(g)return"".concat(g.rowType,",").concat(JSON.stringify(g.key))}var Ie=this._items,B=Ie.slice();c.items.forEach((g,o)=>{var l=Pe(g);N[l]=o,g.rowIndex=o});var n=(0,k.p)(B,c.items,Pe,(g,o)=>!!this._isItemEquals(g,o)&&(g.cells&&(g.update&&g.update(o),g.cells.forEach(l=>{l&&l.update&&l.update(o,!0)})),!0));n?(n.forEach(g=>{switch(g.type){case"update":var{index:o}=g,l=g.data,{oldItem:_}=g,h=this._partialUpdateRow(_,l,o,xe);d.push(o),S.push("update"),I.push(l),Ie[o]=l,m.push(h);break;case"insert":d.push(g.index),S.push("insert"),I.push(g.data),m.push(void 0),Ie.splice(g.index,0,g.data);break;case"remove":d.push(g.index),S.push("remove"),Ie.splice(g.index,1),I.push(g.oldItem),m.push(void 0)}}),c.repaintChangesOnly=!0,c.changeType="update",c.rowIndices=d,c.columnIndices=m,c.changeTypes=S,c.items=I,B.length&&(c.isLiveUpdate=!0),this._correctRowIndices(g=>{var o=this._rowIndexOffset||0,l=this.getRowIndexOffset(),h=Pe(B[g-o]),C=N[h];return C>=0?C+l-g:0})):this._applyChangeFull(c)}_correctRowIndices(c){}_afterProcessItems(c,a){return c}_updateItemsCore(c){var a,d=this._dataSource;if(c.changeType=c.changeType||"refresh",d){var S=this._cachedProcessedItems;c.useProcessedItemsCache&&S?a=S:(a=c.items||d.items(),a=this._beforeProcessItems(a),a=this._processItems(a,c),this._cachedProcessedItems=a),a=this._afterProcessItems(a,c),c.items=a;var I=this._items.length===a.length&&this._items;this._applyChange(c);var N=this.getRowIndexDelta();(0,Ce.__)(this._items,(xe,Pe)=>{var Ie;Pe.rowIndex=xe-N,I&&(Pe.cells=null!==(Ie=I[xe].cells)&&void 0!==Ie?Ie:[]);var B=a[xe];B&&(Pe.loadIndex=B.loadIndex)}),this._rowIndexOffset=this.getRowIndexOffset()}else this._items=[]}_handleChanging(c){var a=this.getVisibleRows();this.dataSource()&&c.changes.forEach(m=>{if("insert"===m.type&&m.index>=0){for(var S=0,I=0;I<m.index;I++){var N=a[I];N&&("data"===N.rowType||"group"===N.rowType)&&S++}m.index=S}})}updateItems(c,a){var d;if(c=c||{},void 0!==this._repaintChangesOnly)c.repaintChangesOnly=null!==(d=c.repaintChangesOnly)&&void 0!==d?d:this._repaintChangesOnly,c.needUpdateDimensions=c.needUpdateDimensions||this._needUpdateDimensions;else if(c.changes)c.repaintChangesOnly=this.option("repaintChangesOnly");else if(a){var m=this.dataSource().operationTypes();c.repaintChangesOnly=m&&!m.grouping&&!m.filtering&&this.option("repaintChangesOnly"),c.isDataChanged=!0,m&&(m.reload||m.paging||m.groupExpanding)&&(c.needUpdateDimensions=!0)}!this._updateLockCount||c.cancel?(this._updateItemsCore(c),!c.cancel&&this._fireChanged(c)):this._changes.push(c)}loadingOperationTypes(){var c=this.dataSource();return c&&c.loadingOperationTypes()||{}}_fireChanged(c){this._currentOperationTypes&&(c.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),(0,se.zE)(()=>{this.changed.fire(c)})}isLoading(){return this._isLoading||this._isCustomLoading}_fireLoadingChanged(){this.loadingChanged.fire(this.isLoading(),this._loadingText)}_calculateAdditionalFilter(){return null}_applyFilter(){var c=this._dataSource;if(c)return c.pageIndex(0),this._isFilterApplying=!0,this.reload().done(()=>{this._isFilterApplying&&this.pageChanged.fire()})}resetFilterApplying(){this._isFilterApplying=!1}filter(c){var a=this._dataSource,d=a&&a.filter();if(0===arguments.length)return d;c=arguments.length>1?Array.prototype.slice.call(arguments,0):c,!Y.A.equalFilterParameters(d,c)&&(a&&a.filter(c),this._applyFilter())}clearFilter(c){var a=this._columnsController,d=function(m){for(var S=a.columnCount(),I=0;I<S;I++)a.columnOption(I,m,void 0)};if(this.component.beginUpdate(),arguments.length>0)switch(c){case"dataSource":this.filter(null);break;case"search":this.searchByText("");break;case"header":d("filterValues");break;case"row":d("filterValue")}else this.filter(null),this.searchByText(""),d("filterValue"),d("bufferedFilterValue"),d("filterValues");this.component.endUpdate()}_fireDataSourceChanged(){var c=this;c.changed.add(function a(){c.changed.remove(a),c.dataSourceChanged.fire()})}_getDataSourceAdapter(){}_createDataSourceAdapterCore(c,a){var m=this._getDataSourceAdapter().create(this.component);return m.init(c,a),m}isLocalStore(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.store())instanceof ae.A}isCustomStore(c){return(c=c||this.store())instanceof oe.A}_createDataSourceAdapter(c){var a=this.option("remoteOperations"),d=c.store(),m={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return(0,le.Gv)(a)&&a.groupPaging&&(a=(0,he.X)({},m,a)),"auto"===a&&(a=this.isLocalStore(d)||this.isCustomStore(d)?{}:{filtering:!0,sorting:!0,paging:!0}),!0===a&&(a=m),this._createDataSourceAdapterCore(c,a)}setDataSource(c){var a=this._dataSource;!c&&a&&(a.cancelAll(),a.changed.remove(this._dataChangedHandler),a.loadingChanged.remove(this._loadingChangedHandler),a.loadError.remove(this._loadErrorHandler),a.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler),a.changing.remove(this._changingHandler),a.pushed.remove(this._dataPushedHandler),a.dispose(this._isSharedDataSource)),c&&(c=this._createDataSourceAdapter(c)),this._dataSource=c,c&&(this._fireDataSourceChanged(),this._isLoading=!c.isLoaded(),this._needApplyFilter=!0,this._isAllDataTypesDefined=this._columnsController.isAllDataTypesDefined(),c.changed.add(this._dataChangedHandler),c.loadingChanged.add(this._loadingChangedHandler),c.loadError.add(this._loadErrorHandler),c.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler),c.changing.add(this._changingHandler),c.pushed.add(this._dataPushedHandler))}items(c){return this._items}isEmpty(){return!this.items().length}pageCount(){return this._dataSource?this._dataSource.pageCount():1}dataSource(){return this._dataSource}store(){var c=this._dataSource;return c&&c.store()}loadAll(c){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=this,m=new _e.cY,S=d._dataSource;if(S)if(c){var I={data:c,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:a?null:d.getCombinedFilter(),group:S.group(),sort:S.sort()}};S._handleDataLoaded(I),(0,_e.z7)(I.data).done(xe=>{var Pe;xe=d._beforeProcessItems(xe),m.resolve(d._processItems(xe,{changeType:"loadingAll"}),null===(Pe=I.extra)||void 0===Pe?void 0:Pe.summary)}).fail(m.reject)}else if(S.isLoading())m.reject();else{var N=(0,he.X)({},S.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});S.load(N).done((xe,Pe)=>{xe=d._beforeProcessItems(xe),xe=d._processItems(xe,{changeType:"loadingAll"}),m.resolve(xe,Pe&&Pe.summary)}).fail(m.reject)}else m.resolve([]);return m}getKeyByRowIndex(c,a){var d=this.items(a)[c];if(d)return d.key}getRowIndexByKey(c,a){return Y.A.getIndexByKey(c,this.items(a))}keyOf(c){var a=this.store();if(a)return a.keyOf(c)}byKey(c){var m,a=this.store(),d=this.getRowIndexByKey(c);if(a)return d>=0&&(m=(new _e.cY).resolve(this.items()[d].data)),m||a.byKey(c)}key(){var c=this.store();if(c)return c.key()}getRowIndexOffset(c){return 0}getDataByKeys(c){var a=this,d=new _e.cY,m=[],S=[];return(0,Ce.__)(c,(I,N)=>{m.push(a.byKey(N).done(xe=>{S[I]=xe}))}),_e.z7.apply(be.A,m).always(()=>{d.resolve(S)}),d}pageIndex(c){return Ee(this,"pageIndex",c)}pageSize(c){return Ee(this,"pageSize",c)}beginCustomLoading(c){this._isCustomLoading=!0,this._loadingText=c||"",this._fireLoadingChanged()}endCustomLoading(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()}refresh(c){!0===c?c={reload:!0,changesOnly:!0}:c||(c={lookup:!0,selection:!0,reload:!0});var a=this,d=a.getDataSource(),{changesOnly:m}=c,S=new _e.cY,I=function(){a._repaintChangesOnly=!!m};return(0,_e.z7)(!c.lookup||a._columnsController.refresh()).always(()=>{c.load||c.reload?(d&&d.on("customizeLoadResult",I),(0,_e.z7)(a.reload(c.reload,m)).always(()=>{d&&d.off("customizeLoadResult",I),a._repaintChangesOnly=void 0}).done(S.resolve).fail(S.reject)):(a.updateItems({repaintChangesOnly:c.changesOnly}),S.resolve())}),S.promise()}getVisibleRows(){return this.items()}_disposeDataSource(){this.setDataSource(null)}dispose(){this._disposeDataSource(),super.dispose()}repaintRows(c,a){((c=Array.isArray(c)?c:[c]).length>1||(0,le.O9)(c[0]))&&this.updateItems({changeType:"update",rowIndices:c,isFullUpdate:!a})}skipProcessingPagingChange(c){return this._skipProcessingPagingChange&&("paging.pageIndex"===c||"paging.pageSize"===c)}getUserState(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}}getCachedStoreData(){return this._dataSource&&this._dataSource.getCachedStoreData()}isLastPageLoaded(){return this.pageIndex()===this.pageCount()-1}load(){var c;return null===(c=this._dataSource)||void 0===c?void 0:c.load()}reload(c,a){var d;return null===(d=this._dataSource)||void 0===d?void 0:d.reload(c,a)}push(){var c;return null===(c=this._dataSource)||void 0===c?void 0:c.push(...arguments)}itemsCount(){var c;return this._dataSource?null===(c=this._dataSource)||void 0===c?void 0:c.itemsCount():0}totalItemsCount(){var c;return this._dataSource?null===(c=this._dataSource)||void 0===c?void 0:c.totalItemsCount():0}hasKnownLastPage(){var c;return!this._dataSource||(null===(c=this._dataSource)||void 0===c?void 0:c.hasKnownLastPage())}isLoaded(){var c;return!this._dataSource||(null===(c=this._dataSource)||void 0===c?void 0:c.isLoaded())}totalCount(){var c;return this._dataSource?null===(c=this._dataSource)||void 0===c?void 0:c.totalCount():0}}}}},1090:(Mt,dt,i)=>{i.d(dt,{A:()=>P});var be=i(8168),k=i(4423),se=i(5042),_e=i(2984),he=i(7951),Ce=i(2101),le=i(2463),ae=i(2097),oe=i(1774),ee=i(4895),q=i(5207);const P=ee.A.Controller.inherit(function(){function Y(a,d){if(a&&(a=a.slice(0),d))for(var m=0;m<a.length;m++)a[m]=(0,he.X)({key:a[m].key},a[m]),a[m].items=Y(a[m].items,d-1);return a}function Ee(a,d,m){var S={reload:!0,fullReload:!0};return d&&((S={sorting:!q.A.equalSortParameters(a.sort,d.sort),grouping:!q.A.equalSortParameters(a.group,d.group,!0),groupExpanding:!q.A.equalSortParameters(a.group,d.group)||d.groupExpand,filtering:!q.A.equalFilterParameters(a.filter,d.filter),pageIndex:a.pageIndex!==d.pageIndex,skip:a.skip!==d.skip,take:a.take!==d.take,pageSize:a.pageSize!==d.pageSize,fullReload:m,reload:!1,paging:!1}).reload=m||S.sorting||S.grouping||S.filtering,S.paging=S.pageIndex||S.pageSize||S.take),S}function re(a,d){var m=q.A.normalizeSortingInfo(a.group||a.storeLoadOptions.group||a.loadOptions.group).length,S=[];if(j(S,a,m))return S;d&&function(I,N,xe){var Pe,Ie,B=I.length,{storeLoadOptions:n}=N;if(void 0!==n.skip&&n.take&&!xe){var g=[];j(g,N,xe,!0);var o=g.length;(B||o)&&(N.skip=null!==(Pe=N.skip)&&void 0!==Pe?Pe:n.skip,N.take=null!==(Ie=N.take)&&void 0!==Ie?Ie:n.take),B&&(n.skip+=B,n.take-=B,N.cachedDataPartBegin=I),o&&(n.take-=o,N.cachedDataPartEnd=g.reverse())}}(S,a,m)}function j(a,d,m,S){var I,N,xe,Pe,Ie,{storeLoadOptions:B}=d,n=null!==(N=null!==(I=d.take)&&void 0!==I?I:B.take)&&void 0!==N?N:0,g=null===(xe=d.cachedData)||void 0===xe?void 0:xe.items;if(n&&g){for(var o=null!==(Ie=null!==(Pe=d.skip)&&void 0!==Pe?Pe:B.skip)&&void 0!==Ie?Ie:0,l=0;l<n;l++){var _=S?n-1-l:l,h=_+o,C=g[h];if(void 0===C&&h in g)return!0;var F=ue(d,C,m,_,n);if(!F)return!1;a.push(F)}return!0}return!1}function ue(a,d,m,S,I){return m&&d?function Pe(Ie,B,n,g){if(B&&Ie){var o=(0,be.A)({},Ie),l=n[0]||0,_=g[0],{items:h}=Ie;if(h){if(void 0===_&&!h[l])return;o.items=[],n.length&&(o.isContinuation=!0),_&&(o.isContinuationOnNextPage=Ie.count>_);for(var C=0;void 0===_?h[C+l]:C<_;C++){var te=C+1===_,X=Pe(h[C+l],B-1,0===C?n.slice(1):[],te?g.slice(1):[]);if(void 0===X)return;o.items.push(X)}}return o}return Ie}(d,m,0===S&&a.skips||[],S===I-1&&a.takes||[]):d}function b(a,d,m,S){if(m&&d){var I=(0,be.A)({},d);delete I.isContinuation,delete I.isContinuationOnNextPage;var N=S[0]||0;return d.items&&(I.items=a?.items||{},d.items.forEach((xe,Pe)=>{var Ie=Pe+N,B=0===Pe?S.slice(1):[];I.items[Ie]=b(I.items[Ie],xe,m-1,B)})),I}return d}var c={init(a,d){var m=this;m._dataSource=a,m._remoteOperations=d||{},m._isLastPage=!a.isLastPage(),m._hasLastPage=!1,m._currentTotalCount=0,m._cachedData={items:{}},m._lastOperationTypes={},m._eventsStrategy=a._eventsStrategy,m._totalCountCorrection=0,m._isLoadingAll=!1,m.changed=(0,k.A)(),m.loadingChanged=(0,k.A)(),m.loadError=(0,k.A)(),m.customizeStoreLoadOptions=(0,k.A)(),m.changing=(0,k.A)(),m.pushed=(0,k.A)(),m._dataChangedHandler=m._handleDataChanged.bind(m),m._customizeStoreLoadOptionsHandler=m._handleCustomizeStoreLoadOptions.bind(m),m._dataLoadedHandler=m._handleDataLoaded.bind(m),m._loadingChangedHandler=m._handleLoadingChanged.bind(m),m._loadErrorHandler=m._handleLoadError.bind(m),m._pushHandler=m._handlePush.bind(m),m._changingHandler=m._handleChanging.bind(m),a.on("changed",m._dataChangedHandler),a.on("customizeStoreLoadOptions",m._customizeStoreLoadOptionsHandler),a.on("customizeLoadResult",m._dataLoadedHandler),a.on("loadingChanged",m._loadingChangedHandler),a.on("loadError",m._loadErrorHandler),a.on("changing",m._changingHandler),a.store().on("beforePush",m._pushHandler),(0,Ce.__)(a,(S,I)=>{!m[S]&&(0,le.Tn)(I)&&(m[S]=function(){return this._dataSource[S].apply(this._dataSource,arguments)})})},remoteOperations(){return this._remoteOperations},dispose(a){var d=this._dataSource,m=d.store();d.off("changed",this._dataChangedHandler),d.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler),d.off("customizeLoadResult",this._dataLoadedHandler),d.off("loadingChanged",this._loadingChangedHandler),d.off("loadError",this._loadErrorHandler),d.off("changing",this._changingHandler),m&&m.off("beforePush",this._pushHandler),a||d.dispose()},refresh(a,d){var m=this._dataSource;d.reload&&(this.resetCurrentTotalCount(),this._isLastPage=!m.paginate(),this._hasLastPage=this._isLastPage)},resetCurrentTotalCount(){this._currentTotalCount=0,this._totalCountCorrection=0},resetCache(){this._cachedStoreData=void 0,this._cachedPagingData=void 0},resetPagesCache(){this._cachedData={items:{}}},_needClearStoreDataCache(){var a=this.remoteOperations(),d=Ee(this._lastLoadOptions||{},{});return!Object.keys(a).every(S=>!d[S]||!a[S])},push(a,d){var m=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&(0,oe.VK)({keyInfo:m,data:this._cachedStoreData,changes:a}),d||this._applyBatch(a),this.pushed.fire(a)},getDataIndexGetter(){if(!this._dataIndexGetter){var a,d,m=this.store();this._dataIndexGetter=S=>{if(!a||d&&d!==this._cachedStoreData){d=this._cachedStoreData||[],a={};for(var N=0;N<d.length;N++)a[(0,se.GP)(m.keyOf(d[N]))]=N}return a[(0,se.GP)(m.keyOf(S))]}}return this._dataIndexGetter},_getKeyInfo(){return this.store()},_needToCopyDataObject:()=>!0,_applyBatch(a,d){var m=this._getKeyInfo(),S=this._dataSource,I=q.A.normalizeSortingInfo(this.group()).length,N="reshape"===this.option("editing.refreshMode"),xe="virtual"===this.option("scrolling.mode");a=a.filter(n=>!S.paginate()||"insert"!==n.type||void 0!==n.index);var Pe=()=>I?this.itemsCount():this.items().length,Ie=Pe();(0,oe.VK)({keyInfo:m,data:this._items,changes:a,groupCount:I,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),(0,oe.VK)({keyInfo:m,data:S.items(),changes:a,groupCount:I,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),(this._currentTotalCount>0||(d||!N)&&xe)&&(this._totalCountCorrection+=Pe()-Ie),a.splice(0,a.length)},_handlePush(a){var{changes:d}=a;this.push(d,!0)},_handleChanging(a){this.changing.fire(a),this._applyBatch(a.changes,!0)},_needCleanCacheByOperation(a,d){var m=["filtering","sorting","paging"],S=m.indexOf(a);return(S>=0?m.slice(S):[a]).some(N=>d[N])},_customizeRemoteOperations(a,d){var m=this._cachedStoreData,S=this._cachedPagingData,I=this._cachedData;(a.storeLoadOptions.filter&&!a.remoteOperations.filtering||a.storeLoadOptions.sort&&!a.remoteOperations.sorting)&&(a.remoteOperations={filtering:a.remoteOperations.filtering,summary:a.remoteOperations.summary}),d.fullReload?(m=void 0,S=void 0,I={items:{}}):(d.reload?(S=void 0,I={items:{}}):d.groupExpanding&&(I={items:{}}),(0,Ce.__)(d,(N,xe)=>{xe&&this._needCleanCacheByOperation(N,a.remoteOperations)&&(m=void 0,S=void 0)})),S&&(a.remoteOperations.paging=!1),a.cachedStoreData=m,a.cachedPagingData=S,a.cachedData=I,a.isCustomLoading||(this._cachedStoreData=m,this._cachedPagingData=S,this._cachedData=I)},_handleCustomizeStoreLoadOptions(a){var d;this._handleDataLoading(a),0!==(null===(d=a.data)||void 0===d?void 0:d.length)&&(a.data=re(a,!0)||a.cachedStoreData)},_handleDataLoading(a){var d=this._dataSource,m=this._lastLoadOptions;this.customizeStoreLoadOptions.fire(a),a.delay=this.option("loadingTimeout"),a.originalStoreLoadOptions=a.storeLoadOptions,a.remoteOperations=(0,he.X)({},this.remoteOperations());var S=!this.isLoaded()&&!this._isRefreshing;this.option("integrationOptions.renderedOnServer")&&!this.isLoaded()&&(a.delay=void 0);var I=(0,he.X)({pageIndex:this.pageIndex(),pageSize:this.pageSize()},a.storeLoadOptions),N=Ee(I,m,S);if(this._customizeRemoteOperations(a,N),!a.isCustomLoading){var xe=this._isRefreshing;a.pageIndex=d.pageIndex(),a.lastLoadOptions=I,a.operationTypes=N,this._loadingOperationTypes=N,this._isRefreshing=!0,(0,_e.z7)(xe||this._isRefreshed||this.refresh(a,N)).done(()=>{this._lastOperationId===a.operationId&&(this._isRefreshed=!0,this.load().always(()=>{this._isRefreshed=!1}))}).fail(()=>{d.cancel(a.operationId)}).always(()=>{this._isRefreshing=!1}),d.cancel(this._lastOperationId),this._lastOperationId=a.operationId,this._isRefreshing&&d.cancel(this._lastOperationId)}this._handleDataLoadingCore(a)},_handleDataLoadingCore(a){var{remoteOperations:d}=a;a.loadOptions={};var m=a.cachedData.extra,S={filter:!d.filtering,sort:!d.sorting,group:!d.grouping,summary:!d.summary,skip:!d.paging,take:!d.paging,requireTotalCount:m&&"totalCount"in m||!d.paging,langParams:!d.filtering||!d.sorting};(0,Ce.__)(a.storeLoadOptions,(I,N)=>{S[I]&&(a.loadOptions[I]=N,delete a.storeLoadOptions[I])}),m&&(a.extra=m)},_handleDataLoaded(a){var d,m,{loadOptions:S}=a,I=a.remoteOperations&&!a.remoteOperations.paging,{cachedData:N}=a,{storeLoadOptions:xe}=a,Pe=!1!==this.option("cacheEnabled")&&xe,Ie=Pe&&!a.isCustomLoading&&N&&(!I||xe.group),B=Pe&&I,n=B&&!a.isCustomLoading;if(S){I&&(a.skip=S.skip,a.take=S.take,delete S.skip,delete S.take),S.group&&(S.group=a.group||S.group);var g=q.A.normalizeSortingInfo(a.group||xe.group||S.group).length;a.cachedDataPartBegin&&(a.data=a.cachedDataPartBegin.concat(a.data)),a.cachedDataPartEnd&&(a.data=a.data.concat(a.cachedDataPartEnd)),(!Ie||!re(a))&&(B&&a.cachedPagingData?a.data=Y(a.cachedPagingData,g):(n&&(this._cachedStoreData?a.mergeStoreLoadData&&(a.data=this._cachedStoreData=this._cachedStoreData.concat(a.data)):this._cachedStoreData=Y(a.data,q.A.normalizeSortingInfo(xe.group).length)),new ae.A(a.data).load(S).done(o=>{a.data=o,n&&(this._cachedPagingData=Y(a.data,g))}).fail(o=>{a.data=(new _e.cY).reject(o)})),S.requireTotalCount&&I&&(a.extra=(0,le.Qd)(a.extra)?a.extra:{},a.extra.totalCount=a.data.length),a.extra&&a.extra.totalCount>=0&&(!1===xe.requireTotalCount||!1===S.requireTotalCount)&&(a.extra.totalCount=-1),!S.data&&(xe.requireTotalCount||(null!==(m=null===(d=a.extra)||void 0===d?void 0:d.totalCount)&&void 0!==m?m:-1)>=0)&&(this._totalCountCorrection=0),this._handleDataLoadedCore(a),Ie&&(N.extra=N.extra||(0,he.X)({},a.extra),(0,_e.z7)(a.data).done(o=>{!function(l,_,h){for(var C,F,te,X,{storeLoadOptions:ge}=l,He=null!==(F=null!==(C=l.skip)&&void 0!==C?C:ge.skip)&&void 0!==F?F:0,Z=null!==(X=null!==(te=l.take)&&void 0!==te?te:ge.take)&&void 0!==X?X:0,D=0;D<Z;D++){var U=D+He,p=l.cachedData.items;p[U]=b(p[U],_[D],h,0===D&&l.skips||[])}}(a,o,g)}))),(0,_e.z7)(a.data).done(()=>{a.lastLoadOptions&&(this._lastLoadOptions=a.lastLoadOptions,Object.keys(a.operationTypes).forEach(o=>{this._lastOperationTypes[o]=this._lastOperationTypes[o]||a.operationTypes[o]}))}),a.storeLoadOptions=a.originalStoreLoadOptions}else this._dataSource.cancel(a.operationId)},_handleDataLoadedCore(a){a.remoteOperations&&!a.remoteOperations.paging&&Array.isArray(a.data)&&(void 0!==a.skip&&(a.data=a.data.slice(a.skip)),void 0!==a.take&&(a.data=a.data.slice(0,a.take)))},_handleLoadingChanged(a){this.loadingChanged.fire(a)},_handleLoadError(a){this.loadError.fire(a),this.changed.fire({changeType:"loadError",error:a})},_loadPageSize(){return this.pageSize()},_handleDataChanged(a){var d,m=this._dataSource,S=!1,I=!a||(0,le.O9)(a.changeType),N=this.itemsCount();I&&(this._isLastPage=!N||!this._loadPageSize()||N<this._loadPageSize(),this._isLastPage&&(this._hasLastPage=!0)),m.totalCount()>=0?m.pageIndex()>=this.pageCount()&&(m.pageIndex(this.pageCount()-1),this.pageIndex(m.pageIndex()),this.resetPagesCache(),m.load(),S=!0):I&&((d=m.pageIndex()*this.pageSize()+N)>this._currentTotalCount&&(this._currentTotalCount=d,(0===m.pageIndex()||!this.option("scrolling.legacyMode"))&&(this._totalCountCorrection=0)),0===N&&m.pageIndex()>=this.pageCount()&&(m.pageIndex(this.pageCount()-1),"infinite"!==this.option("scrolling.mode")&&(m.load(),S=!0))),S||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(a),this.component._optionCache=void 0)},_scheduleCustomLoadCallbacks(a){var d=this;d._isCustomLoading=!0,a.always(()=>{d._isCustomLoading=!1})},loadingOperationTypes(){return this._loadingOperationTypes},operationTypes(){return this._operationTypes},lastLoadOptions(){return this._lastLoadOptions||{}},isLastPage(){return this._isLastPage},_dataSourceTotalCount(){return this._dataSource.totalCount()},totalCount(){return parseInt((this._currentTotalCount||this._dataSourceTotalCount())+this._totalCountCorrection)},totalCountCorrection(){return this._totalCountCorrection},itemsCount(){return this._dataSource.items().length},totalItemsCount(){return this.totalCount()},pageSize(){var a=this._dataSource;return arguments.length||a.paginate()?a.pageSize.apply(a,arguments):0},pageCount(){var a=this.totalItemsCount()-this._totalCountCorrection,d=this.pageSize();return d&&a>0?Math.max(1,Math.ceil(a/d)):1},hasKnownLastPage(){return this._hasLastPage||this._dataSource.totalCount()>=0},loadFromStore(a,d){var m=this._dataSource,S=new _e.cY;if(m)return(d=d||m.store()).load(a).done((I,N)=>{I&&!Array.isArray(I)&&Array.isArray(I.data)&&(N=I,I=I.data),S.resolve(I,N)}).fail(S.reject),S},isCustomLoading(){return!!this._isCustomLoading},load(a){var Pe,Ie,d=this,m=d._dataSource,S=new _e.cY;if(a){var I=m.store(),N=m.loadOptions(),xe={storeLoadOptions:(0,he.X)({},a,{langParams:N?.langParams}),isCustomLoading:!0};return(0,Ce.__)(I._customLoadOptions()||[],(Pe,Ie)=>{Ie in xe.storeLoadOptions||(xe.storeLoadOptions[Ie]=N[Ie])}),this._isLoadingAll=a.isLoadingAll,d._scheduleCustomLoadCallbacks(S),m._scheduleLoadCallbacks(S),d._handleCustomizeStoreLoadOptions(xe),Pe=()=>{if(!m.store())return S.reject("canceled");(0,_e.z7)(xe.data||d.loadFromStore(xe.storeLoadOptions)).done((Pe,Ie)=>{xe.data=Pe,xe.extra=Ie||{},d._handleDataLoaded(xe),a.requireTotalCount&&void 0===xe.extra.totalCount&&(xe.extra.totalCount=I.totalCount(xe.storeLoadOptions)),(0,_e.z7)(xe.data,xe.extra.totalCount).done((B,n)=>{xe.extra.totalCount=n,S.resolve(B,xe.extra)}).fail(S.reject)}).fail(S.reject)},Ie=d.option("loadingTimeout"),(0,le.O9)(Ie)?(0,se.uG)(Pe,Ie):Pe(),S.fail(function(){d._eventsStrategy.fireEvent("loadError",arguments)}).always(()=>{this._isLoadingAll=!1}).promise()}return m.load()},reload(a){return a?this._dataSource.reload():this._dataSource.load()},getCachedStoreData(){return this._cachedStoreData}};return c}())},3586:(Mt,dt,i)=>{i.d(dt,{A2:()=>p,AV:()=>a,BL:()=>Ce,BX:()=>He,CA:()=>Ie,CN:()=>Ee,D9:()=>q,G3:()=>le,HG:()=>T,Lb:()=>w,MN:()=>o,Mc:()=>te,Mw:()=>I,NT:()=>$,OM:()=>F,OQ:()=>r,Os:()=>S,Q6:()=>l,QN:()=>y,Qz:()=>ee,VQ:()=>t,X9:()=>h,Xe:()=>d,Xh:()=>C,Z8:()=>v,Zm:()=>V,aT:()=>pe,al:()=>R,bO:()=>X,cK:()=>we,cy:()=>ue,do:()=>ae,dx:()=>D,eN:()=>b,gJ:()=>_,gM:()=>ye,gU:()=>he,gn:()=>re,iK:()=>U,iq:()=>f,jP:()=>Z,kd:()=>oe,lR:()=>K,nN:()=>N,oJ:()=>J,oX:()=>c,pO:()=>xe,pR:()=>m,qB:()=>de,qR:()=>Pe,r8:()=>Te,sN:()=>se,se:()=>Y,su:()=>k,tp:()=>P,uz:()=>_e,vo:()=>u,vw:()=>Ne,wi:()=>B,yP:()=>g,yQ:()=>n,yu:()=>ge,yx:()=>j});var be=i(9057),k="dx-editor-cell",se="dx-row",_e="dx-cell-modified",he="dx-selection",Ce="edit-form",le="insert",ae="remove",oe="editing.popup",ee="editing.form",q="editing.editRowKey",P="editing.editColumnName",Y="targetComponent",Ee="input:not([type='hidden'])",re="[tabindex]:not([disabled]), ".concat(Ee,":not([disabled])"),j="batch",ue="row",b="cell",c="form",a="popup",d="first",m="last",S="pageBottom",I="pageTop",N="viewportBottom",xe="viewportTop",Pe=[j,ue,b,c,a],Ie=[ue,c,a],B=[j,b],n=[j,ue,b],g=[ue,c],o="readonly",l="dx-link",_="dx-link-icon",h="dx-selection",C="dx-edit-button",F="dx-command-edit",te="".concat(F,"-with-icons"),X="__DX_INSERT_INDEX__",ge="dx-row-inserted",He="dx-row-modified",Z="dx-cell-modified",D="dxDataGridEditing",U="dx-cell-focus-disabled",p="update",w="click",V={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},J={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},$={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},ye={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},de=["edit","save","cancel","delete","undelete"],Te="editing.changes",Ne="focus-overlay",T="addrow-button",r="dx-dropdowneditor-overlay",v="dx-data-row",f="dx-row-removed",t="edit-form-item",u="edit-popup",y="edit-popup-form",K=be.A.IS_RENOVATED_WIDGET?"dx-scrollable":"dx-scrollable-container",pe="dx-button",we="form-buttons-container",R="dx-edit-row"},5713:(Mt,dt,i)=>{i.d(dt,{l:()=>Ie});var be=i(8168),k=i(3862),se=i(7669),_e=i(3992),he=i(4292),Ce=i(5042),le=i(2984),ae=i(7963),oe=i(7951),ee=i(6018),q=i(2101),P=i(5652),Y=i(2463),Ee=i(1774),re=i(8060),j=i(1269),ue=i(4159),b=i(675),c=i(9104),a=i(736),d=i(4122),m=i(1299),S=i(4895),I=i(5207),N=i(3586),xe=i(1531),Ie={defaultOptions:()=>({editing:{mode:"row",refreshMode:"full",newRowPosition:N.pO,allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:a.A.format("dxDataGrid-editingEditRow"),saveAllChanges:a.A.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:a.A.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:a.A.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:a.A.format("dxDataGrid-editingCancelRowChanges"),addRow:a.A.format("dxDataGrid-editingAddRow"),deleteRow:a.A.format("dxDataGrid-editingDeleteRow"),undeleteRow:a.A.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:a.A.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]},useLegacyColumnButtonTemplate:!1}),controllers:{editing:class Pe extends S.A.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._rowsView=this.getView("rowsView"),this._lastOperation=null,this._changes=[],this._deferreds&&this._deferreds.forEach(n=>{n.reject("cancel")}),this._deferreds=[],this._dataChangedHandler||(this._dataChangedHandler=this._handleDataChanged.bind(this),this._dataController.changed.add(this._dataChangedHandler)),this._saveEditorHandler||(this.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]})),this._updateEditColumn(),this._updateEditButtons(),this._internalState||(this._internalState=[]),this.component._optionsByReference[N.D9]=!0,this.component._optionsByReference[N.r8]=!0}getEditMode(){var n,g=null!==(n=this.option("editing.mode"))&&void 0!==n?n:N.cy;return N.qR.includes(g)?g:N.cy}isCellBasedEditMode(){var n=this.getEditMode();return N.wi.includes(n)}_getDefaultEditorTemplate(){return(n,g)=>{var o=(0,he.A)("<div>").appendTo(n),l=(0,oe.X)({},g.column,{value:g.value,setValue:g.setValue,row:g.row,parentType:"dataRow",width:null,readOnly:!g.setValue,isOnForm:g.isOnForm,id:g.id});N.yQ.includes(this.getEditMode())&&(l["aria-labelledby"]=g.column.headerId),this.getController("editorFactory").createEditor(o,l)}}_getNewRowPosition(){var n=this.option("editing.newRowPosition");if("virtual"===this.option("scrolling.mode"))switch(n){case N.Mw:return N.pO;case N.Os:return N.nN;default:return n}return n}getChanges(){return this.option(N.r8)}getInsertRowCount(){return this.option(N.r8).filter(g=>"insert"===g.type).length}resetChanges(){var n=this.getChanges(),g=n?.length;g&&this._silentOption(N.r8,[])}_getInternalData(n){return this._internalState.filter(g=>(0,Ce.RL)(g.key,n))[0]}_addInternalData(n){var g=this._getInternalData(n.key);return g?(0,oe.X)(g,n):(this._internalState.push(n),n)}_getOldData(n){var g;return null===(g=this._getInternalData(n))||void 0===g?void 0:g.oldData}getUpdatedData(n){var g=this._dataController.keyOf(n),o=this.getChanges(),l=I.A.getIndexByKey(g,o);return o[l]?(0,Ee.lj)(n,o[l].data):n}getInsertedData(){return this.getChanges().filter(n=>n.data&&n.type===N.G3).map(n=>n.data)}getRemovedData(){return this.getChanges().filter(n=>this._getOldData(n.key)&&n.type===N.do).map(n=>this._getOldData(n.key))}_fireDataErrorOccurred(n){if("cancel"!==n){var g=this.getPopupContent();this._dataController.dataErrorOccurred.fire(n,g)}}_needToCloseEditableCell(n){}_closeEditItem(n){}_handleDataChanged(n){}_isDefaultButtonVisible(n,g){var o=!0;switch(n.name){case"delete":o=this.allowDeleting(g);break;case"undelete":o=!1}return o}_isButtonVisible(n,g){var{visible:o}=n;return(0,Y.O9)(o)?(0,Y.Tn)(o)?o.call(n,{component:g.component,row:g.row,column:g.column}):o:this._isDefaultButtonVisible(n,g)}_isButtonDisabled(n,g){var{disabled:o}=n;return(0,Y.Tn)(o)?o.call(n,{component:g.component,row:g.row,column:g.column}):!!o}_getButtonConfig(n,g){var o=(0,Y.Gv)(n)?n:{},l=(0,xe.i_)(n),_=(0,xe.N5)(g),h=N.NT[l],C=this.option("editing"),F=N.gM[l],te=!F||C[F];return(0,oe.X)({name:l,text:_[l],cssClass:N.Zm[l]},{onClick:h&&(X=>{var{event:ge}=X;ge.stopPropagation(),ge.preventDefault(),setTimeout(()=>{g.row&&te&&this[h]&&this[h](g.row.rowIndex)})})},o)}_getEditingButtons(n){var g,o=!!n.column.buttons,l=(n.column.buttons||[]).slice();return o?((g=(0,xe.nh)(l,"edit"))>=0&&((0,xe.nh)(l,"save")<0&&l.splice(g+1,0,"save"),(0,xe.nh)(l,"cancel")<0&&l.splice((0,xe.nh)(l,"save")+1,0,"cancel")),(g=(0,xe.nh)(l,"delete"))>=0&&(0,xe.nh)(l,"undelete")<0&&l.splice(g+1,0,"undelete")):l=N.qB.slice(),l.map(_=>this._getButtonConfig(_,n))}_renderEditingButtons(n,g,o,l){g.forEach(_=>{this._isButtonVisible(_,o)&&this._createButton(n,_,o,l)})}_getEditCommandCellTemplate(){return(n,g,o)=>{var l=(0,he.A)(n);if("data"===g.rowType){var _=this._getEditingButtons(g);if(this._renderEditingButtons(l,_,g,o),g.watch){var h=g.watch(()=>_.map(C=>({visible:this._isButtonVisible(C,g),disabled:this._isButtonDisabled(C,g)})),()=>{l.empty(),this._renderEditingButtons(l,_,g)});j.A.on(l,b.N,h)}}else I.A.setEmptyText(l)}}isRowBasedEditMode(){var n=this.getEditMode();return N.CA.includes(n)}getFirstEditableColumnIndex(){var g,o=this.getController("columns").getVisibleColumns();return(0,q.__)(o,(l,_)=>{if(_.allowEditing)return g=l,!1}),g}getFirstEditableCellInRow(n){var g=this.getView("rowsView"),o=this.getFirstEditableColumnIndex();return g?._getCellElement(n||0,o)}getFocusedCellInRow(n){return this.getFirstEditableCellInRow(n)}getIndexByKey(n,g){return I.A.getIndexByKey(n,g)}hasChanges(n){for(var g=this.getChanges(),o=!1,l=0;l<g?.length;l++)if(g[l].type&&(!(0,Y.O9)(n)||this._dataController.getRowIndexByKey(g[l].key)===n)){o=!0;break}return o}dispose(){super.dispose(),clearTimeout(this._inputFocusTimeoutID),j.A.off(se.A.getDocument(),ue.A.up,this._pointerUpEditorHandler),j.A.off(se.A.getDocument(),ue.A.down,this._pointerDownEditorHandler),j.A.off(se.A.getDocument(),re.U,this._saveEditorHandler)}_silentOption(n,g){"editing.changes"===n&&(this._changes=(0,P.tm)([],g)),super._silentOption(n,g)}optionChanged(n){if("editing"===n.name){var{fullName:g}=n;g===N.D9?this._handleEditRowKeyChange(n):g===N.r8?(0,Ce.RL)(n.value,this._changes,{maxDepth:4})||(this._changes=(0,P.tm)([],n.value),this._handleChangesChange(n)):n.handled||(this._columnsController.reinit(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey()),n.handled=!0}else super.optionChanged(n)}_handleEditRowKeyChange(n){var g=this._dataController.getRowIndexByKey(n.value),o=this._getEditRowIndexCorrection(),l=this._dataController.getRowIndexByKey(n.previousValue)+o;(0,Y.O9)(n.value)?n.value!==n.previousValue&&this._editRowFromOptionChanged(g,l):this.cancelEditData()}_handleChangesChange(n){var g=this._dataController;!n.value.length&&!n.previousValue.length||(n.value.forEach(l=>{var _;if("insert"===l.type)this._addInsertInfo(l);else{var h=g.getCachedStoreData()||(null===(_=g.items())||void 0===_?void 0:_.map(F=>F.data)),C=I.A.getIndexByKey(l.key,h,g.key());this._addInternalData({key:l.key,oldData:h[C]})}}),g.updateItems({repaintChangesOnly:!0,isLiveUpdate:!1,isOptionChanged:!0}))}publicMethods(){return["addRow","deleteRow","undeleteRow","editRow","saveEditData","cancelEditData","hasEditData"]}refresh(){(0,Y.O9)(this._pageIndex)&&this._refreshCore.apply(this,arguments)}_refreshCore(n){}isEditing(){return(0,Y.O9)(this.option(N.D9))}isEditRow(n){return!1}_setEditRowKey(n,g){g?this._silentOption(N.D9,n):this.option(N.D9,n),this._refocusEditCell&&(this._refocusEditCell=!1,this._focusEditingCell())}_setEditRowKeyByIndex(n,g){var o=this._dataController.getKeyByRowIndex(n);void 0!==o?this._setEditRowKey(o,g):this._dataController.fireError("E1043")}getEditRowIndex(){return this._getVisibleEditRowIndex()}getEditFormRowIndex(){return-1}isEditRowByIndex(n){var g=this._dataController.getKeyByRowIndex(n);return(0,Y.O9)(g)&&(0,Ce.RL)(this.option(N.D9),g)&&this._getVisibleEditRowIndex()===n}isEditCell(n,g){return this.isEditRowByIndex(n)&&this._getVisibleEditColumnIndex()===g}getPopupContent(){}_isProcessedItem(n){return!1}_getInsertRowIndex(n,g,o){var l=-1,_=this._dataController,h=this._getInsertAfterOrBeforeKey(g);return(0,Y.O9)(h)||0!==n.length?(0,Y.O9)(h)&&n.some((C,F)=>{var te=o||this._isProcessedItem(C);if((0,Y.Gv)(C)&&(te||(0,Y.O9)(C[N.bO])?(0,Ce.RL)(C.key,h)&&(l=F):(0,Ce.RL)(_.keyOf(C),h)&&(l=F)),l>=0){var X=n[l+1];return X&&("detail"===X.rowType||"detailAdaptive"===X.rowType)&&(0,Y.O9)(g.insertAfterKey)?void 0:((0,Y.O9)(g.insertAfterKey)&&(l+=1),!0)}}):l=0,l}_generateNewItem(n){var g,o={key:n},l=null===(g=this._getInternalData(n))||void 0===g?void 0:g.insertInfo;return l?.[N.bO]&&(o[N.bO]=l[N.bO]),o}_getLoadedRowIndex(n,g,o){var l=this._getInsertRowIndex(n,g,o),_=this._dataController;if(l<0){var h=this._getNewRowPosition(),C=_.pageIndex(),F=this._getInsertAfterOrBeforeKey(g);h===N.pR||0!==C||(0,Y.O9)(F)?h===N.pR&&_.isLastPageLoaded()&&(l=n.length):l=0}return l}processItems(n,g){var{changeType:o}=g;return this.update(o),this.getChanges().forEach(_=>{var h;if(_.type===N.G3){var{key:F}=_,te=null===(h=this._getInternalData(F))||void 0===h?void 0:h.insertInfo;(!(0,Y.O9)(F)||!(0,Y.O9)(te))&&(F=(te=this._addInsertInfo(_)).key);var X=this._getLoadedRowIndex(n,_),ge=this._generateNewItem(F);X>=0&&n.splice(X,0,ge)}}),n}processDataItem(n,g,o){var l=g.visibleColumns,_=n.data[N.bO]?n.data.key:n.key,h=this.getChanges(),C=I.A.getIndexByKey(_,h);n.isEditing=!1,C>=0&&this._processDataItemCore(n,h[C],_,l,o)}_processDataItemCore(n,g,o,l,_){var{data:h,type:C}=g;switch(C){case N.G3:n.isNewRow=!0,n.key=o,n.data=h;break;case N.A2:n.modified=!0,n.oldData=n.data,n.data=(0,Ee.lj)(n.data,h),n.modifiedValues=_(h,l,!0);break;case N.do:n.removed=!0}}_initNewRow(n){if(this.executeAction("onInitNewRow",n),n.promise){var g=new le.cY;return(0,le.z7)((0,le.Sx)(n.promise)).done(g.resolve).fail((0,xe.HQ)(g)).fail(o=>this._fireDataErrorOccurred(o)),g}}_createInsertInfo(){var n={};return n[N.bO]=this._getInsertIndex(),n}_addInsertInfo(n,g){var o,l;n.key=this.getChangeKeyValue(n);var{key:_}=n;if(l=null===(o=this._getInternalData(_))||void 0===o?void 0:o.insertInfo,!(0,Y.O9)(l)){var h=this._getInsertAfterOrBeforeKey(n);l=this._createInsertInfo(),(0,Y.O9)(h)||this._setInsertAfterOrBeforeKey(n,g)}return this._addInternalData({insertInfo:l,key:_}),{insertInfo:l,key:_}}getChangeKeyValue(n){if((0,Y.O9)(n.key))return n.key;var o,g=this._dataController.key();return n.data&&g&&!Array.isArray(g)&&(o=n.data[g]),(0,Y.O9)(o)||(o=(0,xe.fV)()),o}_setInsertAfterOrBeforeKey(n,g){var o=this._dataController,l=o.items(!0),_=this.getView("rowsView"),h=this._getNewRowPosition();switch(h){case N.Xe:case N.pR:break;case N.Mw:case N.Os:if(l.length){var C=h===N.Mw?0:l.length-1;n[0===C?"insertBeforeKey":"insertAfterKey"]=l[C].key}break;default:var te=h===N.nN?_?.getBottomVisibleItemIndex():_?.getTopVisibleItemIndex(),X=o.getVisibleRows()[te];X&&(!X.isEditing&&"detail"===X.rowType||"detailAdaptive"===X.rowType)&&te++;var ge=o.getKeyByRowIndex(te);(0,Y.O9)(ge)&&(n.insertBeforeKey=ge)}}_getInsertIndex(){var n=0;return this.getChanges().forEach(g=>{var o,l=null===(o=this._getInternalData(g.key))||void 0===o?void 0:o.insertInfo;(0,Y.O9)(l)&&g.type===N.G3&&l[N.bO]>n&&(n=l[N.bO])}),n+1}_getInsertAfterOrBeforeKey(n){var g;return null!==(g=n.insertAfterKey)&&void 0!==g?g:n.insertBeforeKey}_getPageIndexToInsertRow(){var n=this._getNewRowPosition(),g=this._dataController,o=g.pageIndex(),l=g.pageCount()-1;return n===N.Xe&&0!==o?0:n===N.pR&&o!==l?l:-1}addRow(n){var g=this._dataController;return g.store()?this._addRow(n):(g.fireError("E1052",this.component.NAME),(new le.cY).reject())}_addRow(n){var o=this._dataController.store(),l=o&&o.key(),_={data:{}},h=this._getVisibleEditRowIndex(),C=new le.cY;return this.refresh({allowCancelEditing:!0}),this._allowRowAdding()?(l||(_.data.__KEY__=String(new _e.A)),(0,le.z7)(this._initNewRow(_,n)).done(()=>{this._allowRowAdding()?(0,le.z7)(this._addRowCore(_.data,n,h)).done(C.resolve).fail(C.reject):C.reject("cancel")}).fail(C.reject),C.promise()):((0,le.z7)(this._navigateToNewRow(h)).done(C.resolve).fail(C.reject),C.promise())}_allowRowAdding(n){return!(this._getInsertIndex()>1)}_addRowCore(n,g,o){var l={data:n,type:N.G3},_=this._getVisibleEditRowIndex(),h=this._addInsertInfo(l,g),{key:C}=h;return this._setEditRowKey(C,!0),this._addChange(l),this._navigateToNewRow(o,l,_)}_navigateToNewRow(n,g,o){var l=new le.cY,_=this._dataController,h=this.getController("focus");if(o=o??-1,!(g=g??this.getChanges().filter(ge=>ge.type===N.G3)[0]))return l.reject("cancel").promise();var C=this._getPageIndexToInsertRow(),F=this._getLoadedRowIndex(_.items(),g,!0),te=ge=>{(0,le.z7)(h?.navigateToRow(ge)).done(()=>{F=_.getRowIndexByKey(g.key),l.resolve()})},X=this._getInsertAfterOrBeforeKey(g);return C>=0?_.pageIndex(C).done(()=>{te(g.key)}).fail(l.reject):F<0&&(0,Y.O9)(X)?te(X):(_.updateItems({changeType:"update",rowIndices:[n,o,F]}),(F=_.getRowIndexByKey(g.key))<0?te(g.key):l.resolve()),l.done(()=>{var ge;null===(ge=this._rowsView)||void 0===ge||ge.waitAsyncTemplates(!0).done(()=>{this._showAddedRow(F),this._afterInsertRow(g.key)})}),l.promise()}_showAddedRow(n){this._focusFirstEditableCellInRow(n)}_beforeFocusElementInRow(n){}_focusFirstEditableCellInRow(n){var g=this._dataController,o=this.getController("keyboardNavigation"),l=g.getKeyByRowIndex(n),_=this.getFirstEditableCellInRow(n);o?.focus(_),this.option("focusedRowKey",l),this._editCellInProgress=!0,this._delayedInputFocus(_,()=>{n=g.getRowIndexByKey(l),this._editCellInProgress=!1,this._beforeFocusElementInRow(n)})}_isEditingStart(n){return this.executeAction("onEditingStart",n),n.cancel}_beforeUpdateItems(){}_getVisibleEditColumnIndex(){var n=this.option(N.tp);return(0,Y.O9)(n)?this._columnsController.getVisibleColumnIndex(n):-1}_setEditColumnNameByIndex(n,g){var o,l=this._columnsController.getVisibleColumns();this._setEditColumnName(null===(o=l[n])||void 0===o?void 0:o.name,g)}_setEditColumnName(n,g){g?this._silentOption(N.tp,n):this.option(N.tp,n)}_resetEditColumnName(){this._setEditColumnName(null,!0)}_getEditColumn(){var n=this.option(N.tp);return this._getColumnByName(n)}_getColumnByName(n){var o,g=this._columnsController.getVisibleColumns();return(0,Y.O9)(n)&&g.some(l=>{if(l.name===n)return o=l,!0}),o}_getVisibleEditRowIndex(n){var g=this._dataController,o=this.option(N.D9),l=g.getRowIndexByKey(o);return-1===l?l:l+this._getEditRowIndexCorrection(n)}_getEditRowIndexCorrection(n){var g=n?this._getColumnByName(n):this._getEditColumn();return"adaptiveHidden"===g?.visibleWidth?1:0}_resetEditRowKey(){this._refocusEditCell=!1,this._setEditRowKey(null,!0)}_resetEditIndices(){this._resetEditColumnName(),this._resetEditRowKey()}editRow(n){var g,o=this._dataController,_=o.items()[n],h={data:_&&_.data,cancel:!1},C=this._getVisibleEditRowIndex();if(_){if(n===C)return!0;if(void 0===_.key)return void this._dataController.fireError("E1043");_.isNewRow||(h.key=_.key),!this._isEditingStart(h)&&(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=o.pageIndex(),this._addInternalData({key:_.key,oldData:null!==(g=_.oldData)&&void 0!==g?g:_.data}),this._setEditRowKey(_.key))}}_editRowFromOptionChanged(n,g){var o=[g,n];this._beforeUpdateItems(o,n,g),this._editRowFromOptionChangedCore(o,n)}_editRowFromOptionChangedCore(n,g,o){this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:n,cancel:o})}_focusEditorIfNeed(){}_showEditPopup(n,g){}_repaintEditPopup(){}_getEditPopupHiddenHandler(){return n=>{this.isEditing()&&this.cancelEditData()}}_getPopupEditFormTemplate(n){}_getSaveButtonConfig(){var n={text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)};return(0,m.Ft)((0,m.ss)())&&(n.stylingMode="contained",n.type="default"),n}_getCancelButtonConfig(){var n={text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)};return(0,m.Ft)((0,m.ss)())&&(n.stylingMode="outlined"),n}_removeInternalData(n){var g=this._getInternalData(n),o=this._internalState.indexOf(g);o>-1&&this._internalState.splice(o,1)}_updateInsertAfterOrBeforeKeys(n,g){var o=n[g];n.forEach(l=>{var _=this._getInsertAfterOrBeforeKey(l);(0,Ce.RL)(_,o.key)&&(l[(0,Y.O9)(l.insertAfterKey)?"insertAfterKey":"insertBeforeKey"]=this._getInsertAfterOrBeforeKey(o))})}_removeChange(n){if(n>=0){var g=[...this.getChanges()],{key:o}=g[n];this._removeInternalData(o),this._updateInsertAfterOrBeforeKeys(g,n),g.splice(n,1),this._silentOption(N.r8,g),(0,Ce.RL)(this.option(N.D9),o)&&this._resetEditIndices()}}executeOperation(n,g){this._lastOperation&&this._lastOperation.reject(),this._lastOperation=n,this.waitForDeferredOperations().done(()=>{"rejected"!==n.state()&&(g(),this._lastOperation=null)}).fail(()=>{n.reject(),this._lastOperation=null})}waitForDeferredOperations(){return(0,le.z7)(...this._deferreds)}_processCanceledEditingCell(){}_repaintEditCell(n,g,o){this._needFocusEditor=!0,!n||!n.showEditorAlways||g&&!g.showEditorAlways?(this._editCellInProgress=!0,this.getController("editorFactory").loseFocus(),this._dataController.updateItems({changeType:"update",rowIndices:[o,this._getVisibleEditRowIndex()]})):n!==g&&this._dataController.updateItems({changeType:"update",rowIndices:[]})}_delayedInputFocus(n,g,o){var l=()=>{if(g&&g(),n){var _=n.find(N.gn).first();I.A.focusAndSelectElement(this,_)}this._beforeFocusCallback=null};k.A.real().ios||k.A.real().android?l():(this._beforeFocusCallback&&this._beforeFocusCallback(),clearTimeout(this._inputFocusTimeoutID),o&&(this._beforeFocusCallback=g),this._inputFocusTimeoutID=setTimeout(l))}_focusEditingCell(n,g,o){var l=this.getView("rowsView"),_=this._getVisibleEditColumnIndex();(g=g||l&&l._getCellElement(this._getVisibleEditRowIndex(),_))&&this._delayedInputFocus(g,n,o)}deleteRow(n){this._checkAndDeleteRow(n)}_checkAndDeleteRow(n){var g=this.option("editing"),o=g?.texts,l=g?.confirmDelete,_=o?.confirmDeleteMessage,h=this._dataController.items()[n],C=!this.isEditing()||h.isNewRow;if(h&&C)if(l&&_){var F=o&&o.confirmDeleteTitle,te=(0,Y.O9)(F)&&F.length>0;(0,d.lJ)(_,F,te).done(X=>{X&&this._deleteRowCore(n)})}else this._deleteRowCore(n)}_deleteRowCore(n){var o=this._dataController.items()[n],l=o&&o.key,_=this._getVisibleEditRowIndex();this.refresh();var h=this.getChanges(),C=I.A.getIndexByKey(l,h);return C>=0?h[C].type===N.G3?this._removeChange(C):this._addChange({key:l,type:N.do}):this._addChange({key:l,oldData:o.data,type:N.do}),this._afterDeleteRow(n,_)}_afterDeleteRow(n,g){return this.saveEditData()}undeleteRow(n){var g=this._dataController,o=g.items()[n],l=this._getVisibleEditRowIndex(),_=o&&o.key,h=this.getChanges();if(o){var C=I.A.getIndexByKey(_,h);if(C>=0){var{data:F}=h[C];(0,Y.RI)(F)?this._removeChange(C):this._addChange({key:_,type:N.A2}),g.updateItems({changeType:"update",rowIndices:[l,n]})}}}_fireOnSaving(){var n={cancel:!1,promise:null,changes:[...this.getChanges()]};this.executeAction("onSaving",n);var g=new le.cY;return(0,le.z7)((0,le.Sx)(n.promise)).done(()=>{g.resolve(n)}).fail(o=>{(0,xe.HQ)(g),this._fireDataErrorOccurred(o),g.resolve({cancel:!0})}),g}_executeEditingAction(n,g,o){if(this.component._disposed)return null;var l=new le.cY;return this.executeAction(n,g),(0,le.z7)((0,le.Sx)(g.cancel)).done(_=>{_?setTimeout(()=>{l.resolve("cancel")}):o(g).done(l.resolve).fail((0,xe.HQ)(l))}).fail((0,xe.HQ)(l)),l}_processChanges(n,g,o,l){var _=this._dataController.store();(0,q.__)(l,(h,C)=>{var He,Z,F=this._getOldData(C.key),{data:te,type:X}=C,ge=(0,be.A)({},C);if(!this._beforeSaveEditData(C,h)){switch(X){case N.do:He=this._executeEditingAction("onRowRemoving",Z={data:F,key:C.key,cancel:!1},()=>_.remove(C.key).done(U=>{o.push({type:"remove",key:U})}));break;case N.G3:He=this._executeEditingAction("onRowInserting",Z={data:te,cancel:!1},()=>_.insert(Z.data).done((U,p)=>{(0,Y.O9)(p)&&(ge.key=p),U&&(0,Y.Gv)(U)&&U!==Z.data&&(ge.data=U),o.push({type:"insert",data:U,index:0})}));break;case N.A2:He=this._executeEditingAction("onRowUpdating",Z={newData:te,oldData:F,key:C.key,cancel:!1},()=>_.update(C.key,Z.newData).done((U,p)=>{U&&(0,Y.Gv)(U)&&U!==Z.newData&&(ge.data=U),o.push({type:"update",key:p,data:U})}))}if(l[h]=ge,He){var D=new le.cY;He.always(U=>{g.push({key:C.key,result:U})}).always(D.resolve),n.push(D.promise())}}})}_processRemoveIfError(n,g){var o=n[g];return o?.type===N.do&&g>=0&&n.splice(g,1),!0}_processRemove(n,g,o){var l=n[g];if(!o||!l||l.type===N.do)return this._processRemoveCore(n,g,!o||!l)}_processRemoveCore(n,g,o){return g>=0&&n.splice(g,1),!0}_processSaveEditDataResult(n){for(var g=!1,o=[...this.getChanges()],l=o.length,_=0;_<n.length;_++){var h=n[_].result,C="cancel"===h,F=I.A.getIndexByKey(n[_].key,o),te=o[F];if(h&&h instanceof Error){if(te&&this._addInternalData({key:te.key,error:h}),this._fireDataErrorOccurred(h),this._processRemoveIfError(o,F))break}else this._processRemove(o,F,C)&&(g=!C)}return o.length<l&&this._silentOption(N.r8,o),g}_fireSaveEditDataEvents(n){(0,q.__)(n,(g,o)=>{var{data:l,key:_,type:h}=o,C=this._addInternalData({key:_}),F={key:_,data:l};switch(C.error&&(F.error=C.error),h){case N.do:this.executeAction("onRowRemoved",(0,oe.X)({},F,{data:C.oldData}));break;case N.G3:this.executeAction("onRowInserted",F);break;case N.A2:this.executeAction("onRowUpdated",F)}}),this.executeAction("onSaved",{changes:n})}saveEditData(){var n=new le.cY;return this.waitForDeferredOperations().done(()=>{this.isSaving()?this._resolveAfterSave(n):(0,le.z7)(this._beforeSaveEditData()).done(g=>{g?this._resolveAfterSave(n,{cancel:g}):(this._saving=!0,this._saveEditDataInner().always(()=>{this._saving=!1,this._refocusEditCell&&this._focusEditingCell()}).done(n.resolve).fail(n.reject))}).fail(n.reject)}).fail(n.reject),n.promise()}_resolveAfterSave(n){var{cancel:g,error:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,le.z7)(this._afterSaveEditData(g)).done(()=>{n.resolve(o)}).fail(n.reject)}_saveEditDataInner(){var n=new le.cY,g=[],o=[],l=[],_=this._dataController.dataSource();return(0,le.z7)(this._fireOnSaving()).done(h=>{var{cancel:C,changes:F}=h;return C?n.resolve().promise():(this._processChanges(o,g,l,F),o.length?(this._refocusEditCell=!0,_?.beginLoading(),(0,le.z7)(...o).done(()=>{this._processSaveEditDataResult(g)?this._endSaving(l,F,n):(_?.endLoading(),n.resolve())}).fail(te=>{_?.endLoading(),n.resolve(te)}),n.always(()=>{this._refocusEditCell=!0}).promise()):void this._cancelSaving(n))}).fail(n.reject),n.promise()}_beforeEndSaving(n){this._resetEditIndices()}_endSaving(n,g,o){var l=this._dataController.dataSource();this._beforeEndSaving(g),l?.endLoading(),this._refreshDataAfterSave(n,g,o)}_cancelSaving(n){this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(n)}_refreshDataAfterSave(n,g,o){var l=this._dataController,_=this.option("editing.refreshMode"),h="reshape"!==_&&"repaint"!==_;h||l.push(n),(0,le.z7)(l.refresh({selection:h,reload:h,load:"reshape"===_,changesOnly:this.option("repaintChangesOnly")})).always(()=>{this._fireSaveEditDataEvents(g)}).done(()=>{this._resolveAfterSave(o)}).fail(C=>{this._resolveAfterSave(o,{error:C})})}isSaving(){return this._saving}_updateEditColumn(){var n=this._isEditColumnVisible(),g=this.option("editing.useIcons"),o=N.OM+(g?" ".concat(N.Mc):"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:n,cssClass:o,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:n,cssClass:o})}_isEditColumnVisible(){return this.option("editing").allowDeleting}_isEditButtonDisabled(){var n=this.hasChanges();return!((0,Y.O9)(this.option("editing.editRowKey"))||n)}_updateEditButtons(){var n=this.getView("headerPanel"),g=this._isEditButtonDisabled();n&&(n.setToolbarItemDisabled("saveButton",g),n.setToolbarItemDisabled("revertButton",g))}_applyModified(n,g){n&&n.addClass(N.jP)}_beforeCloseEditCellInBatchMode(n){}cancelEditData(){var n=this.getChanges(),g={cancel:!1,changes:n};this.executeAction("onEditCanceling",g),g.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:n}))}_cancelEditDataCore(){var n=this._getVisibleEditRowIndex();this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),this._afterCancelEditData(n)}_afterCancelEditData(n){this._dataController.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")})}_hideEditPopup(){}hasEditData(){return this.hasChanges()}update(n){var g=this._dataController;g&&this._pageIndex!==g.pageIndex()&&("refresh"===n&&this.refresh({isPageChanged:!0}),this._pageIndex=g.pageIndex()),this._updateEditButtons()}_getRowIndicesForCascadeUpdating(n,g){return g?[]:[n.rowIndex]}addDeferred(n){this._deferreds.includes(n)||(this._deferreds.push(n),n.always(()=>{var g=this._deferreds.indexOf(n);g>=0&&this._deferreds.splice(g,1)}))}_prepareChange(n,g,o){var l,_={},h=null===(l=n.row)||void 0===l?void 0:l.data,C=n.key,F=new le.cY;return void 0!==C&&(n.value=g,(0,le.Sx)(n.column.setCellValue(_,g,(0,oe.X)(!0,{},h),o)).done(()=>{F.resolve({data:_,key:C,oldData:h,type:N.A2})}).fail((0,xe.HQ)(F)).fail(X=>this._fireDataErrorOccurred(X)),(0,Y.O9)(o)&&n.column.displayValueMap&&(n.column.displayValueMap[g]=o),this._updateRowValues(n),this.addDeferred(F)),F}_updateRowValues(n){if(n.values){var g=this._dataController,o=g.getRowIndexByKey(n.key),l=g.getVisibleRows()[o];l&&(n.row.values=l.values,n.values=l.values),n.values[n.columnIndex]=n.value}}updateFieldValue(n,g,o,l){var _=n.key,h=new le.cY;return void 0===_&&this._dataController.fireError("E1043"),n.column.setCellValue?this._prepareChange(n,g,o).done(C=>{(0,le.z7)(this._applyChange(n,C,l)).always(()=>{h.resolve()})}):h.resolve(),h.promise()}_focusPreviousEditingCellIfNeed(n){if(this.hasEditData()&&!this.isEditCell(n.rowIndex,n.columnIndex))return this._focusEditingCell(),this._updateEditRow(n.row,!0),!0}_needUpdateRow(n){var g=this._columnsController.getVisibleColumns();n||(n=this._getEditColumn());var o=n&&n.setCellValue!==n.defaultSetCellValue,l=g.some(_=>_.calculateCellValue!==_.defaultCalculateCellValue);return o||l}_applyChange(n,g,o){var l=(0,be.A)((0,be.A)({},n),{forceUpdateRow:o});return this._addChange(g,l),this._updateEditButtons(),this._applyChangeCore(n,l.forceUpdateRow)}_applyChangeCore(n,g){var o=n.column.setCellValue!==n.column.defaultSetCellValue,{row:l}=n;l&&(g||o?this._updateEditRow(l,g,o):l.update&&l.update())}_updateEditRowCore(n,g,o){this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(n,g)})}_updateEditRow(n,g,o){g?this._updateRowImmediately(n,g,o):this._updateRowWithDelay(n,o)}_updateRowImmediately(n,g,o){this._updateEditRowCore(n,!g,o),this._validateEditFormAfterUpdate(n,o),g||this._focusEditingCell()}_updateRowWithDelay(n,g){var o=new le.cY;this.addDeferred(o),setTimeout(()=>{var l,_=(null===(l=this._editForm)||void 0===l?void 0:l.element())||this.component.$element().get(0),h=(0,he.A)(se.A.getActiveElement(_)),C=this._rowsView.getCellIndex(h,n.rowIndex),F=h.get(0),te=I.A.getSelectionRange(F);if(this._updateEditRowCore(n,!1,g),this._validateEditFormAfterUpdate(n,g),C>=0){var X=this._rowsView._getCellElement(n.rowIndex,C);this._delayedInputFocus(X,()=>{setTimeout(()=>{var ge;F=se.A.getActiveElement(null===(ge=this.component.$element())||void 0===ge?void 0:ge.get(0)),te.selectionStart>=0&&I.A.setSelectionRange(F,te)})})}o.resolve()})}_validateEditFormAfterUpdate(){}_addChange(n,g){var o,l=g?.row,_=[...this.getChanges()],h=I.A.getIndexByKey(n.key,_);h<0&&(h=_.length,this._addInternalData({key:n.key,oldData:n.oldData}),delete n.oldData,_.push(n));var C=(0,be.A)({},_[h]);return C&&(n.data&&(C.data=(0,Ee.lj)(C.data,n.data)),(!C.type||!n.data)&&n.type&&(C.type=n.type),l&&(l.oldData=this._getOldData(l.key),l.data=(0,Ee.lj)(l.data,n.data))),_[h]=C,this._silentOption(N.r8,_),g&&C!==(null===(o=this.getChanges())||void 0===o?void 0:o[h])&&(g.forceUpdateRow=!0),C}_getFormEditItemTemplate(n,g){return g.editCellTemplate||this._getDefaultEditorTemplate()}getColumnTemplate(n){var l,F,{column:g}=n,o=n.row&&n.row.rowIndex,_=this.isRowBasedEditMode(),h=this.isEditRow(o),C=this.isEditCell(o,n.columnIndex);return!(g.showEditorAlways||g.setCellValue&&(h&&g.allowEditing||C))||"data"!==n.rowType&&"detailAdaptive"!==n.rowType||g.command?"detail"===g.command&&"detail"===n.rowType&&h&&(l=null==this?void 0:this.getEditFormTemplate(n)):(((this.allowUpdating(n)||h)&&g.allowEditing||C)&&(h||!_)&&(g.showEditorAlways&&!_&&this._isEditingStart(F={cancel:!1,key:n.row.isNewRow?void 0:n.row.key,data:n.row.data,column:g}),(!F||!F.cancel)&&(n.setValue=(X,ge)=>{this.updateFieldValue(n,X,ge)})),l=g.editCellTemplate||this._getDefaultEditorTemplate()),l}_createButton(n,g,o,l){var _=N.oJ[g.name],h=this.option("editing.useIcons"),C=this.option("useLegacyColumnButtonTemplate"),F=(0,he.A)("<a>").attr("href","#").addClass(N.Q6).addClass(g.cssClass);if(g.template&&C)this._rowsView.renderTemplate(n,g.template,o,!0);else{if(g.template)F=(0,he.A)("<span>").addClass(g.cssClass);else if(h&&_||g.icon){var te=ee.F(_=g.icon||_);"image"===te||"svg"===te?F=ee.N(_).addClass(g.cssClass):F.addClass("dx-icon".concat("dxIcon"===te?"-":" ").concat(_)).attr("title",g.text),F.addClass(N.gJ),n.addClass(N.Mc);var X=this.getButtonLocalizationNames()[g.name];X&&F.attr("aria-label",a.A.format(X))}else F.text(g.text);(0,Y.O9)(g.hint)&&F.attr("title",g.hint),this._isButtonDisabled(g,o)?F.addClass("dx-state-disabled"):(!g.template||g.onClick)&&j.A.on(F,(0,c.b4)("click",N.dx),this.createAction(ge=>{var He;null===(He=g.onClick)||void 0===He||He.call(g,(0,oe.X)({},ge,{row:o.row,column:o.column})),ge.event.preventDefault(),ge.event.stopPropagation()})),n.append(F,"&nbsp;"),g.template&&(o.renderAsync=!1,this._rowsView.renderTemplate(F,g.template,o,!0,l))}}getButtonLocalizationNames(){return{edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}}prepareButtonItem(n,g,o,l){var _,h=null!==(_=this.option("editing.texts"))&&void 0!==_?_:{},F={revert:"cancel",save:"save",addRow:"addrow"}[g],te={revert:h.cancelAllChanges,save:h.saveAllChanges,addRow:h.addRow}[g],X=("save"===F||"cancel"===F)&&this._isEditButtonDisabled();return{widget:"dxButton",options:{onInitialized:ge=>{(0,he.A)(ge.element).addClass(n._getToolbarButtonClass("".concat(N.Xh," ").concat(this.addWidgetPrefix(F),"-button")))},icon:"edit-button-".concat(F),disabled:X,onClick:()=>{setTimeout(()=>{this[o]()})},text:te,hint:te},showText:"inMenu",name:"".concat(g,"Button"),location:"after",locateInMenu:"auto",sortIndex:l}}prepareEditButtons(n){var g,l=[];return(null!==(g=this.option("editing"))&&void 0!==g?g:{}).allowAdding&&l.push(this.prepareButtonItem(n,"addRow","addRow",20)),l}highlightDataCell(n,g){this.shouldHighlightCell(g)&&n.addClass(N.jP)}_afterInsertRow(){}_beforeSaveEditData(n){if(n&&!(0,Y.O9)(n.key)&&(0,Y.O9)(n.type))return!0}_afterSaveEditData(){}_beforeCancelEditData(){}_allowEditAction(n,g){var o=this.option("editing.".concat(n));return(0,Y.Tn)(o)&&(o=o({component:this.component,row:g.row})),o}allowUpdating(n,g){var o,l=null!==(o=this.option("editing.startEditAction"))&&void 0!==o?o:N.Lb;return(!(arguments.length>1)||l===g||"down"===g)&&this._allowEditAction("allowUpdating",n)}allowDeleting(n){return this._allowEditAction("allowDeleting",n)}isCellModified(n){var g,o,l,{columnIndex:_}=n,h=null===(o=null===(g=n?.row)||void 0===g?void 0:g.modifiedValues)||void 0===o?void 0:o[_];return!(null===(l=n?.row)||void 0===l)&&l.isNewRow&&(h=n.value),void 0!==h}isNewRowInEditMode(){var n=this._getVisibleEditRowIndex(),g=this._dataController.items();return n>=0&&g[n].isNewRow}_isRowDeleteAllowed(){}shouldHighlightCell(n){return this.isCellModified(n)&&n.column.setCellValue&&(this.getEditMode()!==N.cy||!n.row.isEditing)}}},extenders:{controllers:{data:{init(){this._editingController=this.getController("editing"),this.callBase()},reload(B,n){return!n&&this._editingController.refresh(),this.callBase.apply(this,arguments)},repaintRows(){if(!this.getController("editing").isSaving())return this.callBase.apply(this,arguments)},_updateEditRow(B){var n,g=this.option(N.D9),l=B[I.A.getIndexByKey(g,B)];l&&(l.isEditing=!0,null===(n=this._updateEditItem)||void 0===n||n.call(this,l))},_updateItemsCore(B){this.callBase(B),this._updateEditRow(this.items(!0))},_applyChangeUpdate(B){this._updateEditRow(B.items),this.callBase(B)},_applyChangesOnly(B){this._updateEditRow(B.items),this.callBase(B)},_processItems(B,n){return B=this._editingController.processItems(B,n),this.callBase(B,n)},_processDataItem(B,n){return this._editingController.processDataItem(B,n,this.generateDataValues),this.callBase(B,n)},_processItem(B,n){return(B=this.callBase(B,n)).isNewRow&&(n.dataIndex--,delete B.dataIndex),B},_getChangedColumnIndices(B,n,g,o){if(B.isNewRow===n.isNewRow&&B.removed===n.removed)return this.callBase.apply(this,arguments)},_isCellChanged(B,n,g,o,l){var _=this.getController("editing"),h=B.cells&&B.cells[o],C=_&&_.isEditCell(g,o);return(!l||!C)&&(!(!h||!h.column||h.column.showEditorAlways||h.isEditing===C)||this.callBase.apply(this,arguments))},needToRefreshOnDataSourceChange(B){var n=this.getController("editing");return!(Array.isArray(B.value)&&B.value===B.previousValue&&n.isSaving())},_handleDataSourceChange(B){var n=this.callBase(B),g=this.option("editing.changes"),o=B.value;if(Array.isArray(o)&&g.length){var l=o.map(F=>this.keyOf(F)),_=g.filter(F=>"insert"===F.type||l.some(te=>(0,Ce.RL)(F.key,te)));_.length!==g.length&&this.option("editing.changes",_);var h=this.option("editing.editRowKey");!_.some(F=>"insert"===F.type&&(0,Ce.RL)(h,F.key))&&l.every(F=>!(0,Ce.RL)(h,F))&&this.option("editing.editRowKey",null)}return n}}},views:{rowsView:{init(){this.callBase(),this._editingController=this.getController("editing")},getCellIndex(B,n){if(!B.is("td")&&n>=0){var g=this.getCellElements(n),o=-1;return(0,q.__)(g,(l,_)=>{(0,he.A)(_).find(B).length&&(o=l)}),o}return this.callBase.apply(this,arguments)},publicMethods(){return this.callBase().concat(["cellValue"])},_getCellTemplate(B){return this._editingController.getColumnTemplate(B)||this.callBase(B)},_createRow(B){var n=this.callBase.apply(this,arguments);if(B){var g=!!B.removed,o=!!B.isNewRow,l=!!B.modified;o&&n.addClass(N.yu),l&&n.addClass(N.BX),(o||g)&&n.removeClass(N.X9)}return n},_getColumnIndexByElement(B){for(var n=B.closest("table"),g=this.getTableElements();n.length&&!g.filter(n).length;)B=n.closest("td"),n=B.closest("table");return this._getColumnIndexByElementCore(B)},_getColumnIndexByElementCore(B){var n=B.closest(".".concat(N.sN,"> td:not(.dx-master-detail-cell)"));return this.getCellIndex(n)},_editCellByClick(B,n){var g=this._editingController,o=(0,he.A)(B.event.target),l=this._getColumnIndexByElement(o),_=this._dataController.items()[B.rowIndex],h=g.allowUpdating({row:_},n)||_&&_.isNewRow,C=this._columnsController.getVisibleColumns()[l],F=g.isEditCell(B.rowIndex,l),te=h&&C&&(C.allowEditing||F),X=this.option("editing.startEditAction")||"click",ge=C&&C.showEditorAlways;if(F)return!0;if("down"===n)return(k.A.real().ios||k.A.real().android)&&(0,ae.GX)(),ge&&te&&g.editCell(B.rowIndex,l);if("click"===n&&"dblClick"===X){var He=_?.isNewRow;g.closeEditCell(!1,He)}return te&&n===X?g.editCell(B.rowIndex,l)||g.isEditRow(B.rowIndex):void 0},_rowPointerDown(B){this._pointerDownTimeout=setTimeout(()=>{this._editCellByClick(B,"down")})},_rowClick(B){var n=(0,he.A)(B.rowElement).hasClass(this.addWidgetPrefix(N.BL));B.event[N.se]=this.component,!this._editCellByClick(B,"click")&&!n&&this.callBase.apply(this,arguments)},_rowDblClick(B){this._editCellByClick(B,"dblClick")||this.callBase.apply(this,arguments)},_cellPrepared(B,n){var g,o=this._editingController,l=!!n.column.command,_=n.setValue,h=o.isEditRow(n.rowIndex),C=(0,xe.d5)(h,n);if((0,xe.TG)(h,n)){var{alignment:F}=n.column;B.toggleClass(this.addWidgetPrefix(N.MN),!_).toggleClass(N.iK,!_),F&&B.find(N.CN).first().css("textAlign",F)}C&&this._editCellPrepared(B);var te=!(null===(g=n.column)||void 0===g||!g.cellTemplate);n.column&&!l&&(!te||o.shouldHighlightCell(n))&&o.highlightDataCell(B,n),this.callBase.apply(this,arguments)},_editCellPrepared:Ce.lQ,_formItemPrepared:Ce.lQ,_getCellOptions(B){var n=this.callBase(B),{columnIndex:g,row:o}=B;return n.isEditing=this._editingController.isEditCell(n.rowIndex,n.columnIndex),n.removed=o.removed,o.modified&&(n.modified=void 0!==o.modifiedValues[g]),n},_setCellAriaAttributes(B,n){this.callBase(B,n),n.removed&&this.setAria("roledescription",a.A.format("dxDataGrid-ariaDeletedCell"),B),n.modified&&this.setAria("roledescription",a.A.format("dxDataGrid-ariaModifiedCell"),B),n.column.allowEditing&&!n.removed&&!n.modified&&"data"===n.rowType&&n.column.calculateCellValue===n.column.defaultCalculateCellValue&&this._editingController.isCellBasedEditMode()&&this.setAria("roledescription",a.A.format("dxDataGrid-ariaEditableCell"),B)},_createCell(B){var n=this.callBase(B),g=this._editingController.isEditRow(B.rowIndex);return(0,xe.TG)(g,B)&&n.addClass(N.su),n},cellValue(B,n,g,o){var l=this.getCellOptions(B,n);if(l){if(void 0===g)return l.value;this._editingController.updateFieldValue(l,g,o,!0)}},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._pointerDownTimeout)},_renderCore(){return this.callBase.apply(this,arguments),this.waitAsyncTemplates(!0).done(()=>{this._editingController._focusEditorIfNeed()})}},headerPanel:{_getToolbarItems(){var B=this.callBase();return this.getController("editing").prepareEditButtons(this).concat(B)},optionChanged(B){var{fullName:n}=B;switch(B.name){case"editing":n&&![N.kd,N.r8,N.tp,N.D9].some(l=>l===n)&&this._invalidate(),this.callBase(B);break;case"useLegacyColumnButtonTemplate":B.handled=!0;break;default:this.callBase(B)}},isVisible(){var B=this.getController("editing").option("editing");return this.callBase()||B?.allowAdding}}}}}},3520:(Mt,dt,i)=>{i.d(dt,{W:()=>j});var be=i(7669),k=i(4292),se=i(5042),_e=i(2984),he=i(7963),Ce=i(2463),le=i(1774),ae=i(8060),oe=i(1269),ee=i(4602),q=i(4159),P=i(9104),Y=i(3586),Ee=i(1531),j={extenders:{controllers:{editing:ue=>class extends ue{init(){var c,a,b=!this._saveEditorHandler;super.init(),b&&(this._pointerUpEditorHandler=()=>{var d;a=null===(d=this.getController("columnsResizer"))||void 0===d?void 0:d.isResizing()},this._pointerDownEditorHandler=d=>c=(0,k.A)(d.target),this._saveEditorHandler=this.createAction(function(d){var{event:m}=d,S=(0,k.A)(m.target),I=m[Y.se],{component:N}=this;if((!(0,Ee.Xl)(c)||c.is(S))&&this.isCellOrBatchEditMode()&&!this._editCellInProgress){var Pe=xe(S)||xe(I?.$element()),Ie=I&&!I._disposed&&I!==this.component,B=!!S.closest(".".concat(this.addWidgetPrefix(Y.HG))).length,n=S.hasClass(this.addWidgetPrefix(Y.vw)),g=this.isCellEditMode();!a&&!Pe&&!n&&!(B&&g&&this.isEditing())&&((0,he.A1)(S)||Ie)&&this._closeEditItem.bind(this)(S)}function xe(o){if(!o)return!1;var l=o.closest(".".concat(Y.OQ)),_=N.$element();return l.length>0&&0===_.closest(l).length}}),oe.A.on(be.A.getDocument(),q.A.up,this._pointerUpEditorHandler),oe.A.on(be.A.getDocument(),q.A.down,this._pointerDownEditorHandler),oe.A.on(be.A.getDocument(),ae.U,this._saveEditorHandler))}isCellEditMode(){return this.option("editing.mode")===Y.eN}isBatchEditMode(){return this.option("editing.mode")===Y.yx}isCellOrBatchEditMode(){return this.isCellEditMode()||this.isBatchEditMode()}_needToCloseEditableCell(b){var c,a=this.component.$element(),d=this.isEditing();if((!a||b.closest(a).length)&&b.closest(".".concat(Y.Z8)).length){var I=this.getView("rowsView"),N=b.closest(".".concat(Y.sN,"> td")),xe=I.getRowIndex(N.parent()),Pe=I.getCellElements(xe);if(Pe?.length){var Ie=Pe.index(N),n=null===(c=this._columnsController.getVisibleColumns()[Ie])||void 0===c?void 0:c.allowEditing,g=this.isEditCell(xe,Ie);d=d&&!n&&!g}}return d||super._needToCloseEditableCell(b)}_closeEditItem(b){this._needToCloseEditableCell(b)&&this.closeEditCell()}_focusEditorIfNeed(){var b;if(this._needFocusEditor&&this.isCellOrBatchEditMode()){var c=this._getVisibleEditColumnIndex(),a=null===(b=this._rowsView)||void 0===b?void 0:b._getCellElement(this._getVisibleEditRowIndex(),c);a&&!a.find(":focus").length?this._focusEditingCell(()=>{this._editCellInProgress=!1},a,!0):this._editCellInProgress=!1,this._needFocusEditor=!1}else super._focusEditorIfNeed()}isEditing(){if(this.isCellOrBatchEditMode()){var b=(0,Ce.O9)(this.option(Y.D9)),c=(0,Ce.O9)(this.option(Y.tp));return b&&c}return super.isEditing()}_handleEditColumnNameChange(b){var c=this._getVisibleEditRowIndex(b.previousValue);if(this.isCellOrBatchEditMode()&&-1!==c&&(0,Ce.O9)(b.value)&&b.value!==b.previousValue){var a=this._columnsController.getVisibleColumnIndex(b.value),d=this._columnsController.getVisibleColumnIndex(b.previousValue);this._editCellFromOptionChanged(a,d,c)}}_addRow(b){if(this.isCellEditMode()&&this.hasChanges()){var c=new _e.cY;return this.saveEditData().done(()=>{this.hasChanges()?c.reject("cancel"):this.addRow(b).done(c.resolve).fail(c.reject)}),c.promise()}return super._addRow(b)}editCell(b,c){return this._editCell({rowIndex:b,columnIndex:c})}_editCell(b){var a,c=new _e.cY;return this.executeOperation(c,()=>{a=this._editCellCore(b),(0,_e.z7)(a).done(c.resolve).fail(c.reject)}),void 0!==a?a:c.promise()}_editCellCore(b){var c=this._dataController,a=(0,Ce.O9)(b.oldColumnIndex)||(0,Ce.O9)(b.oldRowIndex),{columnIndex:d,rowIndex:m,column:S,item:I}=this._getNormalizedEditCellOptions(b),N={data:I?.data,cancel:!1,column:S};if(void 0!==I.key){if(S&&("data"===I.rowType||"detailAdaptive"===I.rowType)&&!I.removed&&this.isCellOrBatchEditMode()){if(!a&&this.isEditCell(m,d))return!0;var xe=m+c.getRowIndexOffset();return(0,_e.z7)(this._beforeEditCell(m,d,I)).done(Pe=>{Pe||this._prepareEditCell(N,I,d,xe)||this._processCanceledEditingCell()})}return!1}this._dataController.fireError("E1043")}_beforeEditCell(b,c,a){if(this.isCellEditMode()&&!a.isNewRow&&this.hasChanges()){var d=new _e.cY;return this.saveEditData().always(()=>{d.resolve(this.hasChanges())}),this.addDeferred(d),d}return!1}publicMethods(){return super.publicMethods().concat(["editCell","closeEditCell"])}_getNormalizedEditCellOptions(b){var Pe,{oldColumnIndex:c,oldRowIndex:a,columnIndex:d,rowIndex:m}=b,S=this._columnsController,I=S.getVisibleColumns(),xe=this._dataController.items()[m];return Pe=(0,Ce.O9)(c)?I[c]:this._getEditColumn(),(0,Ce.O9)(a)||(a=this._getVisibleEditRowIndex()),(0,Ce.Kg)(d)&&(d=S.columnOption(d,"index"),d=S.getVisibleIndex(d)),{oldColumn:Pe,columnIndex:d,oldRowIndex:a,rowIndex:m,column:I[d],item:xe}}_prepareEditCell(b,c,a,d){var m;return c.isNewRow||(b.key=c.key),!this._isEditingStart(b)&&(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(c.key),this._setEditColumnNameByIndex(a),b.column.showEditorAlways||this._addInternalData({key:c.key,oldData:null!==(m=c.oldData)&&void 0!==m?m:c.data}),!0)}closeEditCell(b,c){var a=(0,_e.z7)(),d=this._getVisibleEditRowIndex();if(this.isCellOrBatchEditMode()){var m=new _e.cY;a=new _e.cY,this.executeOperation(m,()=>{this._closeEditCellCore(b,d,c).always(a.resolve)})}return a.promise()}_closeEditCellCore(b,c,a){var d=this._dataController,m=new _e.cY,S=m.promise();if(this.isCellEditMode()&&this.hasChanges()){if(!a)return this.saveEditData().done(N=>{this.hasChanges()?m.resolve():this.closeEditCell(!!N).always(m.resolve)}),S}else if(this._resetEditRowKey(),this._resetEditColumnName(),c>=0){var I=[c];this._beforeCloseEditCellInBatchMode(I),b||d.updateItems({changeType:"update",rowIndices:I})}return m.resolve(),S}_resetModifiedClassCells(b){if(this.isBatchEditMode()){var c=this._columnsController.getVisibleColumns().length;b.forEach(a=>{for(var{key:d}=a,m=this._dataController.getRowIndexByKey(d),S=0;S<c;S++){var I=this._rowsView._getCellElement(m,S);I?.removeClass(Y.uz)}})}}_prepareChange(b,c,a){var d=(0,k.A)(b.cellElement);return this.isBatchEditMode()&&void 0!==b.key&&this._applyModified(d,b),super._prepareChange(b,c,a)}_cancelSaving(b){var c=this._dataController;this.isCellOrBatchEditMode()&&(this.isBatchEditMode()&&this._resetEditIndices(),c.updateItems()),super._cancelSaving(b)}optionChanged(b){var{fullName:c}=b;"editing"===b.name&&c===Y.tp?(this._handleEditColumnNameChange(b),b.handled=!0):super.optionChanged(b)}_editCellFromOptionChanged(b,c,a){var d=this._columnsController.getVisibleColumns();b>-1&&(0,se.zE)(()=>{this._repaintEditCell(d[b],d[c],a)})}_handleEditRowKeyChange(b){var c;if(this.isCellOrBatchEditMode()){var a=this._getVisibleEditColumnIndex(),d=this._getEditRowIndexCorrection(),m=this._dataController.getRowIndexByKey(b.previousValue)+d;(0,Ce.O9)(b.value)&&b.value!==b.previousValue&&(null===(c=this._editCellFromOptionChanged)||void 0===c||c.call(this,a,a,m))}else super._handleEditRowKeyChange(b)}deleteRow(b){if(this.isCellEditMode()&&this.isEditing()){var{isNewRow:c}=this._dataController.items()[b],a=this._dataController.getKeyByRowIndex(b);this.closeEditCell(null,c).always(()=>{b=this._dataController.getRowIndexByKey(a),this._checkAndDeleteRow(b)})}else super.deleteRow(b)}_checkAndDeleteRow(b){this.isBatchEditMode()?this._deleteRowCore(b):super._checkAndDeleteRow(b)}_refreshCore(b){var{isPageChanged:c}=b??{},a=this.isBatchEditMode()||c&&"virtual"!==this.option("scrolling.mode");this.isCellOrBatchEditMode()?a&&(this._resetEditColumnName(),this._resetEditRowKey()):super._refreshCore(b)}_allowRowAdding(b){return!!this.isBatchEditMode()||super._allowRowAdding(b)}_afterDeleteRow(b,c){var a=this._dataController;return this.isBatchEditMode()?(a.updateItems({changeType:"update",rowIndices:[c,b]}),(new _e.cY).resolve()):super._afterDeleteRow(b,c)}_updateEditRow(b,c,a){this.isCellOrBatchEditMode()?this._updateRowImmediately(b,c,a):super._updateEditRow(b,c,a)}_isDefaultButtonVisible(b,c){if(this.isCellOrBatchEditMode()){var a=this.isBatchEditMode();switch(b.name){case"save":case"cancel":case"edit":return!1;case"delete":return super._isDefaultButtonVisible(b,c)&&(!a||!c.row.removed);case"undelete":return a&&this.allowDeleting(c)&&c.row.removed;default:return super._isDefaultButtonVisible(b,c)}}return super._isDefaultButtonVisible(b,c)}_isRowDeleteAllowed(){return super._isRowDeleteAllowed()||this.isBatchEditMode()}_beforeEndSaving(b){var c;this.isCellEditMode()?"update"!==(null===(c=b[0])||void 0===c?void 0:c.type)&&super._beforeEndSaving(b):(this.isBatchEditMode()&&this._resetModifiedClassCells(b),super._beforeEndSaving(b))}prepareEditButtons(b){var c,a=null!==(c=this.option("editing"))&&void 0!==c?c:{},d=super.prepareEditButtons(b);return(a.allowUpdating||a.allowAdding||a.allowDeleting)&&this.isBatchEditMode()&&(d.push(this.prepareButtonItem(b,"save","saveEditData",21)),d.push(this.prepareButtonItem(b,"revert","cancelEditData",22))),d}_saveEditDataInner(){var m,b=this._dataController.getVisibleRows()[this.getEditRowIndex()],c=this._getEditColumn(),a=c?.showEditorAlways;return this.isCellEditMode()&&!b?.isNewRow&&a&&(m=new _e.cY,this.addDeferred(m)),super._saveEditDataInner().always(m?.resolve)}_applyChange(b,c,a){var d=this.isCellEditMode()&&b.row&&!b.row.isNewRow,{showEditorAlways:m}=b.column,S=b.column.setCellValue!==b.column.defaultSetCellValue;return m&&!a&&d&&this.hasEditData()&&!this.isEditCell(b.rowIndex,b.columnIndex)?(this._focusEditingCell(),void this._updateEditRow(b.row,!0,S)):super._applyChange(b,c,a)}_applyChangeCore(b,c){var{showEditorAlways:a}=b.column,d=this.isCellEditMode()&&b.row&&!b.row.isNewRow;if(a&&!c){if(d)return this._setEditRowKey(b.row.key,!0),this._setEditColumnNameByIndex(b.columnIndex,!0),this.saveEditData();if(this.isBatchEditMode())return c=this._needUpdateRow(b.column),super._applyChangeCore(b,c)}return super._applyChangeCore(b,c)}_processDataItemCore(b,c,a,d,m){var{data:S,type:I}=c;this.isBatchEditMode()&&I===Y.do&&(b.data=(0,le.lj)(b.data,S)),super._processDataItemCore(b,c,a,d,m)}_processRemoveCore(b,c,a){if(!this.isBatchEditMode()||a)return super._processRemoveCore(b,c,a)}_processRemoveIfError(b,c){if(!this.isBatchEditMode())return super._processRemoveIfError(b,c)}_beforeFocusElementInRow(b){super._beforeFocusElementInRow(b);var c=b>=0?b:0,a=this.getFirstEditableColumnIndex();a>=0&&this.editCell(c,a)}}},views:{rowsView:{_createTable(){var ue=this.callBase.apply(this,arguments),b=this._editingController;return b.isCellOrBatchEditMode()&&this.option("editing.allowUpdating")&&oe.A.on(ue,(0,P.b4)(ee.A.name,"dxDataGridRowsView"),"td:not(.".concat(Y.su,")"),this.createAction(()=>{b.isEditing()&&b.closeEditCell()})),ue},_createRow(ue){var b=this.callBase.apply(this,arguments);if(ue){var a=!!ue.removed;this._editingController.isBatchEditMode()&&a&&b.addClass(Y.iq)}return b}},headerPanel:{isVisible(){var ue=this.getController("editing").option("editing");return this.callBase()||ue&&(ue.allowUpdating||ue.allowDeleting)&&ue.mode===Y.yx}}}}}},1210:(Mt,dt,i)=>{i.d(dt,{I:()=>c});var be=i(3862),k=i(3992),se=i(4292),_e=i(5042),he=i(2984),Ce=i(7963),le=i(7951),ae=i(2101),oe=i(2463),ee=i(1269),q=i(675),P=i(2839),Y=i(493),Ee=i(4633),re=i(9057),j=i(3586),ue=i(1531),c={extenders:{controllers:{editing:a=>class extends a{init(){this._editForm=null,this._updateEditFormDeferred=null,super.init()}isFormOrPopupEditMode(){return this.isPopupEditMode()||this.isFormEditMode()}isPopupEditMode(){return this.option("editing.mode")===j.AV}isFormEditMode(){return this.option("editing.mode")===j.oX}getFirstEditableColumnIndex(){var d=this._firstFormItem;if(this.isFormEditMode()&&d){var m=this.option(j.D9),S=this._dataController.getRowIndexByKey(m),I=this._rowsView.getCellElements(S);return this._rowsView._getEditFormEditorVisibleIndex(I,d.column)}return super.getFirstEditableColumnIndex()}getEditFormRowIndex(){return this.isFormOrPopupEditMode()?this._getVisibleEditRowIndex():super.getEditFormRowIndex()}_isEditColumnVisible(){var d=super._isEditColumnVisible(),m=this.option("editing");return this.isFormOrPopupEditMode()&&m.allowUpdating||d}_handleDataChanged(d){var m,S;if(this.isPopupEditMode()){var I=this.option("editing.editRowKey"),N=null===(m=d?.items)||void 0===m?void 0:m.some(Pe=>(0,_e.RL)(Pe.key,I)),xe=(null===(S=d.changeTypes)||void 0===S?void 0:S.length)&&d.changeTypes.every(Pe=>"insert"===Pe);("refresh"===d.changeType||N&&d.isOptionChanged)&&!xe&&this._repaintEditPopup()}super._handleDataChanged(d)}getPopupContent(){var d,m=null===(d=this._editPopup)||void 0===d?void 0:d.option("visible");if(this.isPopupEditMode()&&m)return this._$popupContent}_showAddedRow(d){this.isPopupEditMode()?this._showEditPopup(d):super._showAddedRow(d)}_cancelEditDataCore(){super._cancelEditDataCore(),this.isPopupEditMode()&&this._hideEditPopup()}_updateEditRowCore(d,m,S){var I,N=this._editForm;this.isPopupEditMode()?this.option("repaintChangesOnly")?(null===(I=d.update)||void 0===I||I.call(d,d),this._rowsView.renderDelayedTemplates()):N&&(this._updateEditFormDeferred=(new he.cY).done(()=>N.repaint()),this._updateLockCount||this._updateEditFormDeferred.resolve()):super._updateEditRowCore(d,m,S)}_showEditPopup(d,m){var S="desktop"!==be.A.current().deviceType,I=this.addWidgetPrefix(j.vo),N=(0,le.X)({showTitle:!1,fullScreen:S,wrapperAttr:{class:I},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getCancelButtonConfig()}],contentTemplate:this._getPopupEditFormTemplate(d)},this.option(j.kd));if(!this._editPopup){var xe=(0,se.A)("<div>").appendTo(this.component.$element()).addClass(I);this._editPopup=this._createComponent(xe,Ee.A),this._editPopup.on("hiding",this._getEditPopupHiddenHandler()),this._editPopup.on("shown",Pe=>{var Ie;ee.A.trigger(Pe.component.$content().find(j.gn).not(".".concat(j.lR)).first(),"focus"),m&&(null===(Ie=this._editForm)||void 0===Ie||Ie.repaint())})}this._editPopup.option(N),this._editPopup.show(),super._showEditPopup(d,m)}_getPopupEditFormTemplate(d){var m=this.component.getVisibleRows()[d],S={row:m,values:m.values,rowType:m.rowType,key:m.key,rowIndex:d};return this._rowsView._addWatchMethod(S,m),I=>{var N=this.getEditFormTemplate(),xe=this._createComponent((0,se.A)("<div>").appendTo(I),re.A);this._$popupContent=(0,se.A)(xe.content()),N(this._$popupContent,S,{isPopupForm:!0}),this._rowsView.renderDelayedTemplates(),(0,se.A)(I).parent().attr("aria-label",this.localize("dxDataGrid-ariaEditForm"))}}_repaintEditPopup(){var d,m,S=this._getVisibleEditRowIndex();if(S>=0){var I=null===(d=this._editPopup)||void 0===d?void 0:d.option("animation");null===(m=this._editPopup)||void 0===m||m.option("animation",null),this._showEditPopup(S,!0),void 0!==I&&this._editPopup.option("animation",I)}}_hideEditPopup(){var d;null===(d=this._editPopup)||void 0===d||d.option("visible",!1)}optionChanged(d){if("editing"===d.name&&this.isFormOrPopupEditMode()){var{fullName:m}=d;0===m.indexOf(j.Qz)?(this._handleFormOptionChange(d),d.handled=!0):0===m.indexOf(j.kd)&&(this._handlePopupOptionChange(d),d.handled=!0)}super.optionChanged(d)}_handleFormOptionChange(d){var m;if(this.isFormEditMode()){var S=this._getVisibleEditRowIndex();S>=0&&this._dataController.updateItems({changeType:"update",rowIndices:[S]})}else null!==(m=this._editPopup)&&void 0!==m&&m.option("visible")&&0===d.fullName.indexOf(j.Qz)&&this._repaintEditPopup()}_handlePopupOptionChange(d){var m=this._editPopup;if(m){var S=d.fullName.slice(j.kd.length+1);S?m.option(S,d.value):m.option(d.value)}}renderFormEditorTemplate(d,m,S,I,N){var xe=this,Pe=(0,se.A)(I),{column:Ie}=m,B=(0,ue.AU)(m),n=d?.row.data,g=S.component,{label:o,labelMark:l,labelMode:_}=S.editorOptions||{},h=(0,le.X)({},d,{data:n,cellElement:null,isOnForm:!0,item:m,id:g.getItemID(m.name||m.dataField),column:(0,le.X)({},Ie,{editorType:B,editorOptions:(0,le.X)({label:o,labelMark:l,labelMode:_},Ie.editorOptions,m.editorOptions)}),columnIndex:Ie.index,setValue:!N&&Ie.allowEditing&&function(F,te){xe.updateFieldValue(h,F,te)}});h.value=Ie.calculateCellValue(n);var C=this._getFormEditItemTemplate.bind(this)(h,Ie);return this._rowsView.renderTemplate(Pe,C,h,!!(0,Ce.A1)(Pe)).done(()=>{this._rowsView._updateCell(Pe,h)}),h}getFormEditorTemplate(d,m){var S=this.component.columnOption(m.name||m.dataField);return(I,N)=>{var xe=(0,se.A)(N),{row:Pe}=d;if(Pe?.watch){var Ie=Pe.watch(()=>S.selector(Pe.data),()=>{var B=xe.find(".dx-widget").first(),n=B.data("dxValidator"),g=n?.option();xe.contents().remove(),d=this.renderFormEditorTemplate.bind(this)(d,m,I,xe),n=(B=xe.find(".dx-widget").first()).data("dxValidator"),g&&!n&&B.dxValidator({validationRules:g.validationRules,validationGroup:g.validationGroup,dataGetter:g.dataGetter})});ee.A.on(xe,q.N,Ie)}d=this.renderFormEditorTemplate.bind(this)(d,m,I,xe)}}getEditFormOptions(d){var m,S=null===(m=this._getValidationGroupsInForm)||void 0===m?void 0:m.call(this,d),I=this.option("editing.form.customizeItem"),N=this.addWidgetPrefix(j.VQ),xe=this.option("editing.form.items"),Pe={};if(xe)(0,ue.Lx)(xe,B=>{var n=B?.name||B?.dataField;n&&(Pe[n]=!!B.editorType)});else{var Ie=this.getController("columns").getColumns();xe=[],(0,ae.__)(Ie,(B,n)=>{!n.isBand&&!n.type&&xe.push({column:n,name:n.name,dataField:n.dataField})})}return(0,le.X)({},S,{items:xe,formID:"dx-".concat(new k.A),customizeItem:B=>{var n,g=B.name||B.dataField;if((B.column||g)&&(n=B.column||this._columnsController.columnOption(B.name?"name:".concat(B.name):"dataField:".concat(B.dataField))),n){if(B.label=B.label||{},B.label.text=B.label.text||n.caption,"boolean"===n.dataType&&void 0===B.label.visible){var o=this.option("editing.form.labelMode");("floating"===o||"static"===o)&&(B.label.visible=!0)}B.template=B.template||this.getFormEditorTemplate(d,B),B.column=n,B.isCustomEditorType=Pe[g],n.formItem&&(0,le.X)(B,n.formItem),void 0===B.isRequired&&n.validationRules&&(B.isRequired=n.validationRules.some(_=>"required"===_.type),B.validationRules=[]);var l=!(0,oe.O9)(B.visible)||B.visible;!this._firstFormItem&&l&&(this._firstFormItem=B)}I?.call(this,B),B.cssClass=(0,oe.Kg)(B.cssClass)?"".concat(B.cssClass," ").concat(N):N}})}getEditFormTemplate(){return(d,m,S)=>{var I=this.option(j.Qz),N=this.getEditFormOptions(m),xe=(0,se.A)("<div>").appendTo(d),Pe=S?.isPopupForm;if(this._firstFormItem=void 0,Pe&&xe.addClass(this.addWidgetPrefix(j.QN)),this._editForm=this._createComponent(xe,Y.A,(0,le.X)({},I,N)),!Pe){var Ie=(0,se.A)("<div>").addClass(this.addWidgetPrefix(j.cK)).appendTo(d);this._createComponent((0,se.A)("<div>").appendTo(Ie),P.A,this._getSaveButtonConfig()),this._createComponent((0,se.A)("<div>").appendTo(Ie),P.A,this._getCancelButtonConfig())}this._editForm.on("contentReady",()=>{var B;this._rowsView.renderDelayedTemplates(),null===(B=this._editPopup)||void 0===B||B.repaint()})}}getEditForm(){return this._editForm}_endUpdateCore(){var d;null===(d=this._updateEditFormDeferred)||void 0===d||d.resolve()}_beforeEndSaving(d){var m;super._beforeEndSaving(d),this.isPopupEditMode()&&(null===(m=this._editPopup)||void 0===m||m.hide())}_processDataItemCore(d,m,S,I,N){var{type:xe}=m;this.isPopupEditMode()&&xe===j.G3&&(d.visible=!1),super._processDataItemCore(d,m,S,I,N)}_editRowFromOptionChangedCore(d,m){var S=this.isPopupEditMode();super._editRowFromOptionChangedCore(d,m,S),S&&this._showEditPopup(m)}},data:{_updateEditItem(a){this._editingController.isFormEditMode()&&(a.rowType="detail")},_getChangedColumnIndices(a,d,m,S){if(!1!==S||!d.isEditing||!this._editingController.isFormEditMode())return this.callBase.apply(this,arguments)}}},views:{rowsView:{_renderCellContent(a,d){"data"===d.rowType&&this._editingController.isPopupEditMode()&&!1===d.row.visible||this.callBase.apply(this,arguments)},getCellElements(a){var d=this.callBase(a),m=this._editingController,S=m.getEditForm();return m.getEditFormRowIndex()===a&&d&&S?S.$element().find(".".concat(this.addWidgetPrefix(j.VQ),", .").concat(j.aT)):d},_getVisibleColumnIndex(a,d,m){if(this._editingController.getEditFormRowIndex()===d&&(0,oe.Kg)(m)){var I=this._columnsController.columnOption(m);return this._getEditFormEditorVisibleIndex(a,I)}return this.callBase.apply(this,arguments)},_getEditFormEditorVisibleIndex(a,d){var m=-1;return(0,ae.__)(a,(S,I)=>{var N=(0,se.A)(I).find(".dx-field-item-content").data("dx-form-item");if(N?.column&&d&&N.column.index===d.index)return m=S,!1}),m},_isFormItem(a){var d="detail"===a.rowType||"detailAdaptive"===a.rowType,m="data"===a.rowType&&this._editingController.isPopupEditMode();return(d||m)&&a.item},_updateCell(a,d){this._isFormItem(d)?this._formItemPrepared(d,a):this.callBase(a,d)}}}}}},8274:(Mt,dt,i)=>{i.d(dt,{a:()=>_e});var be=i(5042),k=i(3586),_e={extenders:{controllers:{editing:he=>class extends he{isRowEditMode(){return this.getEditMode()===k.cy}_afterCancelEditData(Ce){var le=this._dataController;this.isRowBasedEditMode()&&Ce>=0?le.updateItems({changeType:"update",rowIndices:[Ce,Ce+1]}):super._afterCancelEditData(Ce)}_isDefaultButtonVisible(Ce,le){var ae=this.isRowBasedEditMode(),oe=le.row&&(0,be.RL)(le.row.key,this.option(k.D9));if(ae)switch(Ce.name){case"edit":return!oe&&this.allowUpdating(le);case"delete":return super._isDefaultButtonVisible(Ce,le)&&!oe;case"save":case"cancel":return oe;default:return super._isDefaultButtonVisible(Ce,le)}return super._isDefaultButtonVisible(Ce,le)}isEditRow(Ce){return this.isRowBasedEditMode()&&this.isEditRowByIndex(Ce)}_cancelSaving(Ce){this.isRowBasedEditMode()&&(this.hasChanges()||this._cancelEditDataCore()),super._cancelSaving(Ce)}_refreshCore(Ce){var{allowCancelEditing:le}=Ce??{};if(this.isRowBasedEditMode()){var ae=this.getChanges().filter(oe=>"update"===oe.type).length>0;this.init(),le&&ae&&this._cancelEditDataCore()}super._refreshCore(Ce)}_isEditColumnVisible(){var Ce=super._isEditColumnVisible(),le=this.option("editing"),ae=this.isRowEditMode();return Ce||ae&&(le.allowUpdating||le.allowAdding)}_focusEditorIfNeed(){var Ce=this.getEditMode();if(this._needFocusEditor){if(k.yP.includes(Ce)){var le=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(le,()=>{le&&this.component.focus(le)})}this._needFocusEditor=!1}}},data:{_getChangedColumnIndices(he,Ce,le,ae){if(!this.getController("editing").isRowBasedEditMode()||he.isEditing===Ce.isEditing)return this.callBase.apply(this,arguments)}}},views:{rowsView:{_createRow(he){var Ce=this.callBase.apply(this,arguments);return he&&this._editingController.isEditRow(he.rowIndex)&&(Ce.addClass(k.al),Ce.removeClass(k.gU),"detail"===he.rowType&&Ce.addClass(this.addWidgetPrefix(k.BL))),Ce},_update(he){this.callBase(he),"updateSelection"===he.changeType&&this.getTableElements().children("tbody").children(".".concat(k.al)).removeClass(k.gU)}}}}}},1531:(Mt,dt,i)=>{i.d(dt,{AU:()=>Ee,HQ:()=>he,Lx:()=>re,MF:()=>ee,N5:()=>ae,TG:()=>le,Xl:()=>Y,d5:()=>Ce,fV:()=>oe,i_:()=>P,nh:()=>q});var be=i(3992),k=i(2463),se="_DX_KEY_",he=function(j){return function(ue){var b=ue instanceof Error?ue:new Error(ue&&String(ue)||"Unknown error");j.reject(b)}},Ce=function(j,ue){return ue.isEditing||j&&ue.column.allowEditing},le=function(j,ue){var b=!!ue.column.command,c=Ce(j,ue);return"data"===ue.rowType&&!b&&(c||ue.column.showEditorAlways)},ae=j=>{var ue=j.component.option("editing.texts")||{};return{save:ue.saveRowChanges,cancel:ue.cancelRowChanges,edit:ue.editRow,undelete:ue.undeleteRow,delete:ue.deleteRow,add:ue.addRowToNode}},oe=()=>"".concat(se).concat(new be.A),ee=j=>"string"==typeof j&&j.startsWith(se)&&44===j.length,q=(j,ue)=>{var b=-1;return j.some((c,a)=>{if(P(c)===ue)return b=a,!0}),b};function P(j){return(0,k.Gv)(j)?j.name:j}function Y(j){return j&&(j.is("input")||j.is("textarea"))}var Ee=j=>{var ue,{column:b}=j;return j.isCustomEditorType?j.editorType:null===(ue=b.formItem)||void 0===ue?void 0:ue.editorType},re=(j,ue)=>{j.forEach(b=>{b.items||b.tabs?re(b.items||b.tabs,ue):ue(b)})}},2219:(Mt,dt,i)=>{i.d(dt,{k:()=>n});var be=i(4441),k=i(7669),se=i(4292),_e=i(9263),he=i(7951),Ce=i(448),le=i(186),ae=i(8060),oe=i(1269),ee=i(4159),q=i(9104),P=i(4626),Y=i(4895),Ee=i(5207),j="dx-cell-focus-disabled",d="focus-overlay",S="dx-focused",N="dxDataGridEditorFactory",xe=(0,q.b4)([ee.A.down,"focusin",ae.U].join(" "),N),Pe="dx-hidden",Ie=Y.A.ViewController.inherit(P.A),n={defaultOptions:()=>({}),controllers:{editorFactory:class B extends Ie{_getFocusedElement(o){var l=this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus",_="td[tabindex]:focus, ".concat(l,", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus, .dx-adaptive-item-text:focus"),h=o.find(_);return this.elementIsInsideGrid(h)&&h}_getFocusCellSelector(){return".dx-row > td"}_updateFocusCore(){var o=this.component&&this.component.$element();if(o){var l=this._getFocusedElement(o);if(l&&l.length){var _;if(!l.hasClass(j)&&!l.hasClass("dx-row")){var h=l.closest("".concat(this._getFocusCellSelector(),", .").concat(j));h.get(0)!==l.get(0)&&(_=this._needHideBorder(h),l=h)}if(l.length&&!l.hasClass(j))return void this.focus(l,_)}}this.loseFocus()}_needHideBorder(o){return o.hasClass("dx-editor-inline-block")}_updateFocus(o){var l=this,_=o&&o.event&&(0,se.A)(o.event.target).hasClass(l.addWidgetPrefix(d));l._isFocusOverlay=l._isFocusOverlay||_,clearTimeout(l._updateFocusTimeoutID),l._updateFocusTimeoutID=setTimeout(()=>{delete l._updateFocusTimeoutID,l._isFocusOverlay||l._updateFocusCore(),l._isFocusOverlay=!1})}_updateFocusOverlaySize(o,l){o.hide();var _=be.A.calculate(o,(0,he.X)({collision:"fit"},l));_.h.oversize>0&&(0,le.iT)(o,(0,le.Ot)(o)-_.h.oversize),_.v.oversize>0&&(0,le.NG)(o,(0,le.P$)(o)-_.v.oversize),o.show()}callbackNames(){return["focused"]}focus(o,l){var _=this;if(void 0===o)return _._$focusedElement;o&&(o.is(_._$focusedElement)||_._$focusedElement&&_._$focusedElement.removeClass(S),_._$focusedElement=o,clearTimeout(_._focusTimeoutID),_._focusTimeoutID=setTimeout(()=>{delete _._focusTimeoutID,_.renderFocusOverlay(o,l),o.addClass(S),_.focused.fire(o)}))}refocus(){var o=this.focus();this.focus(o)}renderFocusOverlay(o,l){if(Ee.A.isElementInCurrentGrid(this,o))if(this._$focusOverlay||(this._$focusOverlay=(0,se.A)("<div>").addClass(this.addWidgetPrefix(d))),l)this._$focusOverlay.addClass(Pe);else if(o.length){var _=_e.A.mozilla?"right bottom":"left top",h=o.closest(".".concat(this.addWidgetPrefix("content"))),C=(0,Ce.N)(o.get(0)),F=o.hasClass(this.addWidgetPrefix("invalid")),te=o.hasClass("dx-cell-modified")&&!F;this._$focusOverlay.removeClass(Pe).toggleClass("dx-focused-cell-invalid",F).toggleClass("dx-focused-cell-modified",te).appendTo(h),(0,le.NG)(this._$focusOverlay,C.bottom-C.top+1),(0,le.iT)(this._$focusOverlay,C.right-C.left+1);var X={precise:!0,my:_,at:_,of:o,boundary:h.length&&h};this._updateFocusOverlaySize(this._$focusOverlay,X),be.A.setup(this._$focusOverlay,X),this._$focusOverlay.css("visibility","visible")}}resize(){var o=this._$focusedElement;o&&this.focus(o)}loseFocus(){this._$focusedElement&&this._$focusedElement.removeClass(S),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(Pe)}init(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),this._subscribedContainerRoot=this._getContainerRoot(),oe.A.on(this._subscribedContainerRoot,xe,this._updateFocusHandler),this._attachContainerEventHandlers()}_getContainerRoot(){var o,l=null===(o=this.component)||void 0===o?void 0:o.$element(),_=k.A.getRootNode(l?.get(0));return _.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||_.host?_:k.A.getDocument()}_attachContainerEventHandlers(){var o=this,l=o.component&&o.component.$element();l&&oe.A.on(l,(0,q.b4)("keydown",N),_=>{"tab"===(0,q.YD)(_)&&o._updateFocusHandler(_)})}dispose(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),oe.A.off(this._subscribedContainerRoot,xe,this._updateFocusHandler)}}}}},1639:(Mt,dt,i)=>{i.d(dt,{y:()=>P});var be=i(4292),k=i(2101),se=i(8060),_e=i(1269),he=i(736),Ce=i(4895),le="dx-error-row",ae="dx-error-message",P={defaultOptions:()=>({errorRowEnabled:!0}),controllers:{errorHandling:Ce.A.ViewController.inherit({init(){this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView")},_createErrorRow(Y,Ee){var j,ue,re=this,b=this._renderErrorMessage(Y);return Ee?(j=(0,be.A)("<tr>").attr("role","row").addClass(le),ue=(0,be.A)("<div>").addClass("dx-closebutton").addClass(re.addWidgetPrefix("action")),_e.A.on(ue,se.U,re.createAction(c=>{var d,a=c.event,m=(0,be.A)(a.currentTarget).closest(".".concat(le)).index();a.stopPropagation(),(0,k.__)(Ee,(S,I)=>{d=(0,be.A)(I).children("tbody").children("tr").eq(m),re.removeErrorRow(d)}),re.getController("resizing")&&re.getController("resizing").fireContentReadyAction()})),(0,be.A)("<td>").attr({colSpan:re.getController("columns").getVisibleColumns().length,role:"gridcell"}).prepend(ue).append(b).appendTo(j),j):b},_renderErrorMessage(Y){var Ee=Y.url?Y.message.replace(Y.url,""):Y.message||Y,re=(0,be.A)("<div>").attr("role","alert").attr("aria-roledescription",he.A.format("dxDataGrid-ariaError")).addClass(ae).text(Ee);return Y.url&&(0,be.A)("<a>").attr("href",Y.url).text(Y.url).appendTo(re),re},renderErrorRow(Y,Ee,re){var ue,b,j=this;if(re)return re.find(".".concat(ae)).remove(),ue=j._createErrorRow(Y),re.prepend(ue),ue;var c=Ee>=0||!j._columnHeadersView.isVisible()?j._rowsView:j._columnHeadersView,a=c.getTableElements();(0,k.__)(a,(m,S)=>{if(ue=j._createErrorRow(Y,a),b=b||ue,Ee>=0){var I=c._getRowElements((0,be.A)(S)).eq(Ee);j.removeErrorRow(I.next()),ue.insertAfter(I)}else{var N=(0,be.A)(S).children("tbody"),xe=N.children("tr");j._columnHeadersView.isVisible()?(j.removeErrorRow(xe.last()),(0,be.A)(S).append(ue)):(j.removeErrorRow(xe.first()),N.first().prepend(ue))}});var d=j.getController("resizing");return d&&d.fireContentReadyAction(),b},removeErrorRow(Y){if(!Y){var Ee=this._columnHeadersView&&this._columnHeadersView.element();if(!(Y=Ee&&Ee.find(".".concat(le)))||!Y.length){var re=this._rowsView.element();Y=re&&re.find(".".concat(le))}}Y&&Y.hasClass(le)&&Y.remove()},optionChanged(Y){"errorRowEnabled"===Y.name?Y.handled=!0:this.callBase(Y)}})},extenders:{controllers:{data:{init(){var Y=this,Ee=Y.getController("errorHandling");Y.callBase(),Y.dataErrorOccurred.add((re,j)=>{Y.option("errorRowEnabled")&&Ee.renderErrorRow(re,void 0,j)}),Y.changed.add(re=>{if(!re||"loadError"!==re.changeType){var j=Y.getController("errorHandling"),ue=Y.getController("editing");ue&&!ue.hasChanges()&&j&&j.removeErrorRow()}})}}}}}},848:(Mt,dt,i)=>{i.d(dt,{s:()=>Ne});var be=i(4292),k=i(7951),se=i(736),_e=i(7669),he=i(6221),Ce=i(1269),le=i(8041),ae=i(4905),oe=i(2984),ee=i(2463),q=i(8321),P=i(4633),Y=i(7946),Ee=i(4626),re=i(9104),j=i(4744),ue="dx-filterbuilder",b=ue+"-group",c=b+"-item",a=b+"-content",d=b+"-operations",m=b+"-operation",S=ue+"-action",I=S+"-icon",Pe=ue+"-text",Ie=ue+"-item-field",B=ue+"-item-operation",n=ue+"-item-value",g=ue+"-item-value-text",o=ue+"-overlay",l=ue+"-operations",_=ue+"-fields",h=ue+"-add-condition",C="dx-state-active",F=ue+"-menu-custom-operation",te="filterBuilder",He="enter",Z="escape",D=[{name:"onEditorPreparing",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onEditorPrepared",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onValueChanged",config:{excludeValidators:["disabled","readOnly"]}}],U={and:"and",or:"or",notAnd:"!and",notOr:"!or"},p=he.A.inherit(Ee.A),w=le.A.inherit({_getDefaultOptions:function(){return(0,k.X)(this.callBase(),{onEditorPreparing:null,onEditorPrepared:null,onValueChanged:null,fields:[],groupOperations:["and","or","notAnd","notOr"],maxGroupLevel:void 0,value:null,allowHierarchicalFields:!1,groupOperationDescriptions:{and:se.A.format("dxFilterBuilder-and"),or:se.A.format("dxFilterBuilder-or"),notAnd:se.A.format("dxFilterBuilder-notAnd"),notOr:se.A.format("dxFilterBuilder-notOr")},customOperations:[],closePopupOnTargetScroll:!0,filterOperationDescriptions:{between:se.A.format("dxFilterBuilder-filterOperationBetween"),equal:se.A.format("dxFilterBuilder-filterOperationEquals"),notEqual:se.A.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:se.A.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:se.A.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:se.A.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:se.A.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:se.A.format("dxFilterBuilder-filterOperationStartsWith"),contains:se.A.format("dxFilterBuilder-filterOperationContains"),notContains:se.A.format("dxFilterBuilder-filterOperationNotContains"),endsWith:se.A.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:se.A.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:se.A.format("dxFilterBuilder-filterOperationIsNotBlank")}})},_optionChanged:function(T){switch(T.name){case"closePopupOnTargetScroll":break;case"onEditorPreparing":case"onEditorPrepared":case"onValueChanged":this._initActions();break;case"customOperations":this._initCustomOperations(),this._invalidate();break;case"fields":case"maxGroupLevel":case"groupOperations":case"allowHierarchicalFields":case"groupOperationDescriptions":case"filterOperationDescriptions":this._invalidate();break;case"value":if(T.value!==T.previousValue){var r=this._disableInvalidateForValue;r||(this._initModel(),this._invalidate()),this._disableInvalidateForValue=!1,this.executeAction("onValueChanged",{value:T.value,previousValue:T.previousValue}),this._disableInvalidateForValue=r}break;default:this.callBase(T)}},getFilterExpression:function(){var T=this._getNormalizedFields(),r=(0,k.X)(!0,[],this._model);return(0,j.zk)((0,j.SK)(r),T,this._customOperations,te)},_getNormalizedFields:function(){return(0,j.NP)(this.option("fields"))},_updateFilter:function(){this._disableInvalidateForValue=!0;var T=(0,k.X)(!0,[],this._model),r=(0,j.SK)(T),v=(0,j.SK)(this._getModel(this.option("value")));JSON.stringify(v)!==JSON.stringify(r)&&this.option("value",r),this._disableInvalidateForValue=!1,this._fireContentReadyAction()},_init:function(){this._initCustomOperations(),this._initModel(),this._initEditorFactory(),this._initActions(),this.callBase()},_initEditorFactory:function(){this._editorFactory=new p},_initCustomOperations:function(){this._customOperations=(0,j.BK)(this.option("customOperations"),this.option("filterOperationDescriptions.between"),this)},_getDefaultGroupOperation:function(){var T,r;return null!==(T=null===(r=this.option("groupOperations"))||void 0===r?void 0:r[0])&&void 0!==T?T:U.and},_getModel:function(T){return(0,j.M7)(T,this._customOperations,this._getDefaultGroupOperation())},_initModel:function(){this._model=this._getModel(this.option("value"))},_initActions:function(){var T=this;T._actions={},D.forEach(function(r){var v=(0,k.X)({},r.config);T._actions[r.name]=T._createActionByOption(r.name,v)})},executeAction:function(T,r){var v=this._actions[T];return v&&v(r)},_initMarkup:function(){this.$element().addClass(ue),this.callBase(),this._createGroupElementByCriteria(this._model).appendTo(this.$element())},_createConditionElement:function(T,r){return(0,be.A)("<div>").addClass(b).append(this._createConditionItem(T,r))},_createGroupElementByCriteria:function(T,r){for(var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=this._createGroupElement(T,r,v),s=f.find("."+a),t=(0,j.j_)(T),u=0;u<t.length;u++){var y=t[u];(0,j.IZ)(y)?this._createGroupElementByCriteria(y,T,v+1).appendTo(s):(0,j.G3)(y)&&this._createConditionElement(y,T).appendTo(s)}return f},_createGroupElement:function(T,r,v){var f=(0,be.A)("<div>").addClass(c),s=(0,be.A)("<div>").addClass(a),t=(0,be.A)("<div>").addClass(b).append(f).append(s);return null!=r&&this._createRemoveButton(()=>{(0,j.Ai)(r,T),t.remove(),this._updateFilter()}).appendTo(f),this._createGroupOperationButton(T).appendTo(f),this._createAddButton(()=>{var u=(0,j.LH)(this._getDefaultGroupOperation());(0,j.B5)(u,T),this._createGroupElement(u,T,v+1).appendTo(s),this._updateFilter()},()=>{var u=this.option("fields")[0],y=(0,j.qB)(u,this._customOperations);(0,j.B5)(y,T),this._createConditionElement(y,T).appendTo(s),this._updateFilter()},v).appendTo(f),t},_createButton:function(T){return(0,be.A)("<div>").text(T)},_createGroupOperationButton:function(T){var r=this._getGroupOperations(T),v=(0,j.uN)(T,r),f=v.text,s=r&&r.length<2?this._createButton(f).addClass("dx-state-disabled"):this._createButtonWithMenu({caption:f,menu:{items:r,displayExpr:"text",keyExpr:"value",onItemClick:t=>{v!==t.itemData&&((0,j.rK)(T,t.itemData.value),s.text(t.itemData.text),v=t.itemData,this._updateFilter())},onContentReady:function(t){t.component.selectItem(v)},cssClass:d}});return s.addClass(Pe).addClass(m).attr("tabindex",0)},_createButtonWithMenu:function(T){var u,r=this,v=function(){r.$element().find("."+C).removeClass(C),r.$element().find(".dx-overlay .dx-treeview").remove(),r.$element().find(".dx-overlay").remove()},f=this.option("rtlEnabled"),s=f?"right":"left",t=this._createButton(T.caption);return(0,k.X)(T.menu,{focusStateEnabled:!0,selectionMode:"single",onItemClick:(u=T.menu.onItemClick,function(y){u(y),"dxclick"===y.event.type&&v()}),onHiding:function(y){t.removeClass(C)},position:{my:s+" top",at:s+" bottom",offset:"0 1",of:t,collision:"flip"},animation:null,onHidden:function(){v()},cssClass:o+" "+T.menu.cssClass,rtlEnabled:f}),T.popup={onShown:function(y){var K=(0,be.A)(y.component.content()).find(".dx-treeview"),pe=K.dxTreeView("instance");Ce.A.on(K,"keyup keydown",function(we){var R=(0,re.YD)(we);("keydown"===we.type&&"tab"===R||"keyup"===we.type&&(R===Z||R===He))&&(y.component.hide(),Ce.A.trigger(T.menu.position.of,"focus"))}),pe.focus(),pe.option("focusedElement",null)}},this._subscribeOnClickAndEnterKey(t,function(){v(),r._createPopupWithTreeView(T,r.$element()),t.addClass(C)}),t},_hasValueButton:function(T){var r=(0,j.D3)(this._customOperations,T[1]);return r?!1!==r.hasValue:null!==T[2]},_createOperationButtonWithMenu:function(T,r){var v=this,f=(0,j.GC)(r,this.option("filterOperationDescriptions"),this._customOperations),s=(0,j.Zh)((0,j.tg)(T),f),t=this._createButtonWithMenu({caption:s.text,menu:{items:f,displayExpr:"text",onItemRendered:function(u){u.itemData.isCustom&&(0,be.A)(u.itemElement).addClass(F)},onContentReady:function(u){u.component.selectItem(s)},onItemClick:u=>{if(s!==u.itemData){(0,j.d0)(T,(s=u.itemData).value,v._customOperations);var y=t.siblings().filter("."+n);v._hasValueButton(T)?(0!==y.length&&y.remove(),v._createValueButton(T,r).appendTo(t.parent())):y.remove(),t.html(s.text),this._updateFilter()}},cssClass:l}}).addClass(Pe).addClass(B).attr("tabindex",0);return t},_createOperationAndValueButtons:function(T,r,v){this._createOperationButtonWithMenu(T,r).appendTo(v),this._hasValueButton(T)&&this._createValueButton(T,r).appendTo(v)},_createFieldButtonWithMenu:function(T,r,v){var f=this,s=this.option("allowHierarchicalFields"),t=(0,j.JS)(T,s),u=(0,j.VI)(v.name||v.dataField,t),y=function(pe,we){return s?(0,j.WI)(pe,we):pe.caption},K=this._createButtonWithMenu({caption:y(u,t),menu:{items:t,dataStructure:"plain",keyExpr:"id",parentId:"parentId",displayExpr:"caption",onItemClick:pe=>{if(u!==pe.itemData){r[0]=(u=pe.itemData).name||u.dataField,r[2]="object"===u.dataType?null:"",(0,j.d0)(r,(0,j.PZ)(u),f._customOperations),K.siblings().filter("."+Pe).remove(),f._createOperationAndValueButtons(r,u,K.parent());var we=y(u,pe.component.option("items"));K.html(we),this._updateFilter()}},onContentReady:function(pe){pe.component.selectItem(u)},cssClass:_}}).addClass(Pe).addClass(Ie).attr("tabindex",0);return K},_createConditionItem:function(T,r){var v=(0,be.A)("<div>").addClass(c),f=this._getNormalizedFields(),s=(0,j.VI)(T[0],f);return this._createRemoveButton(()=>{(0,j.Ai)(r,T),1===v.parent().children().length?v.parent().remove():v.remove(),this._updateFilter()}).appendTo(v),this._createFieldButtonWithMenu(f,T,s).appendTo(v),this._createOperationAndValueButtons(T,s,v),v},_getGroupOperations:function(T){var r=this.option("groupOperations"),v=this.option("groupOperationDescriptions");return(!r||!r.length)&&(r=[(0,j.Bd)(T).replace("!","not")]),r.map(f=>({text:v[f],value:U[f]}))},_createRemoveButton:function(T){var r=(0,be.A)("<div>").addClass(I).addClass("dx-icon-remove").addClass(S).attr("tabindex",0);return this._subscribeOnClickAndEnterKey(r,T),r},_createAddButton:function(T,r,v){var f,s=this.option("maxGroupLevel");return(0,ee.O9)(s)&&v>=s?(f=this._createButton(),this._subscribeOnClickAndEnterKey(f,r)):f=this._createButtonWithMenu({menu:{items:[{caption:se.A.format("dxFilterBuilder-addCondition"),click:r},{caption:se.A.format("dxFilterBuilder-addGroup"),click:T}],displayExpr:"caption",onItemClick:function(t){t.itemData.click()},cssClass:h}}),f.addClass(I).addClass("dx-icon-plus").addClass(S).attr("tabindex",0)},_createValueText:function(T,r,v){var f=this,s=(0,be.A)("<div>").html("&nbsp;").addClass(g).attr("tabindex",0).appendTo(v),t=T[2],u=(0,j.D3)(f._customOperations,T[1]);return!u&&r.lookup?(0,j.yy)(r,t,function(y){(0,j.rx)(s,y)}):(0,oe.z7)((0,j.GT)(r,t,u)).done(y=>{(0,j.rx)(s,y,u)}),f._subscribeOnClickAndEnterKey(s,function(y){"keyup"===y.type&&y.stopPropagation(),f._createValueEditorWithEvents(T,r,v)}),s},_updateConditionValue:function(T,r,v){T[2]!==r&&(T[2]=r),v(),this._updateFilter()},_addDocumentKeyUp:function(T,r){var v=!1,f=!1,s=_e.A.getDocument(),t=y=>{v||f?f=!1:r(y)};Ce.A.on(s,"keyup",t);var u=T.find("input");Ce.A.on(u,"compositionstart",()=>{v=!0}),Ce.A.on(u,"compositionend",()=>{v=!1,f=!0}),Ce.A.on(u,"keydown",y=>{229!==y.which&&(f=!1)}),this._documentKeyUpHandler=t},_addDocumentClick:function(T,r){var v=_e.A.getDocument(),f=s=>{this._isFocusOnEditorParts(T,s.target)||(Ce.A.trigger(T.find("input"),"change"),r())};Ce.A.on(v,"dxpointerdown",f),this._documentClickHandler=f},_isFocusOnEditorParts:function(T,r){var v=r||_e.A.getActiveElement();return(0,be.A)(v).closest(T.children()).length||(0,be.A)(v).closest(".dx-dropdowneditor-overlay").length},_removeEvents:function(){var T=_e.A.getDocument();(0,ee.O9)(this._documentKeyUpHandler)&&Ce.A.off(T,"keyup",this._documentKeyUpHandler),(0,ee.O9)(this._documentClickHandler)&&Ce.A.off(T,"dxpointerdown",this._documentClickHandler)},_dispose:function(){this._removeEvents(),this.callBase()},_createValueEditorWithEvents:function(T,r,v){var f=T[2],s=()=>(v.empty(),this._removeEvents(),this._createValueText(T,r,v)),t=()=>{this._updateConditionValue(T,f,function(){s()})},u={value:""===f?null:f,filterOperation:(0,j.tg)(T),setValue:function(K){f=null===K?"":K},closeEditor:t,text:v.text()};v.empty();var y=this._createValueEditor(v,r,u);Ce.A.trigger(y.find("input").not(":hidden").eq(0),"focus"),this._removeEvents(),this._addDocumentClick(y,t),this._addDocumentKeyUp(y,K=>{var pe=(0,re.YD)(K);if("tab"===pe){if(this._isFocusOnEditorParts(y))return;this._updateConditionValue(T,f,function(){s(),K.shiftKey&&Ce.A.trigger(v.prev(),"focus")})}pe===Z&&Ce.A.trigger(s(),"focus"),pe===He&&this._updateConditionValue(T,f,function(){Ce.A.trigger(s(),"focus")})}),this._fireContentReadyAction()},_createValueButton:function(T,r){var v=(0,be.A)("<div>").addClass(Pe).addClass(n);return this._createValueText(T,r,v),v},_createValueEditor:function(T,r,v){var f=(0,be.A)("<div>").attr("tabindex",0).appendTo(T),s=(0,j.D3)(this._customOperations,v.filterOperation),t=s&&s.editorTemplate?s.editorTemplate:r.editorTemplate;return t?this._getTemplate(t).render({model:(0,k.X)({field:r},v),container:f}):this._editorFactory.createEditor.call(this,f,(0,k.X)({},r,v,{parentType:te})),f},_createPopupWithTreeView:function(T,r){var v=this,f=(0,be.A)("<div>").addClass(T.menu.cssClass).appendTo(r);this._createComponent(f,P.A,{onHiding:T.menu.onHiding,onHidden:T.menu.onHidden,rtlEnabled:T.menu.rtlEnabled,position:T.menu.position,animation:T.menu.animation,contentTemplate:function(s){var t=(0,be.A)("<div>").appendTo(s);v._createComponent(t,q.A,T.menu),this.repaint()},_ignoreFunctionValueDeprecation:!0,maxHeight:function(){return(0,Y.J)(T.menu.position.of)},visible:!0,focusStateEnabled:!1,hideOnParentScroll:this.option("closePopupOnTargetScroll"),hideOnOutsideClick:!0,onShown:T.popup.onShown,shading:!1,width:"auto",height:"auto",showTitle:!1,_wrapperClassExternal:T.menu.cssClass})},_subscribeOnClickAndEnterKey:function(T,r){Ce.A.on(T,"dxclick",r),Ce.A.on(T,"keyup",function(v){(0,re.YD)(v)===He&&r(v)})}});(0,ae.A)("dxFilterBuilder",w);const J=w;var $=i(6121),ye=i(2328),Ne={defaultOptions:()=>({filterBuilder:{groupOperationDescriptions:{and:se.A.format("dxFilterBuilder-and"),or:se.A.format("dxFilterBuilder-or"),notAnd:se.A.format("dxFilterBuilder-notAnd"),notOr:se.A.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:se.A.format("dxFilterBuilder-filterOperationBetween"),equal:se.A.format("dxFilterBuilder-filterOperationEquals"),notEqual:se.A.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:se.A.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:se.A.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:se.A.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:se.A.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:se.A.format("dxFilterBuilder-filterOperationStartsWith"),contains:se.A.format("dxFilterBuilder-filterOperationContains"),notContains:se.A.format("dxFilterBuilder-filterOperationNotContains"),endsWith:se.A.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:se.A.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:se.A.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}),views:{filterBuilderView:i(4895).A.View.inherit({_renderCore(){this._updatePopupOptions()},_updatePopupOptions(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()},_disposePopup(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)},_initPopup(){var T=this;T._disposePopup(),T._filterBuilderPopup=T._createComponent(T.element(),P.A,(0,k.X)({title:se.A.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:r=>T._getPopupContentTemplate(r),onOptionChanged(r){"visible"===r.name&&T.option("filterBuilderPopup.visible",r.value)},toolbarItems:T._getPopupToolbarItems()},T.option("filterBuilderPopup"),{onHidden(){(0,ye.Dy)(T),T._disposePopup()}}))},_getPopupContentTemplate(T){var r=(0,be.A)(T),v=(0,be.A)("<div>").appendTo((0,be.A)(T));this._filterBuilder=this._createComponent(v,J,(0,k.X)({value:this.option("filterValue"),fields:this.getController("columns").getFilteringColumns()},this.option("filterBuilder"),{customOperations:this.getController("filterSync").getCustomFilterOperations()})),this._createComponent(r,$.A,{direction:"both"})},_getPopupToolbarItems(){var T=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:se.A.format("OK"),onClick(){var r=T._filterBuilder.option("value");T.option("filterValue",r),T._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:se.A.format("Cancel"),onClick(){T._filterBuilderPopup.hide()}}}]},optionChanged(T){switch(T.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),T.handled=!0;break;default:this.callBase(T)}}})}}},2570:(Mt,dt,i)=>{i.d(dt,{$:()=>c});var be=i(4292),k=i(2984),se=i(8745),_e=i(2463),he=i(1269),Ce=i(736),le=i(9454),ae=i(4744),oe=i(7805),ee=i(4895),q=i(5207),P="filter-panel",Y="".concat(P,"-text"),Ee="".concat(P,"-checkbox"),re="".concat(P,"-clear-filter"),j="".concat(P,"-left"),c={defaultOptions:()=>({filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:Ce.A.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:Ce.A.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:Ce.A.format("dxDataGrid-filterPanelFilterEnabledHint")}}}),views:{filterPanelView:ee.A.View.inherit({isVisible(){return this.option("filterPanel.visible")&&this.getController("data").dataSource()},init(){this.getController("data").dataSourceChanged.add(()=>this.render()),this._columnsController=this.getController("columns")},_renderCore(){var a=this.element();if(a.empty(),this._columnsController.getColumns().length){a.addClass(this.addWidgetPrefix(P));var m=(0,be.A)("<div>").addClass(this.addWidgetPrefix(j)).appendTo(a);this._renderFilterBuilderText(a,m)}},_renderFilterBuilderText(a,d){var m=this._getFilterElement(),S=this._getTextElement();if(this.option("filterValue")||this._filterValueBuffer){var I=this._getCheckElement(),N=this._getRemoveButtonElement();return d.append(I).append(m).append(S),void a.append(N)}d.append(m).append(S)},_getCheckElement(){var a=this,d=(0,be.A)("<div>").addClass(this.addWidgetPrefix(Ee));return a._createComponent(d,le.A,{value:a.option("filterPanel.filterEnabled"),onValueChanged(m){a.option("filterPanel.filterEnabled",m.value)}}),d.attr("title",this.option("filterPanel.texts.filterEnabledHint")),d},_getFilterElement(){var a=this,d=(0,be.A)("<div>").addClass("dx-icon-filter");return he.A.on(d,"click",()=>a._showFilterBuilder()),(0,oe.j)("filterPanel",a,d,void 0,()=>a._showFilterBuilder()),a._addTabIndexToElement(d),d},_getTextElement(){var m,a=this,d=(0,be.A)("<div>").addClass(a.addWidgetPrefix(Y)),S=a.option("filterValue");return S?(0,k.z7)(a.getFilterText(S,a.getController("filterSync").getCustomFilterOperations())).done(I=>{var N=a.option("filterPanel.customizeText");if(N){var xe=N({component:a.component,filterValue:S,text:I});"string"==typeof xe&&(I=xe)}d.text(I)}):(m=a.option("filterPanel.texts.createFilter"),d.text(m)),he.A.on(d,"click",()=>a._showFilterBuilder()),(0,oe.j)("filterPanel",a,d,void 0,()=>a._showFilterBuilder()),a._addTabIndexToElement(d),d},_showFilterBuilder(){this.option("filterBuilderPopup.visible",!0)},_getRemoveButtonElement(){var a=this,d=()=>a.option("filterValue",null),m=(0,be.A)("<div>").addClass(a.addWidgetPrefix(re)).text(a.option("filterPanel.texts.clearFilter"));return he.A.on(m,"click",d),(0,oe.j)("filterPanel",this,m,void 0,d),a._addTabIndexToElement(m),m},_addTabIndexToElement(a){if(!this.option("useLegacyKeyboardNavigation")){var d=this.option("tabindex")||0;a.attr("tabindex",d)}},optionChanged(a){switch(a.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),a.handled=!0;break;case"filterPanel":this._invalidate(),a.handled=!0;break;default:this.callBase(a)}},_getConditionText(a,d,m){var S="[".concat(a,"] ").concat(d);return(0,_e.O9)(m)&&(S+=m),S},_getValueMaskedText:a=>Array.isArray(a)?"('".concat(a.join("', '"),"')"):" '".concat(a,"'"),_getValueText(a,d,m){var S=new k.cY,I=d&&d.customizeText;if((0,_e.O9)(m)||I)if(!I&&a.lookup)(0,ae.yy)(a,m,xe=>{S.resolve(this._getValueMaskedText(xe))});else{var N=Array.isArray(m)?m:q.A.getDisplayValue(a,m,null);(0,k.z7)((0,ae.GT)(a,N,d,"filterPanel")).done(xe=>{S.resolve(this._getValueMaskedText(xe))})}else S.resolve("");return S.promise()},getConditionText(a,d){var xe,m=this,S=a[1],I=new k.cY,N=(0,ae.D3)(d.customOperations,S),Pe=(0,ae.VI)(a[0],d.columns),Ie=Pe.caption||"",B=a[2];return xe=N?N.caption||(0,se.Bc)(N.name):(0,ae.PQ)(null===B?"="===S?"isblank":"isnotblank":S,d.filterOperationDescriptions),this._getValueText(Pe,N,B).done(n=>{I.resolve(m._getConditionText(Ie,xe,n))}),I},getGroupText(a,d,m){var S=this,I=new k.cY,N=[],xe=(0,ae.Bd)(a);return a.forEach(Pe=>{(0,ae.G3)(Pe)?N.push(S.getConditionText(Pe,d)):(0,ae.IZ)(Pe)&&N.push(S.getGroupText(Pe,d,!0))}),k.z7.apply(this,N).done(function(){for(var Pe,Ie=arguments.length,B=new Array(Ie),n=0;n<Ie;n++)B[n]=arguments[n];if(xe.startsWith("!")){var g=d.groupOperationDescriptions["not".concat(xe.substring(1,2).toUpperCase()).concat(xe.substring(2))].split(" ");Pe="".concat(g[0]," ").concat(B[0])}else Pe=B.join(" ".concat(d.groupOperationDescriptions[xe]," "));m&&(Pe="(".concat(Pe,")")),I.resolve(Pe)}),I},getFilterText(a,d){var m={customOperations:d,columns:this.getController("columns").getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return(0,ae.G3)(a)?this.getConditionText(a,m):this.getGroupText(a,m)}})},extenders:{controllers:{data:{optionChanged(a){"filterPanel"===a.name?(this._applyFilter(),a.handled=!0):this.callBase(a)}}}}}},170:(Mt,dt,i)=>{i.d(dt,{$:()=>At});var be=i(8168),k=i(4292),se=i(5042),_e=i(7951),he=i(2101),Ce=i(186),le=i(2463),ae=i(1269),oe=i(9104),ee=i(736),q=i(4831),P=i(4905),Y=i(181),Ee=i(7946),re=i(4159),j=i(4017),ue=i(1542),b=i(6022),c=i(4441),a=i(458);const I=class S extends a.A{_getDefaultOptions(){return(0,_e.X)(super._getDefaultOptions(),{orientation:"horizontal",tabIndex:null,onHoverStart:se.lQ})}_initDataAdapter(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||super._initDataAdapter()}_renderContentImpl(){this._renderContextMenuOverlay(),super._renderContentImpl();var Fe=this._dataAdapter.getNodeByKey(this.option("_parentKey"));Fe&&this._renderItems(this._getChildNodes(Fe)),this._renderDelimiter()}_renderDelimiter(){this.$contentDelimiter=(0,k.A)("<div>").appendTo(this._itemContainer()).addClass("dx-context-menu-content-delimiter")}_getOverlayOptions(){return(0,_e.X)(!0,super._getOverlayOptions(),{onPositioned:this._overlayPositionedActionHandler.bind(this),position:{precise:!0}})}_overlayPositionedActionHandler(Fe){this._showDelimiter(Fe)}_hoverEndHandler(Fe){super._hoverEndHandler(Fe),this._toggleFocusClass(!1,Fe.currentTarget)}_isMenuHorizontal(){return"horizontal"===this.option("orientation")}_hoverStartHandler(Fe){this.option("onHoverStart")(Fe),super._hoverStartHandler(Fe),this._toggleFocusClass(!0,Fe.currentTarget)}_drawSubmenu(Fe){this._actions.onShowing({rootItem:(0,Y.c)(Fe),submenu:this}),super._drawSubmenu(Fe),this._actions.onShown({rootItem:(0,Y.c)(Fe),submenu:this})}_hideSubmenu(Fe){this._actions.onHiding({cancel:!0,rootItem:(0,Y.c)(Fe),submenu:this}),super._hideSubmenu(Fe),this._actions.onHidden({rootItem:(0,Y.c)(Fe),submenu:this})}_showDelimiter(Fe){if(this.$contentDelimiter){var Je=this._itemContainer().children(".".concat("dx-submenu")).eq(0),vt=this.option("position").of.find(".dx-context-menu-container-border"),Ot={of:Je,precise:!0},it=Fe.position,De=it.v.location,O=it.h.location,Q=vt.offset(),ve=Math.round(Q.left),We=Math.round(Q.top),L=(0,Ce.RG)(vt),ie=(0,Ce.Oq)(vt),me=(0,Ce.RG)(Je),ke=(0,Ce.Oq)(Je);this.$contentDelimiter.css("display","block"),(0,Ce.zj)(this.$contentDelimiter,this._isMenuHorizontal()?L<me?L:me:3),(0,Ce.k$)(this.$contentDelimiter,this._isMenuHorizontal()?3:ie<ke?ie:ke),this._isMenuHorizontal()?De>We?Math.round(O)===ve?(Ot.offset="0 -2.5",Ot.at=Ot.my="left top"):(Ot.offset="0 -2.5",Ot.at=Ot.my="right top"):((0,Ce.k$)(this.$contentDelimiter,5),Math.round(O)===ve?(Ot.offset="0 5",Ot.at=Ot.my="left bottom"):(Ot.offset="0 5",Ot.at=Ot.my="right bottom")):O>ve?Math.round(De)===We?(Ot.offset="-2.5 0",Ot.at=Ot.my="left top"):(Ot.offset="-2.5 0",Ot.at=Ot.my="left bottom"):Math.round(De)===We?(Ot.offset="2.5 0",Ot.at=Ot.my="right top"):(Ot.offset="2.5 0",Ot.at=Ot.my="right bottom"),c.A.setup(this.$contentDelimiter,Ot)}}_getContextMenuPosition(){return this.option("position")}isOverlayVisible(){return this._overlay.option("visible")}getOverlayContent(){return this._overlay.$content()}};var N=i(2839),xe=i(8321),Pe="dx-menu",Ie=Pe+"-vertical",B=Pe+"-horizontal",n=Pe+"-item",g=Pe+"-items-container",o=n+"-expanded",l="dx-context-menu",_=l+"-container-border",te="dx-state-hover",ge=Pe+"-adaptive-mode",He=Pe+"-hamburger-button",Z=ge+"-overlay-wrapper",V="showSubmenu",J="nextItem",$="prevItem",ye={show:50,hide:300},de=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"];class Te extends ue.A{_getDefaultOptions(){return(0,_e.X)(super._getDefaultOptions(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}_setOptionsByReference(){super._setOptionsByReference(),(0,_e.X)(this._optionsByReference,{animation:!0,selectedItem:!0})}_itemElements(){var Fe=super._itemElements(),Je=this._submenuItemElements();return Fe.add(Je)}_submenuItemElements(){var Fe=[],Je=".".concat(n),vt=this._submenus.length&&this._submenus[0];return vt&&vt.itemsContainer()&&(Fe=vt.itemsContainer().find(Je)),Fe}_focusTarget(){return this.$element()}_isMenuHorizontal(){return"horizontal"===this.option("orientation")}_moveFocus(Fe){var De,Q,Je=this._getAvailableItems(),vt=this._isMenuHorizontal(),Ot=this._getActiveItem(!0);switch(Fe){case"up":De=vt?V:this._getItemsNavigationOperation($),Q=this._getKeyboardNavigationAction(De,vt?Ot:Je)();break;case"down":De=vt?V:this._getItemsNavigationOperation(J),Q=this._getKeyboardNavigationAction(De,vt?Ot:Je)();break;case"right":De=vt?this._getItemsNavigationOperation(J):V,Q=this._getKeyboardNavigationAction(De,vt?Je:Ot)();break;case"left":De=vt?this._getItemsNavigationOperation($):V,Q=this._getKeyboardNavigationAction(De,vt?Je:Ot)();break;default:return super._moveFocus(Fe)}Q&&0!==Q.length&&this.option("focusedElement",(0,Y.c)(Q))}_getItemsNavigationOperation(Fe){var Je=Fe;return this.option("rtlEnabled")&&(Je=Fe===$?J:$),Je}_getKeyboardNavigationAction(Fe,Je){var vt=se.lQ;switch(Fe){case V:Je.hasClass("dx-state-disabled")||(vt=this._showSubmenu.bind(this,Je));break;case J:vt=this._nextItem.bind(this,Je);break;case $:vt=this._prevItem.bind(this,Je)}return vt}_clean(){super._clean(),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}_visibilityChanged(Fe){Fe&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}_isAdaptivityEnabled(){return this.option("adaptivityEnabled")&&"horizontal"===this.option("orientation")}_updateItemsWidthCache(){var Fe=this.$element().find("ul").first().children("li").children(".".concat(n));this._menuItemsWidth=this._getSummaryItemsSize("width",Fe,!0)}_dimensionChanged(){if(this._isAdaptivityEnabled()){var Fe=(0,Ce.Ot)(this.$element());this._toggleAdaptiveMode(this._menuItemsWidth>Fe)}}_init(){super._init(),this._submenus=[]}_initActions(){this._actions={},(0,he.__)(de,(Fe,Je)=>{this._actions[Je]=this._createActionByOption(Je)})}_initMarkup(){this._visibleSubmenu=null,this.$element().addClass(Pe),super._initMarkup(),this._addCustomCssClass(this.$element()),this.setAria("role","menubar")}_render(){super._render(),this._initAdaptivity()}_renderHamburgerButton(){return this._hamburger=new N.A((0,k.A)("<div>").addClass(He),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}_toggleTreeView(Fe){(0,le.Qd)(Fe)&&(Fe=!this._overlay.option("visible")),this._overlay.option("visible",Fe),this._toggleHamburgerActiveState(Fe)}_toggleHamburgerActiveState(Fe){this._hamburger&&this._hamburger.$element().toggleClass("dx-state-active",Fe)}_toggleAdaptiveMode(Fe){var Je=this.$element().find(".".concat(B)),vt=this.$element().find(".".concat(ge));Fe?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(Fe)),Je.toggle(!Fe),vt.toggle(Fe)}_removeAdaptivity(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}_treeviewItemClickHandler(Fe){this._actions.onItemClick(Fe),Fe.node.children.length||this._toggleTreeView(!1)}_getAdaptiveOverlayOptions(){var Je=this.option("rtlEnabled")?"right":"left";return{_ignoreFunctionValueDeprecation:!0,maxHeight:()=>(0,Ee.J)(this.$element()),deferRendering:!1,shading:!1,animation:!1,hideOnParentScroll:!0,onHidden:()=>{this._toggleHamburgerActiveState(!1)},height:"auto",hideOnOutsideClick:vt=>!(0,k.A)(vt.target).closest(".".concat(He)).length,position:{collision:"flipfit",at:"bottom "+Je,my:"top "+Je,of:this._hamburger.$element()}}}_getTreeViewOptions(){var Fe={};return(0,he.__)(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],(Je,vt)=>{Fe[vt]=this.option(vt)}),(0,he.__)(["onItemContextMenu","onSelectionChanged","onItemRendered"],(Je,vt)=>{Fe[vt]=Ot=>{this._actions[vt](Ot)}}),(0,_e.X)(Fe,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:Je=>{this._overlay.repaint(),this._actions.onSubmenuShown(Je)},onItemCollapsed:Je=>{this._overlay.repaint(),this._actions.onSubmenuHidden(Je)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click"})}_initAdaptivity(){if(this._isAdaptivityEnabled()){this._$adaptiveContainer=(0,k.A)("<div>").addClass(ge);var Fe=this._renderHamburgerButton();this._treeView=this._createComponent((0,k.A)("<div>"),xe.A,this._getTreeViewOptions()),this._overlay=this._createComponent((0,k.A)("<div>"),b.A,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass(ge).addClass(this.option("cssClass")),this._overlay.$wrapper().addClass(Z),this._$adaptiveContainer.append(Fe),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}}_getDelay(Fe){var Je=this.option("showFirstSubmenuMode").delay;return(0,le.O9)(Je)?(0,le.Gv)(Je)?Je[Fe]:Je:ye[Fe]}_keyboardHandler(Fe){return super._keyboardHandler(Fe,!!this._visibleSubmenu)}_renderContainer(){var Fe=(0,k.A)("<div>");return Fe.appendTo(this.$element()).addClass(this._isMenuHorizontal()?B:Ie),super._renderContainer(Fe)}_renderSubmenuItems(Fe,Je){var vt=this._createSubmenu(Fe,Je);return this._submenus.push(vt),this._renderBorderElement(Je),vt}_getKeyboardListeners(){return super._getKeyboardListeners().concat(this._visibleSubmenu)}_createSubmenu(Fe,Je){var vt=(0,k.A)("<div>").addClass(l).appendTo(Je),Ot=this._getChildNodes(Fe),it=this._createComponent(vt,I,(0,_e.X)(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:Fe.internalFields.key,items:Ot,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(Je)}));return this._attachSubmenuHandlers(Je,it),it}_getSubmenuOptions(){var Fe=(0,k.A)("<div>"),Je=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:Fe,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:vt=>{vt.component.option("visible")&&this.option("focusedElement",vt.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:Je?null:this._moveMainMenuFocus.bind(this,$),onLeftLastItem:Je?null:this._moveMainMenuFocus.bind(this,J),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,Je?$:null),onExpandLastSubmenu:Je?this._moveMainMenuFocus.bind(this,J):null}}_getShowFirstSubmenuMode(){if(!this._isDesktopDevice())return"onClick";var Fe=this.option("showFirstSubmenuMode");return(0,le.Gv)(Fe)?Fe.name:Fe}_moveMainMenuFocus(Fe){var Je=this._getAvailableItems(),vt=Je.length,Ot=Je.filter(".".concat(o)).eq(0),it=Je.index(Ot);this._hideSubmenu(this._visibleSubmenu),(it+=Fe===$?-1:1)>=vt?it=0:it<0&&(it=vt-1);var De=Je.eq(it);this.option("focusedElement",(0,Y.c)(De))}_nestedItemOnSelectionChangedHandler(Fe){var Je=Fe.addedItems.length&&Fe.addedItems[0],vt=I.getInstance(Fe.element);(0,this._actions.onSelectionChanged)(Fe),Je&&this._clearSelectionInSubmenus(Je[0],vt),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",Je)}_clearSelectionInSubmenus(Fe,Je){var vt=!arguments.length;(0,he.__)(this._submenus,(Ot,it)=>{var De=it._itemContainer(),O=!De.is(Je&&Je._itemContainer()),Q=De.find(".".concat(this._selectedItemClass()));if(O&&Q.length||vt){Q.removeClass(this._selectedItemClass());var ve=this._getItemData(Q);ve&&(ve.selected=!1),it._clearSelectedItems()}})}_clearRootSelection(){var Fe=this.$element().find(".".concat(g)).first().children().children().filter(".".concat(this._selectedItemClass()));Fe.length&&(this._getItemData(Fe).selected=!1,Fe.removeClass(this._selectedItemClass()))}_nestedItemOnItemClickHandler(Fe){this._actions.onItemClick(Fe)}_nestedItemOnItemRenderedHandler(Fe){this._actions.onItemRendered(Fe)}_attachSubmenuHandlers(Fe,Je){var Ot=Je.getOverlayContent().find(".".concat("dx-submenu")),it=(0,oe.b4)(j._,this.NAME+"_submenu");Je.option({onShowing:this._submenuOnShowingHandler.bind(this,Fe,Je),onShown:this._submenuOnShownHandler.bind(this,Fe,Je),onHiding:this._submenuOnHidingHandler.bind(this,Fe,Je),onHidden:this._submenuOnHiddenHandler.bind(this,Fe,Je)}),(0,he.__)(Ot,(De,O)=>{ae.A.off(O,it),ae.A.on(O,it,null,this._submenuMouseLeaveHandler.bind(this,Fe))})}_submenuOnShowingHandler(Fe,Je){var vt=Fe.children(".".concat(_));this._actions.onSubmenuShowing({rootItem:(0,Y.c)(Fe),submenu:Je}),vt.show(),Fe.addClass(o)}_submenuOnShownHandler(Fe,Je){this._actions.onSubmenuShown({rootItem:(0,Y.c)(Fe),submenu:Je})}_submenuOnHidingHandler(Fe,Je,vt){var Ot=Fe.children(".".concat(_)),it=vt;it.rootItem=(0,Y.c)(Fe),it.submenu=Je,this._actions.onSubmenuHiding(it),(vt=it).cancel||(this._visibleSubmenu===Je&&(this._visibleSubmenu=null),Ot.hide(),Fe.removeClass(o))}_submenuOnHiddenHandler(Fe,Je){this._actions.onSubmenuHidden({rootItem:(0,Y.c)(Fe),submenu:Je})}_submenuMouseLeaveHandler(Fe,Je){var vt=(0,k.A)(Je.relatedTarget).parents(".".concat(l))[0],Ot=this._getSubmenuByRootElement(Fe).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&vt!==Ot&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}_hideSubmenuAfterTimeout(){if(this._visibleSubmenu){var Fe=(0,k.A)(this._visibleSubmenu.$element().context).hasClass(te),Je=this._visibleSubmenu.getOverlayContent().find(".".concat(te)).length;!this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover")&&!Je&&!Fe&&this._visibleSubmenu.hide()}}_getSubmenuByRootElement(Fe){if(!Fe)return!1;var Je=Fe.children(".".concat(l));return Je.length&&I.getInstance(Je)}getSubmenuPosition(Fe){var Je=this._isMenuHorizontal(),vt=this.option("submenuDirection").toLowerCase(),Ot=this.option("rtlEnabled"),it={collision:"flip",of:Fe,precise:!0};switch(vt){case"leftortop":it.at="left top",it.my=Je?"left bottom":"right top";break;case"rightorbottom":it.at=Je?"left bottom":"right top",it.my="left top";break;default:Je?(it.at=Ot?"right bottom":"left bottom",it.my=Ot?"right top":"left top"):(it.at=Ot?"left top":"right top",it.my=Ot?"right top":"left top")}return it}_renderBorderElement(Fe){(0,k.A)("<div>").appendTo(Fe).addClass(_).hide()}_itemPointerDownHandler(Fe){(0,k.A)(Fe.target).closest(this._itemElements()).hasClass("dx-menu-item-has-submenu")?this.option("focusedElement",null):super._itemPointerDownHandler(Fe)}_hoverStartHandler(Fe){var Je=(0,oe.b4)(re.A.move,this.NAME),vt=this._getItemElementByEventArgs(Fe),Ot=this._dataAdapter.getNodeByItem(this._getItemData(vt)),it=(0,le.O9)(Fe.buttons)&&1===Fe.buttons||!(0,le.O9)(Fe.buttons)&&1===Fe.which;if(!this._isItemDisabled(vt)){if(ae.A.off(vt,Je),!this._hasChildren(Ot))return void(this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")));if("onHover"===this._getShowFirstSubmenuMode()&&!it){var De=this._getSubmenuByElement(vt);this._clearTimeouts(),De.isOverlayVisible()||(ae.A.on(vt,Je,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}}_hoverEndHandler(Fe){var Je=this._getItemElementByEventArgs(Fe),vt=(0,k.A)(Fe.relatedTarget);super._hoverEndHandler(Fe),this._clearTimeouts(),!this._isItemDisabled(Je)&&(vt.hasClass("dx-context-menu-content-delimiter")||this.option("hideSubmenuOnMouseLeave")&&!vt.hasClass(g)&&(this._hideSubmenuTimer=setTimeout(()=>{this._hideSubmenuAfterTimeout()},this._getDelay("hide"))))}_hideVisibleSubmenu(){return!!this._visibleSubmenu&&(this._hideSubmenu(this._visibleSubmenu),!0)}_showSubmenu(Fe){var Je=this._getSubmenuByElement(Fe);this._visibleSubmenu!==Je&&this._hideVisibleSubmenu(),Je&&(this._clearTimeouts(),this.focus(),Je.show(),this.option("focusedElement",Je.option("focusedElement"))),this._visibleSubmenu=Je,this._hoveredRootItem=Fe}_hideSubmenu(Fe){Fe&&Fe.hide(),this._visibleSubmenu===Fe&&(this._visibleSubmenu=null),this._hoveredRootItem=null}_itemMouseMoveHandler(Fe){if(!Fe.pointers||!Fe.pointers.length){var Je=(0,k.A)(Fe.currentTarget);(0,le.O9)(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout(()=>{var vt=this._getSubmenuByElement(Je);vt&&!vt.isOverlayVisible()&&this._showSubmenu(Je)},this._getDelay("show")))}}_clearTimeouts(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}_getSubmenuByElement(Fe,Je){var vt=this._getSubmenuByRootElement(Fe);if(vt)return vt;Je=Je||this._getItemData(Fe);var Ot=this._dataAdapter.getNodeByItem(Je);return this._hasChildren(Ot)&&this._renderSubmenuItems(Ot,Fe)}_updateSubmenuVisibilityOnClick(Fe){var Je=Fe.args.length&&Fe.args[0];if(Je&&!this._disabledGetter(Je.itemData)){var vt=(0,k.A)(Je.itemElement),Ot=this._getSubmenuByElement(vt,Je.itemData);if(this._updateSelectedItemOnClick(Fe),this._visibleSubmenu){if(this._visibleSubmenu===Ot)return void("onClick"===this.option("showFirstSubmenuMode")&&this._hideSubmenu(this._visibleSubmenu));this._hideSubmenu(this._visibleSubmenu)}if(Ot&&!Ot.isOverlayVisible())return void this._showSubmenu(vt)}}_optionChanged(Fe){if(de.indexOf(Fe.name)>=0)this._initActions();else switch(Fe.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(Fe.name,Fe.value);break;case"adaptivityEnabled":Fe.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(Fe.name,Fe.value),this._overlay.option(Fe.name,Fe.value)),super._optionChanged(Fe),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!Fe.value),super._optionChanged(Fe);break;default:this._isAdaptivityEnabled()&&(Fe.name===Fe.fullName||"items"===Fe.name)&&this._treeView.option(Fe.fullName,Fe.value),super._optionChanged(Fe)}}_changeSubmenusOption(Fe,Je){(0,he.__)(this._submenus,(vt,Ot)=>{Ot.option(Fe,Je)})}selectItem(Fe){this._hideSubmenu(this._visibleSubmenu),super.selectItem(Fe)}unselectItem(Fe){this._hideSubmenu(this._visibleSubmenu),super.selectItem(Fe)}}(0,P.A)("dxMenu",Te);const T=Te;var r=i(2328),v=i(4895),f=i(5207),s={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},t={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},K="filter-row",pe="filter-range-overlay",we="filter-range-start",z="dx-menu",fe="dx-editor-with-menu",Me="dx-editor-container",ze="dx-editor-cell",St="dx-highlight-outline",xt="dx-focused",Pt="dx-filter-range-content",Ht="dx-filter-modified",nt="input:not([type='hidden'])",M=["date","datetime","number"],ce=ee.A.format("dxDataGrid-ariaSearchBox");function Be(_t){return"onClick"===_t.option("filterRow.applyFilter")}var Se=function(_t){var Fe=_t&&_t.children(),Je=Fe&&Fe.data("dxComponents"),vt=Je&&Je.length&&Fe.data(Je[0]);return vt instanceof q.A?vt:null},Ye=function(){var _t=function(it,De){var O="",Q="",ve=Fe(it,De),We=f.A.getFormatOptionsByColumn(De,"filterRow");return Array.isArray(ve)?(O=f.A.formatValue(ve[0],We),""!==(Q=f.A.formatValue(ve[1],We))&&(O+=" - ".concat(Q))):(0,le.O9)(ve)&&(O=f.A.formatValue(ve,We)),O};function Fe(it,De){if(De)return Be(it)&&void 0!==De.bufferedFilterValue?De.bufferedFilterValue:De.filterValue}var Je=function(it,De){if(De)return Be(it)&&void 0!==De.bufferedSelectedFilterOperation?De.bufferedSelectedFilterOperation:De.selectedFilterOperation},vt=function(it,De,O){var ie,me,Q=it._columnsController.columnOption(De),ve=Fe(it,Q),We=O.closest(".".concat(it.addWidgetPrefix(pe))).length,L=O.hasClass(it.addWidgetPrefix(we));return ve&&Array.isArray(ve)&&"between"===Je(it,Q)?L?ve[0]:ve[1]:We||(ie=ve,(me=Q)&&M.includes(me.dataType)&&Array.isArray(ie)||void 0===ie)?null:ve};return{_updateEditorValue(it,De){var O=Se(De);O&&O.option("value",vt(this,it.index,De))},_columnOptionChanged(it){var O,Q,ve,We,{optionNames:De}=it;if(f.A.checkChanges(De,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","filterValues","filterType"])&&void 0!==it.columnIndex){var L=this._columnsController.getVisibleIndex(it.columnIndex),ie=this._columnsController.columnOption(it.columnIndex);if(Q=(O=this._getCellElement(this.element().find(".".concat(this.addWidgetPrefix(K))).index(),L)||(0,k.A)()).find(".".concat(Me)).first(),De.filterValue||De.bufferedFilterValue){this._updateEditorValue(ie,Q);var me=O.find(".".concat(this.addWidgetPrefix(pe))).data("dxOverlay");me&&(ve=me.$content().find(".".concat(Me)),this._updateEditorValue(ie,ve.first()),this._updateEditorValue(ie,ve.last())),(!me||!me.option("visible"))&&this._updateFilterRangeContent(O,_t(this,ie))}(De.selectedFilterOperation||De.bufferedSelectedFilterOperation)&&L>=0&&ie&&(We=O.find(".".concat(z))).length&&(this._updateFilterOperationChooser(We,ie,Q),"between"===Je(this,ie)?this._renderFilterRangeContent(O,ie):Q.find(".".concat(Pt)).length&&(this._renderEditor(Q,this._getEditorOptions(Q,ie)),this._hideFilterRange()))}else this.callBase(it)},_renderCore(){return this._filterRangeOverlayInstance=null,this.callBase.apply(this,arguments)},_resizeCore(){this.callBase.apply(this,arguments),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.repaint()},isFilterRowVisible(){return this._isElementVisible(this.option("filterRow"))},isVisible(){return this.callBase()||this.isFilterRowVisible()},init(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangeOverlay(it,De){var O=this,Q={},ve=it.find(".dx-editor-container"),We=O.addWidgetPrefix(pe),L=(0,k.A)("<div>").addClass(We).appendTo(it);return O._createComponent(L,b.A,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:We},animation:!1,position:{my:"top",at:"top",of:ve.length&&ve||it,offset:"0 -1"},contentTemplate(ie){var me,ke=(0,k.A)("<div>").addClass("".concat(Me," ").concat(O.addWidgetPrefix(we))).appendTo(ie);return De=O._columnsController.columnOption(De.index),(me=O._getEditorOptions(ke,De)).sharedData=Q,O._renderEditor(ke,me),ae.A.on(ke.find(nt),"keydown",Ze=>{var st=it.find("[tabindex]").not(Ze.target).first();"tab"===(0,oe.YD)(Ze)&&Ze.shiftKey&&(Ze.preventDefault(),O._hideFilterRange(),st.length||(st=it.prev().find("[tabindex]").last()),ae.A.trigger(st,"focus"))}),ke=(0,k.A)("<div>").addClass("".concat(Me," ").concat(O.addWidgetPrefix("filter-range-end"))).appendTo(ie),(me=O._getEditorOptions(ke,De)).sharedData=Q,O._renderEditor(ke,me),ae.A.on(ke.find(nt),"keydown",Ze=>{"tab"===(0,oe.YD)(Ze)&&!Ze.shiftKey&&(Ze.preventDefault(),O._hideFilterRange(),ae.A.trigger(it.next().find("[tabindex]").first(),"focus"))}),(0,k.A)(ie).addClass(O.getWidgetContainerClass())},onShown(ie){var me=ie.component.$content().find(".".concat(Me)).first();ae.A.trigger(me.find(nt),"focus")},onHidden(){De=O._columnsController.columnOption(De.index),it.find(".".concat(z)).parent().addClass(fe),"between"===Je(O,De)&&(O._updateFilterRangeContent(it,_t(O,De)),O.component.updateDimensions())}})},_updateFilterRangeOverlay(it){var De=this._filterRangeOverlayInstance;De&&De.option(it)},_showFilterRange(it,De){var O=it.children(".".concat(this.addWidgetPrefix(pe))),Q=O.length&&O.data("dxOverlay");!Q&&De&&(Q=this._initFilterRangeOverlay(it,De)),Q.option("visible")||(this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.hide(),this._filterRangeOverlayInstance=Q,this._updateFilterRangeOverlay({width:(0,Ce.Ot)(it,!0)+1}),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.show())},_hideFilterRange(){var it=this._filterRangeOverlayInstance;it&&it.hide()},getFilterRangeOverlayInstance(){return this._filterRangeOverlayInstance},_createRow(it){var De=this.callBase(it);return"filter"===it.rowType&&(De.addClass(this.addWidgetPrefix(K)),this.option("useLegacyKeyboardNavigation")||ae.A.on(De,"keydown",O=>(0,r.sf)("filterRow",this,O))),De},_getRows(){var it=this.callBase();return this.isFilterRowVisible()&&it.push({rowType:"filter"}),it},_renderFilterCell(it,De){var{column:O}=De,Q=(0,k.A)(it);this.component.option("showColumnHeaders")&&this.setAria("describedby",O.headerId,Q),this.setAria("label",ee.A.format("dxDataGrid-ariaFilterCell"),Q),Q.addClass(ze);var ve=(0,k.A)("<div>").appendTo(Q),We=(0,k.A)("<div>").addClass(Me).appendTo(ve);if("between"===Je(this,O))this._renderFilterRangeContent(Q,O);else{var L=this._getEditorOptions(We,O);this._renderEditor(We,L)}var{alignment:ie}=O;ie&&"center"!==ie&&Q.find(nt).first().css("textAlign",O.alignment),O.filterOperations&&O.filterOperations.length&&this._renderFilterOperationChooser(ve,O,We)},_renderCellContent(it,De){var O=this,{column:Q}=De;if("filter"===De.rowType)if(Q.command)it.html("&nbsp;");else if(Q.allowFiltering)return void O.renderTemplate(it,O._renderFilterCell.bind(O),De).done(()=>{O._updateCell(it,De)});this.callBase.apply(this,arguments)},_getEditorOptions(it,De){var O=this,Q={editorOptions:{inputAttr:O._getFilterInputAccessibilityAttributes(De)}},ve=(0,_e.X)(Q,De,{value:vt(O,De.index,it),parentType:"filterRow",showAllText:O.option("filterRow.showAllText"),updateValueTimeout:"onClick"===O.option("filterRow.applyFilter")?0:700,width:null,setValue(We,L){!function(it,De){var O=""===De.value?null:De.value,Q=De.container,ve=it._columnsController.columnOption(De.column.index),We=vt(it,ve.index,Q);if((0,le.O9)(We)||(0,le.O9)(O)){it._applyFilterViewController.setHighLight(Q,We!==O);var L=Be(it)?"bufferedFilterValue":"filterValue",ie=function(Ze,st,Et,yt){if("between"===Je(Ze,Et)){var et=Fe(Ze,Et);return yt.hasClass(Ze.addWidgetPrefix(we))?[st,Array.isArray(et)?et[1]:void 0]:[Array.isArray(et)?et[0]:et,st]}return st}(it,O,ve,Q),me="between"===Je(it,ve),ke=De.notFireEvent||me&&Array.isArray(ie)&&ie.includes(void 0);it._columnsController.columnOption(ve.index,L,ie,ke)}}(O,{column:De,value:We,container:it,notFireEvent:L})}});return"between"===Je(O,De)&&(ve.placeholder=it.hasClass(O.addWidgetPrefix(we))?O.option("filterRow.betweenStartText"):O.option("filterRow.betweenEndText")),ve},_getFilterInputAccessibilityAttributes(it){var De=ee.A.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":De,"aria-describedby":it.headerId}:{"aria-label":De}},_renderEditor(it,De){it.empty();var O=(0,k.A)("<div>").appendTo(it),Q=this.getController("editorFactory"),ve=this.getController("data").dataSource(),We=this.getController("applyFilter");if(De.lookup&&this.option("syncLookupFilterValues")){We.setCurrentColumnForFiltering(De);var L=this.getController("data").getCombinedFilter();We.setCurrentColumnForFiltering(null);var ie=f.A.getWrappedLookupDataSource(De,ve,L),me=(0,be.A)((0,be.A)({},De),{lookup:(0,be.A)((0,be.A)({},De.lookup),{dataSource:ie})});return Q.createEditor(O,me)}return Q.createEditor(O,De)},_renderFilterRangeContent(it,De){var O=this,Q=it.find(".".concat(Me)).first();Q.empty();var ve=(0,k.A)("<div>").addClass(Pt).attr("tabindex",this.option("tabIndex"));ae.A.on(ve,"focusin",()=>{O._showFilterRange(it,De)}),ve.appendTo(Q),O._updateFilterRangeContent(it,_t(O,De))},_updateFilterRangeContent(it,De){var O=it.find(".".concat(Pt));O.length&&(""===De?O.html("&nbsp;"):O.text(De))},_updateFilterOperationChooser(it,De,O){var ve,Q=this,We=function(){var L=T.getInstance(it);L&&L.option("focusedElement",null),ve&&Q._focusEditor(O)};Q._createComponent(it,T,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:"".concat(Q.getWidgetContainerClass()," ").concat("dx-cell-focus-disabled"," ").concat("dx-filter-menu"),showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:!(De.filterOperations&&De.filterOperations.length),icon:s[Je(Q,De)||"default"],selectable:!1,items:Q._getFilterOperationMenuItems(De)}],onItemRendered:L=>{var{itemElement:ie}=L;this.setAria("label",ce,(0,k.A)(ie))},onItemClick(L){var ie=L.itemData.name,me=Je(Q,De),ke=!1,Ze=Be(Q),st={};if(!(L.itemData.items||ie&&ie===me)){if(ie?(st[Ze?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=ie,("between"===ie||"between"===me)&&(ke="between"===ie,st[Ze?"bufferedFilterValue":"filterValue"]=null)):(st[Ze?"bufferedFilterValue":"filterValue"]=null,st[Ze?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=De.defaultSelectedFilterOperation||null),Q._columnsController.columnOption(De.index,st),Q._applyFilterViewController.setHighLight(O,!0),!ie){var Et=Se(O);Et&&"dxDateBox"===Et.NAME&&!Et.option("isValid")&&(Et.clear(),Et.option("isValid",!0))}ke?Q._showFilterRange(O.closest(".".concat(ze)),De):Q._focusEditor(O)}},onSubmenuShowing(){ve=Q._isEditorFocused(O),Q.getController("editorFactory").loseFocus()},onSubmenuHiding(){ae.A.trigger(it,"blur"),We()},onContentReady(L){ae.A.on(it,"blur",()=>{L.component._hideSubmenuAfterTimeout(),We()})},rtlEnabled:Q.option("rtlEnabled")})},_isEditorFocused:it=>it.hasClass(xt)||it.parents(".".concat(xt)).length,_focusEditor(it){this.getController("editorFactory").focus(it),ae.A.trigger(it.find(nt),"focus")},_renderFilterOperationChooser(it,De,O){var Q;this.option("filterRow.showOperationChooser")&&(it.addClass(fe),Q=(0,k.A)("<div>").prependTo(it),this._updateFilterOperationChooser(Q,De,O))},_getFilterOperationMenuItems(it){var De=this,O=[{}],Q=De.option("filterRow"),ve=Q&&Q.operationDescriptions||{};if(it.filterOperations&&it.filterOperations.length){var We=it.filterOperations.filter(L=>(0,le.O9)(t[L]));(O=(0,he.Tj)(We,L=>{var ie=t[L];return{name:L,selected:(Je(De,it)||it.defaultFilterOperation)===L,text:ve[ie],icon:s[L]}})).push({name:null,text:Q&&Q.resetOperationText,icon:s.default})}return O},_handleDataChanged(it){var De,O,Q;this.callBase.apply(this,arguments),(null!==(De=it.operationTypes)&&void 0!==De&&De.filtering||null!==(O=it.operationTypes)&&void 0!==O&&O.fullReload)&&this.updateLookupDataSource(null===(Q=it.operationTypes)||void 0===Q?void 0:Q.filtering)},updateLookupDataSource(it){if(this.option("syncLookupFilterValues")&&this.element()){var De=this._columnsController.getVisibleColumns(),O=this._dataController.dataSource(),Q=this._applyFilterViewController,ve=this.element().find(".".concat(this.addWidgetPrefix(K))).index();-1!==ve&&De.forEach((We,L)=>{if(We.lookup&&We.calculateCellValue===We.defaultCalculateCellValue){var ie=this._getCellElement(ve,L),me=Se(ie?.find(".dx-editor-container"));if(me){Q.setCurrentColumnForFiltering(We);var ke=this._dataController.getCombinedFilter()||null;Q.setCurrentColumnForFiltering(null);var Ze=me.option("dataSource");if(!it||!(0,se.RL)(Ze.__dataGridSourceFilter,ke)){var Et=f.A.getWrappedLookupDataSource(We,O,ke);me.option("dataSource",Et)}}}})}},optionChanged(it){switch(it.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),it.handled=!0;break;case"syncLookupFilterValues":it.value?this.updateLookupDataSource():this.render(),it.handled=!0;break;default:this.callBase(it)}}}}(),Qe={skipCalculateColumnFilters:()=>!1,_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return this.callBase();var _t=[this.callBase()],Fe=this._columnsController.getVisibleColumns(null,!0),Je=this.getController("applyFilter");return(0,he.__)(Fe,function(){var vt,Ot=(null===(vt=Je.getCurrentColumnForFiltering())||void 0===vt?void 0:vt.index)===this.index;if(this.allowFiltering&&this.calculateFilterExpression&&(0,le.O9)(this.filterValue)&&!Ot){var it=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");_t.push(it)}}),f.A.combineFilters(_t)}},At={defaultOptions:()=>({syncLookupFilterValues:!0,filterRow:{visible:!1,showOperationChooser:!0,showAllText:ee.A.format("dxDataGrid-filterRowShowAllText"),resetOperationText:ee.A.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:ee.A.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:ee.A.format("dxDataGrid-filterRowOperationEquals"),notEqual:ee.A.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:ee.A.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:ee.A.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:ee.A.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:ee.A.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:ee.A.format("dxDataGrid-filterRowOperationStartsWith"),contains:ee.A.format("dxDataGrid-filterRowOperationContains"),notContains:ee.A.format("dxDataGrid-filterRowOperationNotContains"),endsWith:ee.A.format("dxDataGrid-filterRowOperationEndsWith"),between:ee.A.format("dxDataGrid-filterRowOperationBetween"),isBlank:ee.A.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:ee.A.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:ee.A.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:ee.A.format("dxDataGrid-filterRowOperationBetweenEndText")}}),controllers:{applyFilter:v.A.ViewController.inherit({_getHeaderPanel(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight(_t,Fe){Be(this)&&(_t&&_t.toggleClass(St,Fe)&&_t.closest(".".concat(ze)).toggleClass(Ht,Fe),this._getHeaderPanel().enableApplyButton(Fe))},applyFilter(){var _t=this.getController("columns"),Fe=_t.getColumns();_t.beginUpdate();for(var Je=0;Je<Fe.length;Je++){var vt=Fe[Je];void 0!==vt.bufferedFilterValue&&(_t.columnOption(Je,"filterValue",vt.bufferedFilterValue),vt.bufferedFilterValue=void 0),void 0!==vt.bufferedSelectedFilterOperation&&(_t.columnOption(Je,"selectedFilterOperation",vt.bufferedSelectedFilterOperation),vt.bufferedSelectedFilterOperation=void 0)}_t.endUpdate(),this.removeHighLights()},removeHighLights(){if(Be(this)){var _t=this.getView("columnHeadersView").element();_t.find(".".concat(this.addWidgetPrefix(K)," .").concat(St)).removeClass(St),_t.find(".".concat(this.addWidgetPrefix(K)," .").concat(Ht)).removeClass(Ht),this._getHeaderPanel().enableApplyButton(!1)}},setCurrentColumnForFiltering(_t){this._currentColumn=_t},getCurrentColumnForFiltering(){return this._currentColumn}})},extenders:{controllers:{data:Qe,columnsResizer:{_startResizing(){if(this.callBase.apply(this,arguments),this.isResizing()){var _t=this._columnHeadersView.getFilterRangeOverlayInstance();if(_t){var Fe=_t.$element().closest("td").index();(Fe===this._targetPoint.columnIndex||Fe===this._targetPoint.columnIndex+1)&&_t.$content().hide()}}},_endResizing(){var _t;if(this.isResizing()){var Fe=this._columnHeadersView.getFilterRangeOverlayInstance();Fe&&(_t=Fe.$element().closest("td"),this._columnHeadersView._updateFilterRangeOverlay({width:(0,Ce.Ot)(_t,!0)+1}),Fe.$content().show())}this.callBase.apply(this,arguments)}},editing:{updateFieldValue(_t){return _t.column.lookup&&(this._needUpdateLookupDataSource=!0),this.callBase.apply(this,arguments)},_afterSaveEditData(_t){var Fe;return this._needUpdateLookupDataSource&&!_t&&(null===(Fe=this.getView("columnHeadersView"))||void 0===Fe||Fe.updateLookupDataSource()),this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)},_afterCancelEditData(){return this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)}}},views:{columnHeadersView:Ye,headerPanel:{_getToolbarItems(){var _t=this.callBase();return this._prepareFilterItem(_t).concat(_t)},_prepareFilterItem(){var _t=this,Fe=[];if(_t._isShowApplyFilterButton()){var Je=_t.option("filterRow.applyFilterText"),Ot=!_t._columnsController.getColumns().filter(De=>void 0!==De.bufferedFilterValue).length;Fe.push({widget:"dxButton",options:{icon:"apply-filter",disabled:Ot,onClick:function(){_t._applyFilterViewController.applyFilter()},hint:Je,text:Je,onInitialized:function(De){(0,k.A)(De.element).addClass(_t._getToolbarButtonClass("dx-apply-button"))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10})}return Fe},_isShowApplyFilterButton(){var _t=this.option("filterRow");return _t&&_t.visible&&"onClick"===_t.applyFilter},init(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton(_t){this.setToolbarItemDisabled("applyFilterButton",!_t)},isVisible(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged(_t){"filterRow"===_t.name?(this._invalidate(),_t.handled=!0):this.callBase(_t)}}}}}},1271:(Mt,dt,i)=>{i.d(dt,{a:()=>S});var be=i(2463),k=i(4744),se=i(438),_e=i(7310),he=i(4895),Ce=i(5207),le=i(4292),ae=i(2984),oe=i(7951),ee=i(5333),q=i(736);function P(I){var N=function(Pe,Ie){return Ie?"".concat(Ie,"/").concat(Pe):Pe},xe=I&&I.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(Pe,Ie,B){var n=[],g=Pe.length-1;return Pe&&Pe.forEach((o,l)=>{if((0,k.G3)(o)||(0,k.IZ)(o)){var _=(0,k.zk)(o,B,[],"headerFilter");n.push(_)}else{var h=(0,k.zk)([Ie.dataField,"=",o],B,[],"headerFilter");n.push(h)}l!==g&&n.push("or")}),1===n.length?n[0]:n},editorTemplate(Pe,Ie){var B=(0,le.A)("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(Ie),n=(0,oe.X)(!0,{},I.columnOption(Pe.field.dataField));return(0,k.rx)(B,Pe.text&&Pe.text.split("|")),n.filterType="include",n.filterValues=Pe.value?Pe.value.slice():[],xe.showHeaderFilterMenuBase({columnElement:B,column:n,apply(){Pe.setValue(this.filterValues),xe.hideHeaderFilterMenu(),Pe.closeEditor()},onHidden(){Pe.closeEditor()},isFilterBuilder:!0}),Ie},customizeText:function(Pe,Ie){Ie=Ie||{};var{value:B}=Pe,n=I.columnOption(Pe.field.dataField),g=n&&n.headerFilter,o=n&&n.lookup,l=Ie.values||[B];if(g&&g.dataSource||o&&o.dataSource){var _=new ae.cY,h=Ie.items||new ae.cY;if(!Ie.items){n=(0,oe.X)({},n,{filterType:"include",filterValues:l});var C=xe.getDataSource(n);C.paginate=!1;var F=new ee.q(C),te=F.store().key();if(te){var{values:X}=Ie;if(X&&X.length>1){var ge=X.reduce((Z,D)=>(Z.length&&Z.push("or"),Z.push([te,"=",D]),Z),[]);F.filter(ge)}else F.filter([te,"=",Pe.value])}else Pe.field.calculateDisplayValue&&_e.A.log("W1017");Ie.items=h,F.load().done(h.resolve)}return h.done(Z=>{var D=l.indexOf(Pe.value);_.resolve(function U(p,w){var V=[];return p.forEach(J=>{if(J.items){var $=U(J.items,N(J.text,w));V=V.concat($)}J.selected&&V.push(N(J.text,w))}),V}(Z,null)[D])}),_}return xe.getHeaderItemText(B,n,0,I.option("headerFilter"))}}}function Y(I){return(0,oe.X)(P(I),{name:"anyof",icon:"selectall",caption:q.A.format("dxFilterBuilder-filterOperationAnyOf")})}function Ee(I){var N=P(I);return(0,oe.X)({},N,{calculateFilterExpression(xe,Pe,Ie){var B=N.calculateFilterExpression(xe,Pe,Ie);return B&&0!==B.length?"!"===B[0]?B:["!",B]:null},name:"noneof",icon:"unselectall",caption:q.A.format("dxFilterBuilder-filterOperationNoneOf")})}var re=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"],j="include",ue="exclude";function b(I){return I.name||I.dataField}var S={defaultOptions:()=>({filterValue:null,filterSyncEnabled:"auto"}),controllers:{filterSync:he.A.Controller.inherit(function(){var I=function(){return{filterType:j,filterValues:void 0}},N=function(n){var g=n.filterValues||[];return!se.A.getGroupInterval(n)&&!(n.headerFilter&&n.headerFilter.dataSource)||1===g.length&&null===g[0]},xe=function(n){if((0,be.O9)(n.filterValue)){var o=n.selectedFilterOperation||n.defaultFilterOperation||(0,k.PZ)(n);return[b(n),o,n.filterValue]}return null},Pe=function(n){var g,o,{filterValues:l}=n;return l?(1===l.length&&N(n)&&!Array.isArray(l[0])?(g=n.filterType===ue?"<>":"=",o=l[0]):(g=n.filterType===ue?"noneof":"anyof",o=l),[b(n),g,o]):null},Ie=function(n,g,o){var l=function(_,h){if(!_)return I();var C,F=_[1],te=_[2],X=Array.isArray(te);if(!X&&!N(h))return I();switch(F){case"anyof":case"=":C=j;break;case"noneof":case"<>":C=ue;break;default:return I()}return{filterType:C,filterValues:X?te:[te]}}(o,g);n.columnOption(b(g),l)},B=function(n,g,o){var l,_=o?.[1],h=o?.[2],C=g.filterOperations||g.defaultFilterOperations;(!C||C.indexOf(_)>=0||_===g.defaultFilterOperation)&&re.includes(_)&&null!==h?(_===g.defaultFilterOperation&&!(0,be.O9)(g.selectedFilterOperation)&&(_=g.selectedFilterOperation),l={filterValue:h,selectedFilterOperation:_}):l={filterValue:void 0,selectedFilterOperation:void 0},n.columnOption(b(g),l)};return{syncFilterValue(){var n=this,g=n.getController("columns"),o=g.getFilteringColumns();this._skipSyncColumnOptions=!0,o.forEach(l=>{var _=(0,k.fM)(n.option("filterValue"),b(l));if(1===_.length){var h=_[0];Ie(g,l,h),B(g,l,h)}else(0,be.O9)(l.filterValues)&&Ie(g,l,null),(0,be.O9)(l.filterValue)&&B(g,l,null)}),this._skipSyncColumnOptions=!1},_initSync(){var n=this.getController("columns").getColumns(),g=this.getController("data"),o=g.pageIndex();if(function c(I){I.forEach(N=>{var xe=b(N);if(!(0,be.O9)(xe)&&N.allowFiltering)throw new _e.A.Error("E1049",N.caption)})}(n),!this.option("filterValue")){var l=this.getController("columns").getFilteringColumns(),_=this.getFilterValueFromColumns(l);this.option("filterValue",_)}this.syncFilterValue(),g.pageIndex(o)},init(){var n=this.getController("data");n.isFilterSyncActive()&&(this.getController("columns").isAllDataTypesDefined()?this._initSync():n.dataSourceChanged.add(()=>this._initSync()))},_getSyncFilterRow(n,g){var o=xe(g);return(0,be.O9)(o)?(0,k.nJ)(n,o):(0,k.HO)(n,b(g))},_getSyncHeaderFilter(n,g){var o=Pe(g);return o?(0,k.nJ)(n,o):(0,k.HO)(n,b(g))},getFilterValueFromColumns(n){if(!this.getController("data").isFilterSyncActive())return null;var g=["and"];return n&&n.forEach(o=>{var l=Pe(o),_=xe(o);l&&(0,k.B5)(l,g),_&&(0,k.B5)(_,g)}),(0,k.SK)(g)},syncFilterRow(n){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),n))},syncHeaderFilter(n){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),n))},getCustomFilterOperations(){var n=this.option("filterBuilder.customOperations")||[];return[Y(this.component),Ee(this.component)].concat(n)},publicMethods:()=>["getCustomFilterOperations"]}}())},extenders:{controllers:{data:{isFilterSyncActive(){var I=this.option("filterSyncEnabled");return"auto"===I?this.option("filterPanel.visible"):I},skipCalculateColumnFilters(){var I=this.getController("filterSync");return((0,be.O9)(this.option("filterValue"))||I._skipSyncColumnOptions)&&this.isFilterSyncActive()},_calculateAdditionalFilter(){if(!1===this.option("filterPanel.filterEnabled"))return this.callBase();var I=[this.callBase()],N=this.getController("columns").getFilteringColumns(),xe=this.option("filterValue");if(this.isFilterSyncActive()){var Pe=this.getController("headerFilter").getCurrentColumn(),Ie=this.getController("applyFilter").getCurrentColumnForFiltering(),B=Pe||Ie;(Pe||(0,be.O9)(Ie?.filterValue))&&xe&&(xe=(0,k.HO)(xe,b(B)))}var g=this.getController("filterSync").getCustomFilterOperations(),o=(0,k.zk)(xe,N,g,"filterBuilder");return o&&I.push(o),Ce.A.combineFilters(I)},_parseColumnPropertyName(I){var N=I.match(/.*\.(.*)/);return N?N[1]:null},clearFilter(I){this.component.beginUpdate(),arguments.length>0?("filterValue"===I&&this.option("filterValue",null),this.callBase(I)):(this.option("filterValue",null),this.callBase()),this.component.endUpdate()},optionChanged(I){switch(I.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this.getController("filterSync").syncFilterValue(),I.handled=!0;break;case"filterSyncEnabled":I.handled=!0;break;case"columns":if(this.isFilterSyncActive()){var N=this.getController("columns").getColumnByPath(I.fullName),xe=this.getController("filterSync");if(N&&!xe._skipSyncColumnOptions){var Pe=this._parseColumnPropertyName(I.fullName);xe._skipSyncColumnOptions=!0,"filterType"===Pe?(ue===I.value||ue===I.previousValue)&&xe.syncHeaderFilter(N):"filterValues"===Pe?xe.syncHeaderFilter(N):["filterValue","selectedFilterOperation"].includes(Pe)&&xe.syncFilterRow(N,N.filterValue),xe._skipSyncColumnOptions=!1}}this.callBase(I);break;default:this.callBase(I)}}}},views:{columnHeadersView:{_isHeaderFilterEmpty(I){return this.getController("data").isFilterSyncActive()?!(0,k.BF)(this.option("filterValue"),b(I)):this.callBase(I)},_needUpdateFilterIndicators(){return!this.getController("data").isFilterSyncActive()},optionChanged(I){"filterValue"===I.name?this._updateHeaderFilterIndicators():this.callBase(I)}}}}}},6685:(Mt,dt,i)=>{i.d(dt,{h:()=>ue});var be=i(4292),k=i(5042),se=i(2984),_e=i(2101),he=i(2463),Ce=i(1531),le=i(4895),ae=i(5207),oe=i(9504),P="dx-row-focused",Y=".dx-row.".concat(P),re="dx-cell-focus-disabled",ue={defaultOptions:()=>({focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:null,focusedRowIndex:-1,focusedColumnIndex:-1}),controllers:{focus:le.A.ViewController.inherit(function(){return{init(){this._dataController=this.getController("data"),this._keyboardController=this.getController("keyboardNavigation"),this.component._optionsByReference.focusedRowKey=!0},optionChanged(c){var{name:a,value:d,previousValue:m}=c;switch(a){case"focusedRowIndex":this._focusRowByIndex(d),this._keyboardController._fireFocusedRowChanged(),c.handled=!0;break;case"focusedRowKey":if(Array.isArray(d)&&JSON.stringify(d)===JSON.stringify(m))return;this._focusRowByKey(d),this._keyboardController._fireFocusedRowChanged(),c.handled=!0;break;case"focusedColumnIndex":case"focusedRowEnabled":case"autoNavigateToFocusedRow":c.handled=!0;break;default:this.callBase(c)}},isAutoNavigateToFocusedRow(){return"infinite"!==this.option("scrolling.mode")&&this.option("autoNavigateToFocusedRow")},_focusRowByIndex(c,a){this.option("focusedRowEnabled")&&((c=void 0!==c?c:this.option("focusedRowIndex"))<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(c,a))},_focusRowByIndexCore(c,a){var d=this.getController("data"),m=d.pageSize(),S=()=>{if(this._isValidFocusedRowIndex(c)){var N=c-d.getRowIndexOffset(!0);if(!a||a.paging&&!a.filtering){var xe=d._getLastItemIndex();N=Math.min(N,xe)}var Pe=d.getKeyByRowIndex(N,!0);(0,he.O9)(Pe)&&!this.isRowFocused(Pe)&&this.option("focusedRowKey",Pe)}};if(m>=0)if(this._isLocalRowIndex(c))S();else{var I=Math.floor(c/d.pageSize());(0,se.z7)(d.pageIndex(I),d.waitReady()).done(()=>{S()})}},_isLocalRowIndex(c){var a=this.getController("data");if(this.getController("keyboardNavigation")._isVirtualScrolling()){var m=Math.floor(c/a.pageSize()),S=a.virtualItemsCount(),I=S?S.begin:-1,N=a.getVisibleRows().length+a.getRowIndexOffset(),xe=Math.ceil(N/a.pageSize());return I<=c&&xe>m}return!0},_setFocusedRowKeyByIndex(c){var a=this.getController("data");if(this._isValidFocusedRowIndex(c)){var d=Math.min(c-a.getRowIndexOffset(),a.items().length-1),m=a.getKeyByRowIndex(d);(0,he.O9)(m)&&!this.isRowFocused(m)&&this.option("focusedRowKey",m)}},_focusRowByKey(c){(0,he.O9)(c)?this._navigateToRow(c,!0):this._resetFocusedRow()},_resetFocusedRow(){var c=this.option("focusedRowKey"),a=(0,he.O9)(c);if(a||!(this.option("focusedRowIndex")<0)){var d=this.getController("keyboardNavigation");a&&this.option("focusedRowKey",null),d.setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getController("data").updateItems({changeType:"updateFocusedRow",focusedRowKey:null}),d._fireFocusedRowChanged(void 0,-1)}},_isValidFocusedRowIndex(c){var d=this.getController("data").getVisibleRows()[c];return!d||"data"===d.rowType||"group"===d.rowType},publicMethods:()=>["navigateToRow","isRowFocused"],navigateToRow(c){return this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(c)},_navigateToRow(c,a){var d=this,m=d.getController("data"),S=d.isAutoNavigateToFocusedRow(),I=new se.cY;if(void 0===c||!m.dataSource())return I.reject().promise();var N=d.getFocusedRowIndexByKey(c);return!S&&a||N>=0?d._navigateTo(c,I,a):m.getPageIndexByKey(c).done(xe=>{xe<0?I.resolve(-1):xe===m.pageIndex()?m.reload().done(()=>{d.isRowFocused(c)&&m.getRowIndexByKey(c)>=0?I.resolve(d.getFocusedRowIndexByKey(c)):d._navigateTo(c,I,a)}).fail(I.reject):m.pageIndex(xe).done(()=>{d._navigateTo(c,I,a)}).fail(I.reject)}).fail(I.reject),I.promise()},_navigateTo(c,a,d){var m=this.getController("data").getRowIndexByKey(c),S=ae.A.isVirtualRowRendering(this);this.isAutoNavigateToFocusedRow()&&S&&m<0?this._navigateToVirtualRow(c,a,d):this._navigateToVisibleRow(c,a,d)},_navigateToVisibleRow(c,a,d){if(d)this._triggerUpdateFocusedRow(c,a);else{var m=this.getFocusedRowIndexByKey(c);this.getView("rowsView").scrollToRowElement(c,a).done(()=>{a.resolve(m)})}},_navigateToVirtualRow(c,a,d){var m=this.getController("data"),S=m._rowsScrollController,I=ae.A.getIndexByKey(c,m.items(!0)),N=this.getView("rowsView").getScrollable();if(S&&N&&I>=0){var xe=I+m.getRowIndexOffset(!0),Pe=S.getItemOffset(xe),Ie=()=>{m.totalCount()&&!m.items().length||(this.component.off("contentReady",Ie),d?this._triggerUpdateFocusedRow(c,a):a.resolve(xe))};this.component.on("contentReady",Ie),this.getView("rowsView").scrollTopPosition(Pe)}else a.resolve(-1)},_triggerUpdateFocusedRow(c,a){var S,d=this.getController("data"),m=this.getFocusedRowIndexByKey(c);this._isValidFocusedRowIndex(m)?(this.option("focusedRowEnabled")?d.updateItems({changeType:"updateFocusedRow",focusedRowKey:c}):S=this.getView("rowsView").scrollToRowElement(c),(0,se.z7)(S).done(()=>{this.getController("keyboardNavigation").setFocusedRowIndex(m),a&&a.resolve(m)})):a&&a.resolve(-1)},getFocusedRowIndexByKey(c){var a=this.getController("data"),d=a.getRowIndexByKey(c,!0);return d>=0?d+a.getRowIndexOffset(!0):-1},_focusRowByKeyOrIndex(){var c=this.option("focusedRowKey"),a=this.option("focusedRowIndex"),d=this.getController("keyboardNavigation"),m=this.getController("data");if((0,he.O9)(c)){var S=m.getRowIndexByKey(c);S>=0?(d._isVirtualScrolling()&&(a=S+m.getRowIndexOffset()),d.setFocusedRowIndex(a),this._triggerUpdateFocusedRow(c)):this._navigateToRow(c,!0).done(I=>{a>=0&&I<0?this._focusRowByIndex():a<0&&I>=0&&d.setFocusedRowIndex(I)})}else a>=0&&this.getController("focus")._focusRowByIndex(a)},isRowFocused(c){var a=this.option("focusedRowKey");if((0,he.O9)(a))return(0,k.RL)(c,this.option("focusedRowKey"))},updateFocusedRow(c){var I,N,{focusedRowKey:a}=c,d=this,m=d._dataController.getRowIndexByKey(a),S=d.getView("rowsView");(0,_e.__)(S.getTableElements(),(xe,Pe)=>{var Ie=0===xe;I=(0,be.A)(Pe),d._clearPreviousFocusedRow(I,m);var B=d._prepareFocusedRow({changedItem:d._dataController.getVisibleRows()[m],$tableElement:I,focusedRowIndex:m});Ie&&(N=B)}),N&&S.scrollToElementVertically(N)},_clearPreviousFocusedRow(c,a){var d=c.find(Y).filter((S,I)=>{var N=(0,be.A)(I).closest(".".concat(this.addWidgetPrefix("table")));return c.is(N)});d.removeClass(P).removeClass(re).removeAttr("tabindex"),d.children("td").removeAttr("tabindex"),0!==a&&(0,be.A)(this.getView("rowsView").getRowElement(0)).removeClass(re).removeAttr("tabIndex")},_prepareFocusedRow(c){var a,{changedItem:d}=c;if(d&&("data"===d.rowType||"group"===d.rowType)){var{focusedRowIndex:m}=c,{$tableElement:S}=c,I=this.option("tabindex")||0,N=this.getView("rowsView");(a=(0,be.A)(N._getRowElements(S).eq(m))).addClass(P).attr("tabindex",I)}return a}}}())},extenders:{controllers:{keyboardNavigation:{init(){var b=this.option("focusedRowIndex"),c=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),this.callBase(),this.setRowFocusType(),this._focusedCellPosition={},(0,he.O9)(b)&&b>=0&&(this._focusedCellPosition.rowIndex=b),(0,he.O9)(c)&&c>=0&&(this._focusedCellPosition.columnIndex=c)},setFocusedRowIndex(b){this.callBase(b),this.option("focusedRowIndex",b)},setFocusedColumnIndex(b){this.callBase(b),this.option("focusedColumnIndex",b)},_escapeKeyHandler(b,c){!c&&this.option("focusedRowEnabled")?this.isCellFocusType()&&(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(b.originalEvent.target),!0)):this.callBase(b,c)},_updateFocusedCellPosition(b,c){var a=this.callBase(b,c);a&&a.columnIndex>=0&&this._fireFocusedCellChanged(b)}},editorFactory:{renderFocusOverlay(b,c){var S,a=this.getController("keyboardNavigation"),d=this.option("focusedRowEnabled"),m=this.getController("editing");d&&a?.isRowFocusType()&&!m.isEditing()?d&&"row"===a._getElementType(b)&&!b.hasClass(P)&&(S=a.getFirstValidCellInRow(b),a.focus(S)):this.callBase(b,c)}},columns:{getSortDataSourceParameters(b,c){var a=this.callBase.apply(this,arguments),d=this.getController("data"),m=d._dataSource,S=d.store(),I=S&&S.key(),N=m&&m.remoteOperations()||{},xe=Object.keys(N).every(Ie=>!N[Ie]);if(I&&(this.option("focusedRowEnabled")&&!1!==this.getController("focus").isAutoNavigateToFocusedRow()||c)){var Pe=(I=Array.isArray(I)?I:[I]).filter(Ie=>!this.columnOption(Ie,"sortOrder"));Pe.length&&(a=a||[],xe?a.push({selector:m.getDataIndexGetter(),desc:!1}):Pe.forEach(Ie=>a.push({selector:Ie,desc:!1})))}return a}},data:{_applyChange(b){if(!b||"updateFocusedRow"!==b.changeType)return this.callBase.apply(this,arguments)},_fireChanged(b){if(this.callBase(b),this.option("focusedRowEnabled")&&this._dataSource){var a="update"===b.changeType&&b.repaintChangesOnly&&b.changeTypes&&b.changeTypes.indexOf("remove")>=0;"refresh"===b.changeType&&b.items.length||a?(this._updatePageIndexes(),this._updateFocusedRow(b)):"append"===b.changeType||"prepend"===b.changeType?this._updatePageIndexes():"update"===b.changeType&&b.repaintChangesOnly&&this._updateFocusedRow(b)}},_updatePageIndexes(){var b=this._lastRenderingPageIndex||0,c=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=c,this._isPagingByRendering=c!==b},isPagingByRendering(){return this._isPagingByRendering},_updateFocusedRow(b){var c=b.operationTypes||{},a=this.getController("focus"),{reload:d,fullReload:m,pageIndex:S,paging:I}=c,xe=this.getController("keyboardNavigation")._isVirtualScrolling(),Pe=I&&!xe,Ie=this.option("focusedRowKey"),B=a.isAutoNavigateToFocusedRow();if(d&&!1===S&&!m&&(0,he.O9)(Ie))a._navigateToRow(Ie,!0).done(C=>{C<0&&a._focusRowByIndex(void 0,c)});else if(Pe&&B){var g=this.getRowIndexByKey(Ie),o=this.option("focusedRowIndex");o>=0&&(o===g||!(g>=0))&&a._focusRowByIndex(o,c)}else Pe&&!B&&this.getRowIndexByKey(Ie)<0?this.option("focusedRowIndex",-1):c.fullReload&&a._focusRowByKeyOrIndex()},getPageIndexByKey(b){var c=this,a=new se.cY;return c.getGlobalRowIndexByKey(b).done(d=>{a.resolve(d>=0?Math.floor(d/c.pageSize()):-1)}).fail(a.reject),a.promise()},getGlobalRowIndexByKey(b){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(b):this._calculateGlobalRowIndexByFlatData(b)},_calculateGlobalRowIndexByFlatData(b,c,a){var d=this,m=new se.cY,S=d._dataSource;if(Array.isArray(b)||(0,Ce.MF)(b))return m.resolve(-1).promise();var I=d._generateFilterByKey(b);return S.load({filter:d._concatWithCombinedFilter(I),skip:0,take:1}).done(N=>{N.length>0?(I=d._generateOperationFilterByKey(b,N[0],a),S.load({filter:d._concatWithCombinedFilter(I,c),skip:0,take:1,requireTotalCount:!0}).done((xe,Pe)=>{m.resolve(Pe.totalCount)})):m.resolve(-1)}),m.promise()},_concatWithCombinedFilter(b,c){var a=this.getCombinedFilter();return ae.A.combineFilters([b,a,c])},_generateBooleanFilter(b,c,a){var{desc:d}=a;switch(!0){case!1===c&&d:return[b,"=",!0];case!1===c&&!d:return[b,"=",null];case!0===c&&!d:case!(0,he.Lm)(c)&&d:return[b,"<>",c];default:return}},_generateOperationFilterByKey(b,c,a){var d=this,m=d.option("dateSerializationFormat"),S=d._dataSource.remoteOperations().filtering,I=d._generateFilterByKey(b,"<"),N=d._columnsController.getSortDataSourceParameters(!S,!0);if(a){var xe=d._columnsController.getGroupDataSourceParameters(!S);xe&&(N=N?xe.concat(N):xe)}return N&&N.slice().reverse().forEach(Pe=>{var{selector:Ie,desc:B,compare:n}=Pe,{getter:g,rawValue:o,safeValue:l}=((b,c,a)=>{var{isRemoteFiltering:d,dateSerializationFormat:m,getSelector:S}=a,{selector:I}=b,N=(0,he.Tn)(I)?I:S(I),xe=N?N(c):c[I];return{getter:N,rawValue:xe,safeValue:d&&(0,he.$P)(xe)?oe.A.serializeDate(xe,m):xe}})(Pe,c,{isRemoteFiltering:S,dateSerializationFormat:m,getSelector:F=>d._columnsController.columnOption(F,"selector")});if(I=[[Ie,"=",l],"and",I],null===o||(0,he.Lm)(o)){var _=d._generateBooleanFilter(Ie,l,B);_&&(I=[_,"or",I])}else{var C,h=B?">":"<";n?C=F=>"<"===h?n(o,g(F))>=1:n(o,g(F))<=-1:(C=[Ie,h,l],B||(C=[C,"or",[Ie,"=",null]])),I=[C,"or",I]}}),I},_generateFilterByKey(b,c){var a=this._dataSource.key(),d=[];if(c||(c="="),Array.isArray(a))for(var m=0;m<a.length;++m){var S=b[a[m]];S&&(d.length>0&&d.push("and"),d.push([a[m],c,S]))}else d=[a,c,b];return d},_getLastItemIndex(){return this.items(!0).length-1}},editing:{_deleteRowCore(b){var c=this.callBase.apply(this,arguments),a=this.getController("data"),d=a.getKeyByRowIndex(b);c.done(()=>{var m=a.getRowIndexByKey(d),S=a.getVisibleRows();-1===m&&!S.length&&this.getController("focus")._resetFocusedRow()})}}},views:{rowsView:{_createRow(b){var c=this.callBase.apply(this,arguments);return this.option("focusedRowEnabled")&&b&&this.getController("focus").isRowFocused(b.key)&&c.addClass(P),c},_checkRowKeys(b){if(this.callBase.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){var c=this._dataController.store();c&&!c.key()&&this._dataController.fireError("E1042","Row focusing")}},_update(b){"updateFocusedRow"===b.changeType?this.option("focusedRowEnabled")&&this.getController("focus").updateFocusedRow(b):this.callBase(b)},updateFocusElementTabIndex(b,c){this.option("focusedRowEnabled")?this._setFocusedRowElementTabIndex(c):this.callBase(b)},_setFocusedRowElementTabIndex(b){var c=this.option("focusedRowKey"),a=this.option("tabIndex")||0,d=this._dataController,m=this._columnsController,S=d.getRowIndexByKey(c),I=this.option("focusedColumnIndex"),N=this._findRowElementForTabIndex();if((0,he.O9)(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=()=>{this.scrollToElementVertically(this._findRowElementForTabIndex()),this.resizeCompleted.remove(this._scrollToFocusOnResize)}),N.attr("tabIndex",a),S>=0&&!b&&(I<0&&(I=0),S+=d.getRowIndexOffset(),I+=m.getColumnIndexOffset(),this.getController("keyboardNavigation").setFocusedCellPosition(S,I),this.getController("focus").isAutoNavigateToFocusedRow())){var xe=d.dataSource(),Pe=xe&&xe.operationTypes();Pe&&!Pe.paging&&!d.isPagingByRendering()&&(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize))}},_findRowElementForTabIndex(){var b=this.option("focusedRowKey"),c=this._dataController.getRowIndexByKey(b);return(0,be.A)(this.getRowElement(c>=0?c:0))},scrollToRowElement(b){var c=this.getController("data").getRowIndexByKey(b),a=(0,be.A)(this.getRow(c));return this.scrollToElementVertically(a)},scrollToElementVertically(b){var c=this.getScrollable();if(c&&b.length){var a=c.getScrollElementPosition(b,"vertical");return this.scrollTopPosition(a)}return(new se.cY).resolve()},scrollTopPosition(b){var c=new se.cY,a=this.getScrollable();if(a){var d=a.scrollTop(),m=()=>{a.off("scroll",m),c.resolve()};if(b!==d)return a.on("scroll",m),this._dataController.resetFilterApplying(),a.scrollTo({top:b}),c.promise()}return c.resolve()}}}}}},6101:(Mt,dt,i)=>{i.d(dt,{Q:()=>U});var be=i(8168),k=i(9407),se=i(2984),_e=i(7951),he=i(2101),Ce=i(448),le=i(2463),ae=i(1076),oe=i(9845),ee=i(7514),q=i(8060),P=i(1269),Y=i(9259),Ee=i(736),re=i(2328),j=i(438),ue=i(4895),b=i(5207),d=(i(9067),i(9700),i(4292)),m=i(6536),S=i(4633),I=i(8321),N="dx-header-filter",xe="dx-header-filter-menu";function Ie(p){p=p||[];for(var w=0;w<p.length;w++)p[w].selected=!1,Ie(p[w].items)}function B(p){var w="dxTreeView"===p.NAME?".dx-treeview-select-all-item":".dx-list-select-all-checkbox";return p.$element().find(w).dxCheckBox("instance")}function n(p,w){if(!p.component.option("searchValue")){var V=B(p.component);V&&w&&w.length&&V.option("value",void 0)}}function g(p,w,V){if(w^V){if(p.selected=!0,V&&p.items)for(var J=0;J<p.items.length;J++)if(!p.items[J].selected){p.selected=void 0;break}}else(V||p.selected)&&(p.selected=!1,Ie(p.items))}var o=ue.A.View.inherit({getPopupContainer(){return this._popupContainer},getListComponent(){return this._listComponent},applyHeaderFilter(p){var w=this.getListComponent(),V=w.option("searchValue"),J=B(w),ye=[];V||p.isFilterBuilder||!J?.option("value")?"tree"===p.type&&(p.filterType&&(p.filterType="include"),function de(Te,Ne,T){(0,he.__)(Ne,(r,v)=>{if(void 0!==v.selected&&!!v.selected^T){var f=w._getNode(v),t=w._hasChildren(f)&&v.items&&v.items.some(u=>u.selected);if(!V||!t)return void Te.push(v.value)}v.items&&v.items.length&&de(Te,v.items,T)})}(ye,w.option("items"),!1),p.filterValues=ye):("tree"===p.type&&(p.filterType="exclude"),Array.isArray(p.filterValues)&&(p.filterValues=[])),p.filterValues&&!p.filterValues.length&&(p.filterValues=null),p.apply(),this.hideHeaderFilterMenu()},showHeaderFilterMenu(p,w){if(w){this._initializePopupContainer(w);var V=this.getPopupContainer();this.hideHeaderFilterMenu(),this.updatePopup(p,w),V.show()}},hideHeaderFilterMenu(){var p=this.getPopupContainer();p&&p.hide()},updatePopup(p,w){var V=this.option("showColumnLines"),J="right"===w.alignment^!V?"left":"right";this._popupContainer.setAria({role:"dialog",label:Ee.A.format("dxDataGrid-headerFilterLabel")}),this._popupContainer&&(this._cleanPopupContent(),this._popupContainer.option("position",{my:"".concat(J," top"),at:"".concat(J," bottom"),of:p,collision:"fit fit"}))},_getSearchExpr(p,w){var{lookup:V}=p,{useDefaultSearchExpr:J}=p,$=w.dataSource,ye=w.search.searchExpr;if(ye)return ye;if(J||(0,le.O9)($)&&!(0,le.Tn)($))return"text";if(V)return V.displayExpr||"this";if(p.dataSource){var{group:de}=p.dataSource;if(Array.isArray(de)&&de.length>0)return de[0].selector;if((0,le.Tn)(de)&&!p.remoteFiltering)return de}return p.dataField||p.selector},_cleanPopupContent(){this._popupContainer&&this._popupContainer.$content().empty()},_initializePopupContainer(p){var w=this,V=w.element(),J=this._normalizeHeaderFilterOptions(p),{height:$,width:ye}=J,de={width:ye,height:$,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,hideOnParentScroll:!1,dragEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:xe},focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:J.texts.ok,onClick(){w.applyHeaderFilter(p)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:J.texts.cancel,onClick(){w.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing(Te){Te.component.$content().parent().addClass("dx-dropdowneditor-overlay"),w._initializeListContainer(p,J),p.onShowing&&p.onShowing(Te)},onShown(){w.getListComponent().focus()},onHidden:p.onHidden,onInitialized(Te){var{component:Ne}=Te;Ne.option("animation",Ne._getDefaultOptions().animation)}};(0,le.O9)(w._popupContainer)?w._popupContainer.option(de):w._popupContainer=w._createComponent(V,S.A,de)},_initializeListContainer(p,w){var V=this,J=V._popupContainer.$content(),$=!p.isFilterBuilder&&w.allowSelectAll,ye={searchEnabled:w.search.enabled,searchTimeout:w.search.timeout,searchEditorOptions:w.search.editorOptions,searchMode:w.search.mode||"",dataSource:p.dataSource,onContentReady(){V.renderCompleted.fire()},itemTemplate(Te,Ne,T){var r=(0,d.A)(T);return p.encodeHtml?r.text(Te.text):r.html(Te.text)}};function de(Te){"searchValue"===Te.fullName&&$&&!1!==V.option("headerFilter.hideSelectAllOnSearch")&&("tree"===p.type?Te.component.option("showCheckBoxesMode",Te.value?"normal":"selectAll"):Te.component.option("selectionMode",Te.value?"multiple":"all"))}V._listComponent="tree"===p.type?V._createComponent((0,d.A)("<div>").appendTo(J),I.A,(0,_e.X)(ye,{showCheckBoxesMode:$?"selectAll":"normal",onOptionChanged:de,keyExpr:"id"})):V._createComponent((0,d.A)("<div>").appendTo(J),m.A,(0,_e.X)(ye,{searchExpr:V._getSearchExpr(p,w),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:$?"all":"multiple",onOptionChanged:de,onSelectionChanged(Te){var Ne=Te.component.option("items"),T=Te.component.option("selectedItems");if(!Te.component._selectedItemsUpdating&&!Te.component.option("searchValue")&&!p.isFilterBuilder){var r=p.filterValues||[];0===T.length&&Ne.length&&(r.length<=1||"exclude"===p.filterType&&r.length===Ne.length-1)?(p.filterType="include",p.filterValues=[]):T.length===Ne.length&&(p.filterType="exclude",p.filterValues=[])}(0,he.__)(Ne,(f,s)=>{var t=b.A.getIndexByKey(s,T,null)>=0;if(!!s.selected!==t){s.selected=t,p.filterValues=p.filterValues||[];var y=b.A.getIndexByKey(s.value,p.filterValues,null);y>=0&&p.filterValues.splice(y,1),t^"exclude"===p.filterType&&p.filterValues.push(s.value)}}),n(Te,p.filterValues)},onContentReady(Te){var{component:Ne}=Te,T=Ne.option("items"),r=[];(0,he.__)(T,function(){this.selected&&r.push(this)}),Ne._selectedItemsUpdating=!0,Ne.option("selectedItems",r),Ne._selectedItemsUpdating=!1,n(Te,p.filterValues)}}))},_normalizeHeaderFilterOptions(p){var w=this.option("headerFilter")||{},V=p.headerFilter||{};return(0,_e.X)(!0,{},w,{search:{enabled:w.allowSearch,timeout:w.searchTimeout}},V,{search:{enabled:V.allowSearch,mode:V.searchMode,timeout:V.searchTimeout}})},_renderCore(){this.element().addClass(xe)}}),l=function(p){return(0,le.O9)(p.allowHeaderFiltering)?p.allowHeaderFiltering:p.allowFiltering},_={_applyColumnState(p){var w,{rootElement:V}=p,{column:J}=p;if("headerFilter"===p.name){if(V.find(".".concat(N)).remove(),l(J)){w=this.callBase(p).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(J)),this.option("useLegacyKeyboardNavigation")||w.attr("tabindex",this.option("tabindex")||0);var $=Ee.A.format("dxDataGrid-headerFilterIndicatorLabel",J.caption);w.attr("aria-label",$),w.attr("aria-haspopup","dialog"),w.attr("role","button")}return w}return this.callBase(p)},_isHeaderFilterEmpty:p=>!p.filterValues||!p.filterValues.length,_getIndicatorClassName(p){return"headerFilter"===p?N:this.callBase(p)},_renderIndicator(p){var w=p.container,V=p.indicator;if("headerFilter"===p.name){var J=this.option("rtlEnabled");if(w.children().length&&(!J&&"right"===p.columnAlignment||J&&"left"===p.columnAlignment))return void w.prepend(V)}this.callBase(p)},optionChanged(p){if("headerFilter"===p.name){var w="columnHeadersView"===this.name;this._invalidate(w,w),p.handled=!0}else this.callBase(p)}},h={month:p=>Y.A.getMonthNames()[p-1],quarter:p=>Y.A.format(new Date(2e3,3*p-1),"quarter")};function C(p,w,V){return w=w||[],V=V||[],p.forEach(J=>{if((0,le.O9)(J.key)){if(w.push(1===w.length?J.key-1:J.key),J.items)C(J.items,w,V);else{var ye=new Date(Date.UTC.apply(Date,w));V.push(ye)}w.pop()}else V.push(null)}),V}function F(p,w){var V=C(p),J=(0,oe.A)(V),$=b.A.getHeaderFilterGroupParameters((0,be.A)((0,be.A)({},w),{calculateCellValue:ye=>ye}));return ee.A.queryByOptions(J,{group:$}).toArray()}var U={defaultOptions:()=>({syncLookupFilterValues:!0,headerFilter:{visible:!1,width:252,height:325,allowSelectAll:!0,search:{enabled:!1,timeout:500,mode:"contains",editorOptions:{}},texts:{emptyValue:Ee.A.format("dxDataGrid-headerFilterEmptyValue"),ok:Ee.A.format("dxDataGrid-headerFilterOK"),cancel:Ee.A.format("dxDataGrid-headerFilterCancel")}}}),controllers:{headerFilter:ue.A.ViewController.inherit({init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState(p,w){for(var V=p.length,J="exclude"===w.filterType;V--;){var $=p[V];"items"in p[V]&&this._updateSelectedState(p[V].items,w),g($,b.A.getIndexByKey(p[V].value,w.filterValues,null)>-1,J)}},_normalizeGroupItem(p,w,V){var J,$,{path:ye}=V,{valueSelector:de}=V,{displaySelector:Te}=V,{column:Ne}=V;return de&&Te?(J=de(p),$=Te(p)):$=J=p.key,p=(0,le.Gv)(p)?(0,_e.X)({},p):{},ye.push(J),p.value=1===ye.length?ye[0]:ye.join("/"),p.text=this.getHeaderItemText($,Ne,w,V.headerFilterOptions),p},getHeaderItemText(p,w,V,J){var ye,de,Te,Ne,T,$=b.A.formatValue(p,(ye=p,Te=V,Ne=j.A.getGroupInterval(de=w),T=b.A.getFormatOptionsByColumn(de,"headerFilter"),Ne&&(T.groupInterval=Ne[Te],b.A.isDateType(de.dataType)?T.format=h[Ne[Te]]:"number"===de.dataType&&(T.getDisplayFormat=function(){var r={format:de.format,target:"headerFilter"},v=b.A.formatValue(ye,r),s=b.A.formatValue(ye+Ne[Te],r);return v&&s?"".concat(v," - ").concat(s):""})),T));return $||($=J.texts.emptyValue),$},_processGroupItems(p,w,V,J){var $,ye,{column:de}=J,{lookup:Te}=de,{level:Ne}=J;V=V||[],w=w||0,Te&&($=(0,k.Hz)(Te.displayExpr),ye=(0,k.Hz)(Te.valueExpr));for(var T=0;T<p.length;T++)p[T]=this._normalizeGroupItem(p[T],w,{column:J.column,headerFilterOptions:J.headerFilterOptions,displaySelector:$,valueSelector:ye,path:V}),"items"in p[T]&&(w!==Ne&&(0,le.O9)(p[T].value)?this._processGroupItems(p[T].items,w+1,V,J):delete p[T].items),V.pop()},getDataSource(p){var w,V=this._dataController.dataSource(),J=V?.remoteOperations().grouping,$=b.A.getHeaderFilterGroupParameters(p,J),ye=null===(w=p.headerFilter)||void 0===w?void 0:w.dataSource,de=this.option("headerFilter"),Te=!1,Ne={component:this.component};if(V){if((0,le.O9)(ye)&&!(0,le.Tn)(ye))Ne.dataSource=(0,ae.ho)(ye);else if(p.lookup)if(Te=!0,this.option("syncLookupFilterValues")){this._currentColumn=p;var T=this._dataController.getCombinedFilter();this._currentColumn=null,Ne.dataSource=b.A.getWrappedLookupDataSource(p,V,T)}else Ne.dataSource=b.A.normalizeLookupDataSource(p.lookup);else{var r=Array.isArray($)?$.length-1:0;this._currentColumn=p;var v=this._dataController.getCombinedFilter();this._currentColumn=null,Ne.dataSource={filter:v,group:$,useDefaultSearch:!0,load:t=>{var u=new se.cY;return t.dataField=p.dataField||p.name,V.load(t).done(y=>{var K=J&&function te(p){return"Z"===p?.slice(-1)||"'Z'"===p?.slice(-3)}(p.serializationFormat)&&r>3;K&&(y=F(y,p)),s._processGroupItems(y,null,null,{level:r,column:p,headerFilterOptions:de}),u.resolve(y)}).fail(u.reject),u}}}(0,le.Tn)(ye)&&ye.call(p,Ne);var f=Ne.dataSource.postProcess,s=this;return Ne.dataSource.postProcess=function(t){var u=t;return Te&&(u=u.filter(y=>null!==y[p.lookup.valueExpr]),0===this.pageIndex()&&!this.searchValue()&&(u=u.slice(0)).unshift(null),s._processGroupItems(u,null,null,{level:0,column:p,headerFilterOptions:de})),u=f&&f.call(this,u)||u,s._updateSelectedState(u,p),u},Ne.dataSource}},getCurrentColumn(){return this._currentColumn},showHeaderFilterMenu(p,w){var V=this._columnsController,J=(0,_e.X)(!0,{},this._columnsController.getColumns()[p]);if(J){var $=V.getVisibleIndex(p),de=this.getView(w?"headerPanel":"columnHeadersView").getColumnElements().eq(w?J.groupIndex:$);this.showHeaderFilterMenuBase({columnElement:de,column:J,applyFilter:!0,apply(){V.columnOption(p,{filterValues:this.filterValues,filterType:this.filterType})}})}},showHeaderFilterMenuBase(p){var w=this,{column:V}=p;if(V){var J=j.A.getGroupInterval(V),$=w._dataController.dataSource(),ye=$&&$.remoteOperations().filtering,de=p.onHidden;(0,_e.X)(p,V,{type:J&&J.length>1?"tree":"list",remoteFiltering:ye,onShowing(Te){var Ne=Te.component.$overlayContent().dxResizable("instance");Ne&&Ne.option("onResizeEnd",T=>{var r=w.getController("columns"),v=r.columnOption(p.dataField,"headerFilter");(v=v||{}).width=T.width,v.height=T.height,r.columnOption(p.dataField,"headerFilter",v,!0)})},onHidden:()=>{de?.(),(0,re.Dy)(this)}}),p.dataSource=w.getDataSource(p),p.isFilterBuilder&&(p.dataSource.filter=null,p.alignment="right"),w._headerFilterView.showHeaderFilterMenu(p.columnElement,p)}},hideHeaderFilterMenu(){this._headerFilterView.hideHeaderFilterMenu()}})},views:{headerFilterView:o},extenders:{controllers:{data:{skipCalculateColumnFilters:()=>!1,_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return this.callBase();var p=[this.callBase()],w=this._columnsController.getVisibleColumns(null,!0),J=this.getController("headerFilter").getCurrentColumn();return(0,he.__)(w,($,ye)=>{var de;if((!J||J.index!==ye.index)&&l(ye)&&ye.calculateFilterExpression&&Array.isArray(ye.filterValues)&&ye.filterValues.length){var Te=[];(0,he.__)(ye.filterValues,(Ne,T)=>{Array.isArray(T)?de=T:(ye.deserializeValue&&!b.A.isDateType(ye.dataType)&&"number"!==ye.dataType&&(T=ye.deserializeValue(T)),de=ye.createFilterExpression(T,"=","headerFilter")),de&&(de.columnIndex=ye.index),Te.push(de)}),Te=b.A.combineFilters(Te,"or"),p.push("exclude"===ye.filterType?["!",Te]:Te)}}),b.A.combineFilters(p)}}},views:{columnHeadersView:(0,_e.X)({},_,{_renderCellContent(p,w){var V,{column:J}=w;!J.command&&l(J)&&this.option("headerFilter.visible")&&"header"===w.rowType&&(V=this._applyColumnState({name:"headerFilter",rootElement:p,column:J,showColumnLines:this.option("showColumnLines")}))&&this._subscribeToIndicatorEvent(V,J,"headerFilter"),this.callBase.apply(this,arguments)},_subscribeToIndicatorEvent(p,w,V){"headerFilter"===V&&P.A.on(p,q.U,this.createAction(J=>{J.event.stopPropagation(),(0,re.Z7)(p,this),this.getController("headerFilter").showHeaderFilterMenu(w.index,!1)}))},_updateIndicator(p,w,V){var J=this.callBase(p,w,V);J&&this._subscribeToIndicatorEvent(J,w,V)},_updateHeaderFilterIndicators(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")},_needUpdateFilterIndicators:()=>!0,_columnOptionChanged(p){var{optionNames:w}=p,V=b.A.checkChanges(w,["filterValues","filterValue"]),J=b.A.checkChanges(w,["filterValues","filterType"]);(V||J)&&this._needUpdateFilterIndicators()&&this._updateHeaderFilterIndicators(),J||this.callBase(p)}}),headerPanel:(0,_e.X)({},_,{_createGroupPanelItem(p,w){var $,V=this,J=V.callBase.apply(V,arguments);return!w.command&&l(w)&&V.option("headerFilter.visible")&&($=V._applyColumnState({name:"headerFilter",rootElement:J,column:{alignment:(0,Ce.n)(V.option("rtlEnabled")),filterValues:w.filterValues,allowHeaderFiltering:!0},showColumnLines:!0}))&&P.A.on($,q.U,V.createAction(ye=>{var{event:de}=ye;de.stopPropagation(),V.getController("headerFilter").showHeaderFilterMenu(w.index,!0)})),J}})}}}},8539:(Mt,dt,i)=>{i.d(dt,{k:()=>Ee});var be=i(8168),k=i(4292),se=i(9407),_e=i(7951),he=i(2463),Ce=i(736),le=i(6845),ae=i(5101),ee="toolbar-button",P=["addRowButton","applyFilterButton","columnChooserButton","exportButton","groupPanel","revertButton","saveButton","searchPanel"],Ee={defaultOptions:()=>({}),views:{headerPanel:class Y extends ae.n{_getToolbarItems(){return[]}_getButtonContainer(){return(0,k.A)("<div>").addClass(this.addWidgetPrefix(ee))}_getToolbarButtonClass(j){var ue=j?" ".concat(j):"";return this.addWidgetPrefix(ee)+ue}_getToolbarOptions(){var j=this.option("toolbar"),ue={toolbarOptions:{items:this._getToolbarItems(),visible:j?.visible,disabled:j?.disabled,onItemRendered(a){var d=a.itemData.onItemRendered;d&&d(a)}}},b=j?.items;if(ue.toolbarOptions.items=this._normalizeToolbarItems(ue.toolbarOptions.items,b),this.executeAction("onToolbarPreparing",ue),ue.toolbarOptions&&!(0,he.O9)(ue.toolbarOptions.visible)){var c=ue.toolbarOptions.items;ue.toolbarOptions.visible=!!c?.length}return ue.toolbarOptions}_normalizeToolbarItems(j,ue){j.forEach(m=>{if(!P.includes(m.name))throw new Error("Default toolbar item '".concat(m.name,"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES"))});var b={location:"after"},c=Array.isArray(ue);if(!(0,he.O9)(ue))return j;c||(ue=[ue]);var a={};j.forEach(m=>{a[m.name]=m});var d=ue.map(m=>((0,he.Kg)(m)&&(m={name:m}),(0,he.O9)(m.name)&&((0,he.O9)(a[m.name])?m=(0,_e.X)(!0,{},a[m.name],m):P.includes(m.name)&&(m=(0,be.A)((0,be.A)({},m),{visible:!1}))),(0,_e.X)(!0,{},b,m)));return c?d:d[0]}_renderCore(){if(this._toolbar)this._toolbar.option(this._toolbarOptions);else{var j=this.element();j.addClass(this.addWidgetPrefix("header-panel"));var ue=Ce.A.format(this.component.NAME+"-ariaToolbar"),b=(0,k.A)("<div>").attr("aria-label",ue).appendTo(j);this._toolbar=this._createComponent(b,le.A,this._toolbarOptions)}}_columnOptionChanged(){}_handleDataChanged(){this._requireReady&&this.render()}_isDisabledDefinedByUser(j){var ue,b=null===(ue=this.option("toolbar"))||void 0===ue?void 0:ue.items,c=b?.find(a=>a?.name===j);return(0,he.O9)(c?.disabled)}init(){super.init(),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})}render(){this._toolbarOptions=this._getToolbarOptions(),super.render.apply(this,arguments)}setToolbarItemDisabled(j,ue){var b,c=this._toolbar,a=this._isDisabledDefinedByUser(j);if(c&&!a){var m=(null!==(b=c.option("items"))&&void 0!==b?b:[]).findIndex(I=>I.name===j);if(!(m<0)){var S=c.option("items[".concat(m,"]"));c.option("items[".concat(m,"].disabled"),ue),S.options&&c.option("items[".concat(m,"].options.disabled"),ue)}}}updateToolbarDimensions(){var j;null===(j=this._toolbar)||void 0===j||j.updateDimensions()}getHeaderPanel(){return this.element()}getHeight(){return this.getElementHeight()}optionChanged(j){if("onToolbarPreparing"===j.name&&(this._invalidate(),j.handled=!0),"toolbar"===j.name&&(j.handled=!0,this._toolbar)){var ue=(0,se.u7)(j.fullName),b=j.fullName.replace(/^toolbar\./,"");if(1===ue.length){var c=this._getToolbarOptions();this._toolbar.option(c)}else if("items"===ue[1])if(2===ue.length){var a=this._getToolbarOptions();this._toolbar.option("items",a.items)}else if(3===ue.length){var d=this._normalizeToolbarItems(this._getToolbarItems(),j.value);this._toolbar.option(b,d)}else ue.length>=4&&this._toolbar.option(b,j.value);else this._toolbar.option(b,j.value)}super.optionChanged(j)}isVisible(){return!(!this._toolbarOptions||!this._toolbarOptions.visible)}allowDragging(){}hasGroupedColumns(){}}},extenders:{controllers:{resizing:{_updateDimensionsCore(){this.callBase.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}}}}}},5855:(Mt,dt,i)=>{i.d(dt,{S:()=>Ht});var be=i(5042),k=i(7669),se=i(181),_e=i(4292),he=i(9263),Ce=i(2984),le=i(186),ae=i(2463),oe=i(8060),ee=i(1269),q=i(4159),P=i(8257),Y=i(9104),Ee=i(2328),re=i(1063),j=(nt,M)=>nt.length===M.length&&!Object.keys(nt).some(ce=>nt[ce]!==M[ce]),ue=(nt,M)=>(0,be.RL)(nt,M,{maxDepth:4}),c={compareType:"reference"},a=function(nt){var{compareType:M}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,ce=null;return function(){for(var Be=arguments.length,Se=new Array(Be),Ye=0;Ye<Be;Ye++)Se[Ye]=arguments[Ye];if(!ce){var Qe=nt(...Se);return ce=((nt,M,ce,Be)=>{var Se=nt,Ye=M;return function(){for(var Qe=arguments.length,pt=new Array(Qe),At=0;At<Qe;At++)pt[At]=arguments[At];return Be(pt,Se)||(Se=pt,Ye=ce(...Se)),Ye}})(Se,Qe,nt,"reference"===M?j:ue),Qe}return ce(...Se)}},d=i(3586),m=i(4895),S=i(5207),N="rowsview",B="dx-data-row",_="dx-freespace-row",C="dx-master-detail-cell",X="dx-command-expand",He="dx-command-select",D="[class^=dx-command]",U="dx-cell-focus-disabled",w="dx-state-focused",$="dx-focused",ye="delete",de='\n  input:not([type="hidden"]):not([disabled]),\n  textarea:not([disabled]),\n  a:not([disabled]),\n  select:not([disabled]),\n  button:not([disabled]),\n  [tabindex]:not([disabled]),\n  .dx-checkbox:not([disabled])\n',Te="".concat(de,", .dx-dropdowneditor-icon"),r="cell",v="columnHeadersView",f=["shift","control","alt"],y=i(3862);function pe(nt){return nt&&nt.hasClass("dx-group-row")}function R(nt){return nt&&nt.hasClass("dx-master-detail-row")}function z(nt){return nt&&nt.hasClass(B)}function Me(nt,M){return!nt._isRowEditMode()&&M&&!M.hasClass(He)&&M.hasClass(d.su)}function ze(nt){return(0,ae.O9)(nt)&&nt.length>0}function tt(){return"desktop"!==y.A.current().deviceType}function ht(nt){return!!nt.parent(".".concat("dx-header-row")).length}var Ht={defaultOptions:()=>({useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}),controllers:{keyboardNavigation:class Pt extends m.A.ViewController{init(){var M,ce;this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._rowsView=this.getView("rowsView"),this._columnsController=this.getController("columns"),this._editorFactory=this.getController("editorFactory"),this._focusController=this.getController("focus"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._memoFireFocusedCellChanged=a(this._memoFireFocusedCellChanged.bind(this),{compareType:"value"}),this._memoFireFocusedRowChanged=a(this._memoFireFocusedRowChanged.bind(this),{compareType:"value"}),this.focusedHandlerWithContext=this.focusedHandlerWithContext||this.focusedHandler.bind(this),this.renderCompletedWithContext=this.renderCompletedWithContext||this.renderCompleted.bind(this),this.rowsViewFocusHandlerContext=this.rowsViewFocusHandlerContext||this.rowsViewFocusHandler.bind(this),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._focusedCellPosition={},this._canceledCellPosition=null,this.isKeyboardEnabled()?(Ee.rK(),null===(M=this._editorFactory)||void 0===M||M.focused.add(this.focusedHandlerWithContext),this.createAction("onKeyDown")):(Ee.WX(),null===(ce=this._editorFactory)||void 0===ce||ce.focused.remove(this.focusedHandlerWithContext)),this.initViewHandlers(),this.initDocumentHandlers()}focusedHandler(M){this.setupFocusedView(),this._isNeedScroll&&M.is(":visible")&&this._focusedView&&this._focusedView.getScrollable&&(this._focusedView._scrollToElement(M),this._isNeedScroll=!1)}rowsViewFocusHandler(M){var ce,Be=(0,_e.A)(M.target),Se=(0,_e.A)(M.relatedTarget).closest(this._rowsView.element()).length,Ye=Be.is("a");if(M.relatedTarget&&Ye&&!Se&&this._isEventInCurrentGrid(M)){var Qe=this._getFocusedCell();Qe=ze(Qe)?Qe:this._rowsView.getCellElements(0).filter("[tabindex]").eq(0),Be.closest(Qe).length||(M.preventDefault(),ee.A.trigger(Qe,"focus"))}var pt=Be.is("td"),At=(null!==(ce=this.option("focusedRowIndex"))&&void 0!==ce?ce:-1)<0;pt&&At&&this._updateFocusedCellPosition(Be)}subscribeToRowsViewFocusEvent(){var M,ce=null===(M=this._rowsView)||void 0===M?void 0:M.element();ee.A.on(ce,"focusin",this.rowsViewFocusHandlerContext)}unsubscribeFromRowsViewFocusEvent(){var M,ce=null===(M=this._rowsView)||void 0===M?void 0:M.element();ee.A.off(ce,"focusin",this.rowsViewFocusHandlerContext)}renderCompleted(M){var ce=this._rowsView.element(),Be=!M||"refresh"===M.changeType,Se=this._focusedView&&this._focusedView.name===this._rowsView.name,Qe=M&&("append"===M.changeType||"prepend"===M.changeType),At=(0,_e.A)(k.A.getRootNode(ce.get&&ce.get(0))).find(":focus"),_t=!At.length||At.closest(ce).length;this.unsubscribeFromRowsViewFocusEvent(),this.subscribeToRowsViewFocusEvent(),this.initPointerEventHandler(),this.initKeyDownHandler(),this._setRowsViewAttributes(),Se&&_t&&(this._isNeedFocus?!Qe:this._isHiddenFocus&&Be&&!M?.virtualColumnsScrolling)&&this._updateFocus(!0)}initViewHandlers(){var M,ce;this.unsubscribeFromRowsViewFocusEvent(),this.unsubscribeFromPointerEvent(),this.unsubscribeFromKeyDownEvent(),null===(ce=null===(M=this._rowsView)||void 0===M?void 0:M.renderCompleted)||void 0===ce||ce.remove(this.renderCompletedWithContext),this.isKeyboardEnabled()&&this._rowsView.renderCompleted.add(this.renderCompletedWithContext)}initDocumentHandlers(){var M=k.A.getDocument();this._documentClickHandler=this._documentClickHandler||this.createAction(ce=>{var Be=(0,_e.A)(ce.event.target),Se=this._isEventInCurrentGrid(ce.event)&&Be.closest(".".concat(this.addWidgetPrefix(N))).length,Ye=Be.closest(".".concat("dx-dropdowneditor-overlay")).length,Qe=this.getController("columnsResizer"),pt=!!Qe&&Qe.isResizing();Se||Ye||pt||(!(this._focusedView&&Be.parents().filter(this._focusedView.element()).length>0)&&this._resetFocusedCell(!0),this._resetFocusedView())}),ee.A.off(M,(0,Y.b4)(q.A.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),this.isKeyboardEnabled()&&ee.A.on(M,(0,Y.b4)(q.A.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)}_setRowsViewAttributes(){var M=this._getRowsViewElement();!this._dataController.getVisibleRows().length&&this._applyTabIndexToElement(M)}unsubscribeFromPointerEvent(){var M=tt()?oe.U:q.A.down,ce=this._getRowsViewElement();this._pointerEventAction&&ee.A.off(ce,(0,Y.b4)(M,"dxDataGridKeyboardNavigation"),this._pointerEventAction)}subscribeToPointerEvent(){var M=tt()?oe.U:q.A.down,ce=this._getRowsViewElement(),Be=".".concat(d.sN," > td, .").concat(d.sN);ee.A.on(ce,(0,Y.b4)(M,"dxDataGridKeyboardNavigation"),Be,this._pointerEventAction)}initPointerEventHandler(){this._pointerEventAction=this._pointerEventAction||this.createAction(this._pointerEventHandler),this.unsubscribeFromPointerEvent(),this.subscribeToPointerEvent()}unsubscribeFromKeyDownEvent(){P.QJ.off(this._keyDownListener)}subscribeToKeyDownEvent(){var M=this._getRowsViewElement();this._keyDownListener=P.QJ.on(M,null,ce=>this._keyDownHandler(ce))}initKeyDownHandler(){this._keyDownListener&&this.unsubscribeFromKeyDownEvent(),this.subscribeToKeyDownEvent()}dispose(){super.dispose(),this._resetFocusedView(),P.QJ.off(this._keyDownListener),ee.A.off(k.A.getDocument(),(0,Y.b4)(q.A.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),Ee.WX()}optionChanged(M){switch(M.name){case"keyboardNavigation":case"useLegacyKeyboardNavigation":this.init(),M.handled=!0;break;default:super.optionChanged(M)}}isRowFocusType(){return"row"===this.focusType}isCellFocusType(){return this.focusType===r}setRowFocusType(){this.option("focusedRowEnabled")&&(this.focusType="row")}setCellFocusType(){this.focusType=r}_keyDownHandler(M){var ce,Be=!0;this._isNeedFocus=!0,this._isNeedScroll=!0;var Se=this._processOnKeyDown(M),Ye=null===(ce=this._editingController)||void 0===ce?void 0:ce.isEditing(),{originalEvent:Qe}=M;if(Qe.isDefaultPrevented())return this._isNeedFocus=!1,void(this._isNeedScroll=!1);if(!f.includes(M.keyName)&&this._updateFocusedCellPositionByTarget(Qe.target),!Se){switch(M.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(M,Ye),Se=!0;break;case"upArrow":case"downArrow":M.ctrl?Ee.sf("rowsView",this,Qe):this._upDownKeysHandler(M,Ye),Se=!0;break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(M),Se=!0;break;case"space":Se=this._spaceKeyHandler(M,Ye);break;case"A":(0,Y.By)(M.originalEvent)?(this._ctrlAKeyHandler(M,Ye),Se=!0):Se=this._beginFastEditing(M.originalEvent);break;case"tab":this._tabKeyHandler(M,Ye),Se=!0;break;case"enter":this._enterKeyHandler(M,Ye),Se=!0;break;case"escape":this._escapeKeyHandler(M,Ye),Se=!0;break;case"F":(0,Y.By)(M.originalEvent)?(this._ctrlFKeyHandler(M),Se=!0):Se=this._beginFastEditing(M.originalEvent);break;case"F2":this._f2KeyHandler(),Se=!0;break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&(Se=this._beginFastEditing(Qe,!0))}!Se&&!this._beginFastEditing(Qe)&&(this._isNeedFocus=!1,this._isNeedScroll=!1,Be=!1),Be&&Qe.stopPropagation()}}_processOnKeyDown(M){var{originalEvent:ce}=M,Be={handled:!1,event:ce};return this.executeAction("onKeyDown",Be),M.ctrl=ce.ctrlKey,M.alt=ce.altKey,M.shift=ce.shiftKey,!!Be.handled}_closeEditCell(){setTimeout(()=>{this._editingController.closeEditCell()})}_leftRightKeysHandler(M,ce){var Be=this.getVisibleRowIndex(),Se=M.originalEvent,Ye=this._focusedView&&this._focusedView.getRow(Be),Qe=this._getDirectionCodeByKey(M.keyName),pt=this._isFastEditingStarted();if((!ce||pt)&&z(Ye)){this.setCellFocusType(),pt&&this._closeEditCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(Qe);var _t=this._getNextCell(Qe);ze(_t)&&this._arrowKeysHandlerFocusCell(Se,_t,Qe),Se&&Se.preventDefault()}}_upDownKeysHandler(M,ce){var Be,Se,Ye=this.getVisibleRowIndex(),Qe=this._focusedView&&this._focusedView.getRow(Ye),pt=M.originalEvent,At="upArrow"===M.keyName,_t=this._dataController.dataSource(),Fe=null===(Se=null===(Be=this._editingController)||void 0===Be?void 0:Be.isEditRowByIndex)||void 0===Se?void 0:Se.call(Be,Ye),Je=this._isFastEditingStarted();if((!Fe||!ce||Je)&&Qe&&!R(Qe)){if(Je&&this._closeEditCell(),!this._navigateNextCell(pt,M.keyName)&&this._isVirtualRowRender()&&At&&_t&&!_t.isLoading()){var Ot=(0,le.P$)(Qe);this._scrollBy(0,-Ot,this._focusedCellPosition.rowIndex-1,pt)}pt&&pt.preventDefault()}}_pageUpDownKeyHandler(M){var ce=this._dataController.pageIndex(),Be=this._dataController.pageCount(),Se=this.option("paging.enabled"),Ye="pageUp"===M.keyName,Qe=Ye?-1:1,pt=this._rowsView.getScrollable();Se&&!this._isVirtualScrolling()?(Ye?ce>0:ce<Be-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(ce+Qe),M.originalEvent.preventDefault()):pt&&(0,le.Oq)(pt.container())<(0,le.Oq)(pt.$content())&&(this._scrollBy(0,(0,le.Oq)(pt.container())*Qe),M.originalEvent.preventDefault())}_spaceKeyHandler(M,ce){var Be=this.getVisibleRowIndex(),Se=(0,_e.A)(M.originalEvent&&M.originalEvent.target);if(this.option("selection")&&"none"!==this.option("selection").mode&&!ce){var Ye="row"===this._getElementType(Se)&&this.isRowFocusType()&&z(Se);return Se.hasClass(He)&&"onClick"===this.option("selection.showCheckBoxesMode")&&this._selectionController.startSelectionWithCheckboxes(),!!(Ye||Se.parent().hasClass(B)||Se.hasClass(this.addWidgetPrefix(N)))&&(this._selectionController.changeItemSelection(Be,{shift:M.shift,control:M.ctrl}),M.originalEvent.preventDefault(),!0)}return this._beginFastEditing(M.originalEvent)}_ctrlAKeyHandler(M,ce){!ce&&!M.alt&&"multiple"===this.option("selection.mode")&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),M.originalEvent.preventDefault())}_tabKeyHandler(M,ce){var Be=this.option("editing"),Se=M.shift?"previous":"next",Qe=!((0,ae.O9)(this._focusedCellPosition)&&!(0,ae.RI)(this._focusedCellPosition))||!M.shift&&this._isLastValidCell(this._focusedCellPosition)||M.shift&&this._isFirstValidCell(this._focusedCellPosition),pt=M.originalEvent.target,At=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(pt,Se)){if((0,_e.A)(At).addClass(w),Be&&pt&&!Qe)if((0,_e.A)(pt).hasClass(this.addWidgetPrefix(N))&&this._resetFocusedCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(Se),ce){if(!this._editingCellTabHandler(M,Se))return}else this._targetCellTabHandler(M,Se)&&(Qe=!0);Qe?(this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(!0),this._resetFocusedView(),this._closeEditCell())):M.originalEvent.preventDefault()}}_getMaxHorizontalOffset(){var M=this.component.getScrollable();return M?M.scrollWidth()-(0,le.RG)(this._rowsView.element()):0}_isColumnRendered(M){var ce=this._columnsController.getVisibleColumns(null,!0),Be=this._columnsController.getVisibleColumns(),Se=ce[M],Ye=!1;return Se&&(Ye=Be.indexOf(Se)>=0),Ye}_isFixedColumn(M){var Be=this._columnsController.getVisibleColumns(null,!0)[M];return!!Be&&!!Be.fixed}_isColumnVirtual(M){var ce=M-this._columnsController.getColumnIndexOffset(),Se=this._columnsController.getVisibleColumns()[ce];return!!Se&&"virtual"===Se.command}_processVirtualHorizontalPosition(M){var Se,ce=this.component.getScrollable(),Be=this.getColumnIndex(),Ye=0,Qe=!1;switch(M){case"next":case"nextInRow":var pt=this._getVisibleColumnCount();Se=Be+1,Ye=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,Qe="next"===M?pt===Se||this._isFixedColumn(Be)&&!this._isColumnRendered(Se):pt>Se&&this._isFixedColumn(Be)&&!this._isColumnRendered(Se);break;case"previous":case"previousInRow":if(Se=Be-1,Ye=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),"previous"===M){var At=this._columnsController.getColumnIndexOffset();Qe=Se<0&&0===At||this._isFixedColumn(Be)&&!this._isColumnRendered(Se)}else Qe=Se>=0&&this._isFixedColumn(Be)&&!this._isColumnRendered(Se)}Qe?ce.scrollTo({left:Ye}):(0,ae.O9)(Se)&&(0,ae.O9)(M)&&this._isColumnVirtual(Se)&&0!==(Ye=this._getHorizontalScrollPositionOffset(M))&&ce.scrollBy({left:Ye,top:0})}_getHorizontalScrollPositionOffset(M){var ce=0,Be=this._getCell(this._focusedCellPosition),Se=Be&&(0,le.Ot)(Be);if(Se>0){var Ye=this.option("rtlEnabled")?-1:1;ce="nextInRow"===M||"next"===M?Se*Ye:Se*Ye*-1}return ce}_editingCellTabHandler(M,ce){var Ye,Be=M.originalEvent.target,Se=this._getCellElementFromTarget(Be),Qe=M.originalEvent,pt=this._getElementType(Be);if(Se.is(D))return!this._targetCellTabHandler(M,ce);this._updateFocusedCellPosition(Se);var At=this._getNextCellByTabKey(Qe,ce,pt);if(!(Se=At.$cell)||this._handleTabKeyOnMasterDetailCell(Se,ce))return!1;var _t=this._columnsController,Je=this._rowsView.getCellIndex(Se)+_t.getColumnIndexOffset(),vt=_t.getVisibleColumns(null,!0)[Je],Ot=Se.parent(),it=this._getRowIndex(Ot),De=this._dataController.items()[it];if(vt&&vt.allowEditing){var Q=!De||"data"===De.rowType;Ye=this._editingController.allowUpdating({row:De})?Q:De&&De.isNewRow}return Ye||this._closeEditCell(),this._focusCell(Se,!At.isHighlighted)&&(!this._isRowEditMode()&&Ye?this._editFocusedCell():this._focusInteractiveElement(Se,M.shift)),!0}_targetCellTabHandler(M,ce){var Be=M.originalEvent,Se=Be.target,Ye=this._getElementType(Se),Qe=this._getCellElementFromTarget(Se),pt="cell"===Ye&&this._getInteractiveElement(Qe,!M.shift),At=!1;if(!Me(this,Qe)&&pt?.length&&Se!==pt.get(0))At=!0;else{void 0===this._focusedCellPosition.rowIndex&&(0,_e.A)(Se).hasClass(d.sN)&&this._updateFocusedCellPosition(Qe),Ye=this._getElementType(Se),this.isRowFocusType()&&(this.setCellFocusType(),"row"===Ye&&z((0,_e.A)(Se))&&(Se=this.getFirstValidCellInRow((0,_e.A)(Se)),Ye=this._getElementType(Se)));var _t=this._getNextCellByTabKey(Be,ce,Ye);if(!(Qe=_t.$cell)||!(Qe=this._checkNewLineTransition(Be,Qe)))return!1;this._focusCell(Qe,!_t.isHighlighted),Me(this,Qe)||this._focusInteractiveElement(Qe,M.shift)}return At}_getNextCellByTabKey(M,ce,Be){var Se=this._getNextCell(ce,Be),Ye=Se&&this._fireFocusedCellChanging(M,Se,!0);return!Ye||Ye.cancel?{}:(Ye.$newCellElement&&(Se=Ye.$newCellElement),{$cell:Se,isHighlighted:Ye.isHighlighted})}_checkNewLineTransition(M,ce){var Be=this.getVisibleRowIndex(),Se=ce.parent();if(Be!==this._getRowIndex(Se)){var Ye=this._getCellPosition(ce),Qe=this._fireFocusedRowChanging(M,Se);if(Qe.cancel)return;Qe.rowIndexChanged&&Ye&&(this.setFocusedColumnIndex(Ye.columnIndex),ce=this._getFocusedCell())}return ce}_enterKeyHandler(M,ce){var Be,Se=this.getVisibleRowIndex(),Ye=this._dataController.getKeyByRowIndex(Se),Qe=null===(Be=this._focusedView)||void 0===Be?void 0:Be.getRow(Se),pt=this._getFocusedCell(),At=this.option("grouping.allowCollapsing")&&pe(Qe),_t=this.option("masterDetail.enabled")&&pt?.hasClass(X),Fe=pt?.hasClass("dx-command-adaptive");if(At||_t){var Je=this._dataController.items()[Se],vt=Je?.data&&!Je.data.isContinuation;(0,ae.O9)(Ye)&&vt&&this._dataController.changeRowExpand(Ye)}else Fe?(this._adaptiveColumnsController.toggleExpandAdaptiveDetailRow(Ye),this._updateFocusedCellPosition(pt)):this._processEnterKeyForDataCell(M,ce)}_processEnterKeyForDataCell(M,ce){var Be=this._getEnterKeyDirection(M),Se=this._allowEditingOnEnterKey();ce||!Se&&Be?(this._handleEnterKeyEditingCell(M.originalEvent),"next"===Be||"previous"===Be?this._targetCellTabHandler(M,Be):("upArrow"===Be||"downArrow"===Be)&&this._navigateNextCell(M.originalEvent,Be)):Se&&this._startEditing(M)}_getEnterKeyDirection(M){var ce=this.option("keyboardNavigation.enterKeyDirection"),Be=M.shift;return"column"===ce?Be?"upArrow":"downArrow":"row"===ce?Be?"previous":"next":void 0}_handleEnterKeyEditingCell(M){var{target:ce}=M,Be=this._getCellElementFromTarget(ce),Se=this._isRowEditMode();this._updateFocusedCellPosition(Be),Se?(this._focusEditFormCell(Be),setTimeout(this._editingController.saveEditData.bind(this._editingController))):(ee.A.trigger((0,_e.A)(ce),"change"),this._closeEditCell(),M.preventDefault())}_escapeKeyHandler(M,ce){var Be=this._getCellElementFromTarget(M.originalEvent.target);ce&&(this._updateFocusedCellPosition(Be),this._isRowEditMode()?(this._focusEditFormCell(Be),this._editingController.cancelEditData(),0===this._dataController.items().length&&(this._resetFocusedCell(),this._editorFactory.loseFocus())):"cell"===this._editingController.getEditMode()?this._editingController.cancelEditData():this._closeEditCell(),M.originalEvent.preventDefault())}_ctrlFKeyHandler(M){if(this.option("searchPanel.visible")){var ce=this._headerPanel.getSearchTextEditor();ce&&(ce.focus(),M.originalEvent.preventDefault())}}_f2KeyHandler(){var M=this._editingController.isEditing(),ce=this.getVisibleRowIndex(),Be=this._focusedView&&this._focusedView.getRow(ce);!M&&z(Be)&&this._startEditing()}_navigateNextCell(M,ce){var Be=this._getNextCell(ce),Se=this._getDirectionCodeByKey(ce);return!(!Be||!this._isCellValid(Be))&&this._arrowKeysHandlerFocusCell(M,Be,Se)}_arrowKeysHandlerFocusCell(M,ce,Be){var Ye=this._fireFocusChangingEvents(M,ce,"prevRow"===Be||"nextRow"===Be,!0);return ce=Ye.$newCellElement,!(Ye.cancel||!this._isCellValid(ce)||(this._focus(ce,!Ye.isHighlighted),0))}_beginFastEditing(M,ce){if(!this._isFastEditingAllowed()||M.altKey||M.ctrlKey||this._editingController.isEditing())return!1;if(ce)this._startEditing(M,ye);else{var{key:Be}=M,Se=M.keyCode||M.which,Ye=Be||Se&&String.fromCharCode(Se);Ye&&(1===Ye.length||Ye===ye)&&this._startEditing(M,Ye)}return!0}_pointerEventHandler(M){var ce,Be=M.event||M,Se=(0,_e.A)(Be.currentTarget),Ye=null===(ce=this._rowsView)||void 0===ce?void 0:ce.element(),Qe=Se.parent(),pt=(0,_e.A)(Be.target).is(de),At=!!(0,_e.A)(Be.target).closest(".".concat("dx-revert-button")).length,_t=Se.hasClass(X);this._isEventInCurrentGrid(Be)&&(At||!this._isCellValid(Se,!pt)&&!_t?Se.is("td")&&this._resetFocusedCell():(Se=this._isInsideEditForm(Se)?(0,_e.A)(Be.target):Se,this._focusView(),(0,_e.A)(Ye).removeClass(w),Qe.hasClass(_)?(this._updateFocusedCellPosition(Se),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus(!0)):this._isMasterDetailCell(Se)?this._updateFocusedCellPosition(Se):this._clickTargetCellHandler(Be,Se)))}_clickTargetCellHandler(M,ce){var Be=this._rowsView.getCellIndex(ce),Se=this._columnsController.getVisibleColumns()[Be],Ye=this._isCellEditMode();this.setCellFocusType();var Qe=this._fireFocusChangingEvents(M,ce,!0);if(ce=Qe.$newCellElement,Qe.cancel)this.setRowFocusType(),this.setFocusedRowIndex(Qe.prevRowIndex),this._editingController.isEditing()&&Ye&&this._closeEditCell();else{if(Qe.resetFocusedRow)return void this.getController("focus")._resetFocusedRow();if(Qe.rowIndexChanged&&(ce=this._getFocusedCell()),!Qe.isHighlighted&&!Ye&&this.setRowFocusType(),this._updateFocusedCellPosition(ce),this._allowRowUpdating()&&Ye&&Se&&Se.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{ce=this._getFocusedCell();var pt=M&&(0,_e.A)(M.target).closest("".concat(Te,", td")),At=pt&&pt.not(ce).is(Te),_t=!!Se&&!Se.command&&ce.hasClass(d.su);this._focus(ce,!_t&&(!Qe.isHighlighted||At),At)}}}_allowRowUpdating(){var M=this.getVisibleRowIndex(),ce=this._dataController.items()[M];return this._editingController.allowUpdating({row:ce},"click")}focus(M){var ce,Be=this.option("focusedRowEnabled"),Se=this._isCellElement((0,_e.A)(M));M||(ce=".dx-datagrid-rowsview .dx-row[tabindex]",Be||(ce+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),M=this.component.$element().find(ce).first()),M&&this._focusElement((0,_e.A)(M),Se)}getFocusedView(){return this._focusedView}setupFocusedView(){this.isKeyboardEnabled()&&!(0,ae.O9)(this._focusedView)&&this._focusView()}_focusElement(M,ce){var Be=(0,_e.A)(this._getRowsViewElement()),Se=M.closest(Be),Ye=this.isRowFocusType(),Qe={};!Se.length||this._isCellElement(M)&&!this._isCellValid(M)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(this._isCellElement(M)||pe(M))&&(this.setCellFocusType(),M=(Qe=this._fireFocusChangingEvents(null,M,!0,ce)).$newCellElement,Ye&&!Qe.isHighlighted&&this.setRowFocusType()),Qe.cancel||(this._focus(M,!Qe.isHighlighted),this._focusInteractiveElement(M)))}_getFocusedViewByElement(M){var ce=this.getFocusedView(),Be=ce&&(0,_e.A)(ce.element());return M&&0!==M.closest(Be).length}_focusView(){this._focusedView=this._rowsView}_resetFocusedView(){this.setRowFocusType(),this._focusedView=null}_focusInteractiveElement(M,ce){if(M){var Be=this._getInteractiveElement(M,ce);S.A.focusAndSelectElement(this,Be)}}_focus(M,ce,Be){var Se=M&&!M.hasClass(d.sN)?M.closest(".".concat(d.sN)):M;if(!Se||!function fe(nt){return!nt||nt.hasClass(_)||nt.hasClass("dx-virtual-row")}(Se)){var pt,Ye=this._focusedView,Qe=Ye&&Ye.element();this._isHiddenFocus=ce;var At=pe(Se)||function we(nt){return nt&&nt.hasClass("dx-datagrid-group-footer")}(Se)||this.isRowFocusType();At?(pt=Se,Ye&&this.setFocusedRowIndex(this._getRowIndex(Se))):this._isCellElement(M)&&(pt=M,this._updateFocusedCellPosition(M)),pt&&(Qe&&Qe.find(".dx-row[tabindex], .dx-row > td[tabindex]").not(pt).removeClass(U).removeClass($).removeAttr("tabindex"),ee.A.one(pt,"blur",_t=>{_t.relatedTarget&&pt.removeClass(U).removeClass($)}),Be||(this._applyTabIndexToElement(pt),ee.A.trigger(pt,"focus")),ce?(pt.addClass(U),At&&M.addClass(U)):this._editorFactory.focus(pt))}}_updateFocus(M){this._updateFocusTimeout=setTimeout(()=>{if(this._needFocusEditingCell())this._editingController._focusEditingCell();else{var ce=this._getFocusedCell(),Be=this._editingController.isEditing();if((!this._isMasterDetailCell(ce)||this._isRowEditMode())&&(this._hasSkipRow(ce.parent())&&(ce=this._getNextCell(this._focusedCellPosition&&this._focusedCellPosition.rowIndex>0?"upArrow":"downArrow")),ze(ce)))if(ce.is("td")||ce.hasClass(this.addWidgetPrefix("edit-form-item"))){var Ye=ce.is(D),Qe=ce.find(":focus"),pt=ze(Qe);if(!M&&Ye||!this._editorFactory.focus())!pt&&(this._isNeedFocus||this._isHiddenFocus)&&this._focus(ce,this._isHiddenFocus);else{if(Ye&&pt)return void S.A.focusAndSelectElement(this,Qe);!pt&&this._focus(ce)}Be&&this._focusInteractiveElement.bind(this)(ce)}else ee.A.trigger(ce,"focus")}})}_needFocusEditingCell(){var M=this._editingController.getEditMode()===d.eN,ce=this._editingController.getEditMode()===d.yx,Be=M&&this._editingController.hasChanges(),Se=ce&&this._editingController.isNewRowInEditMode(),Ye=this._getFocusedCell();return(0===Ye.children().length||Ye.find(d.gn).length>0)&&(Be||Se)}_getFocusedCell(){return(0,_e.A)(this._getCell(this._focusedCellPosition))}_updateFocusedCellPositionByTarget(M){var ce;if("row"===this._getElementType(M)&&(0,ae.O9)(null===(ce=this._focusedCellPosition)||void 0===ce?void 0:ce.columnIndex)){var Se=(0,_e.A)(M);this._focusedView&&pe(Se)&&this.setFocusedRowIndex(this._getRowIndex(Se))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(M))}_updateFocusedCellPosition(M,ce){var Be=this._getCellPosition(M,ce);return Be&&(!M.length||Be.rowIndex>=0&&Be.columnIndex>=0)&&this.setFocusedCellPosition(Be.rowIndex,Be.columnIndex),Be}_getFocusedColumnIndexOffset(M){var ce=0,Be=this._columnsController.getVisibleColumns()[M];return Be&&Be.fixed?ce=this._getFixedColumnIndexOffset(Be):M>=0&&(ce=this._columnsController.getColumnIndexOffset()),ce}_getFixedColumnIndexOffset(M){var ce=function St(nt,M){return nt.option("rtlEnabled")?!("right"===M.fixedPosition||(0,ae.O9)(M.command)&&!(0,ae.O9)(M.fixedPosition)):!(!(0,ae.O9)(M.fixedPosition)||"left"===M.fixedPosition)}(this,M)?this._getVisibleColumnCount()-this._columnsController.getVisibleColumns().length:0;return ce}_getCellPosition(M,ce){var Be,Se=ze(M)&&M.closest("tr");if(ze(Se)){var Ye=this._getRowIndex(Se);return Be=this._rowsView.getCellIndex(M,Ye),Be+=this._getFocusedColumnIndexOffset(Be),ce&&(Be=this._applyColumnIndexBoundaries(Be="previous"===ce?Be-1:Be+1)),{rowIndex:Ye,columnIndex:Be}}}_focusCell(M,ce){if(this._isCellValid(M))return this._focus(M,ce),!0}_focusEditFormCell(M){M.hasClass(C)&&this._editorFactory.focus(M,!0)}_resetFocusedCell(M){var ce,Be=this._getFocusedCell();ze(Be)&&Be.removeAttr("tabindex"),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),null===(ce=this._focusedView)||void 0===ce||ce.renderFocusState({preventScroll:M})}restoreFocusableElement(M,ce){var Be,Se,Ye=(0,ae.O9)(M),Qe=this._rowsView.element(),{columnIndex:pt}=this._focusedCellPosition,At=this._dataController.getRowIndexOffset();M=Ye?M:this._rowsView.getTopVisibleItemIndex()+At,Ye?(Se=this._rowsView.getRow(M-At),!(Be=this._fireFocusedRowChanging(ce,Se)).cancel&&Be.rowIndexChanged&&(M=Be.newRowIndex)):(this._editorFactory.loseFocus(),this._applyTabIndexToElement(Qe),ee.A.trigger(Qe,"focus")),(!Ye||!Be.cancel)&&this.setFocusedCellPosition(M,pt),Ye&&this._updateFocus()}_getNewPositionByCode(M,ce,Be){var{columnIndex:Se}=M,{rowIndex:Ye}=M;if(void 0===M.rowIndex&&"next"===Be)return{columnIndex:0,rowIndex:0};switch(Be){case"nextInRow":case"next":Se<this._getVisibleColumnCount()-1&&"row"!==ce&&this._hasValidCellAfterPosition({columnIndex:Se,rowIndex:Ye})?Se++:!this._isLastRow(Ye)&&"next"===Be&&(Se=0,Ye++);break;case"previousInRow":case"previous":Se>0&&"row"!==ce&&this._hasValidCellBeforePosition({columnIndex:Se,rowIndex:Ye})?Se--:Ye>0&&"previous"===Be&&(Ye--,Se=this._getVisibleColumnCount()-1);break;case"upArrow":Ye=Ye>0?Ye-1:Ye;break;case"downArrow":Ye=this._isLastRow(Ye)?Ye:Ye+1}return{columnIndex:Se,rowIndex:Ye}}setFocusedCellPosition(M,ce){this.setFocusedRowIndex(M),this.setFocusedColumnIndex(ce)}setFocusedRowIndex(M){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=M}setFocusedColumnIndex(M){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=M}getRowIndex(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1}getColumnIndex(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1}getVisibleRowIndex(){var M,ce=null===(M=this._focusedCellPosition)||void 0===M?void 0:M.rowIndex;return!(0,ae.O9)(ce)||ce<0?-1:ce-this._dataController.getRowIndexOffset()}getVisibleColumnIndex(){var M,ce=null===(M=this._focusedCellPosition)||void 0===M?void 0:M.columnIndex;return(0,ae.O9)(ce)?ce-this._columnsController.getColumnIndexOffset():-1}_applyColumnIndexBoundaries(M){var ce=this._getVisibleColumnCount();return M<0?M=0:M>=ce&&(M=ce-1),M}_isCellByPositionValid(M){var ce=(0,_e.A)(this._getCell(M));return this._isCellValid(ce)}_isLastRow(M){var ce=this._dataController;return this._isVirtualRowRender()?M>=ce.getMaxRowIndex():M===Math.max(...ce.items().map((Se,Ye)=>!1!==Se.visible?Ye:-1))}_isFirstValidCell(M){var ce=!1;return 0===M.rowIndex&&M.columnIndex>=0&&(ce=ce||!this._hasValidCellBeforePosition(M)),ce}_hasValidCellBeforePosition(M){for(var{columnIndex:ce}=M,Be=!1;ce>0&&!Be;){var Se={columnIndex:--ce,rowIndex:M.rowIndex};Be=this._isCellByPositionValid(Se)}return Be}_hasValidCellAfterPosition(M){for(var{columnIndex:ce}=M,Be=!1,Se=this._getVisibleColumnCount();ce<Se-1&&!Be;){var Ye={columnIndex:++ce,rowIndex:M.rowIndex};Be=this._isCellByPositionValid(Ye)}return Be}_isLastValidCell(M){var ce=M.columnIndex>=0?M.columnIndex+1:0,{rowIndex:Be}=M,Se={columnIndex:ce,rowIndex:Be},Ye=this._dataController.getVisibleRows(),Qe=Ye&&Ye[Be];return!!this._isLastRow(Be)&&(!!(("group"===Qe?.rowType||"groupFooter"===Qe?.rowType)&&M.columnIndex>0||M.columnIndex===this._getVisibleColumnCount()-1)||!this._isCellByPositionValid(Se)&&this._isLastValidCell(Se))}_isCellValid(M,ce){if(ze(M)){var Be=M.parent(),Se=this._columnsController,Ye=this._rowsView.getCellIndex(M)+Se.getColumnIndexOffset(),Qe=Se.getVisibleColumns(null,!0)[Ye],pt=this._getVisibleColumnCount(),At=this._editingController,_t=R(Be),Fe=Qe&&Qe.showWhenGrouped,Je=Qe&&!M.hasClass(X)&&z(Be);if(void 0!==M.attr("dx-drag-cell"))return!1;if(this._isMasterDetailCell(M))return!0;if(pt>Ye&&(!_t&&Qe&&(!(0,ae.O9)(Qe.groupIndex)||Fe&&Je)||parseInt(M.attr("colspan"),10)>1)){var Ot=this._dataController.items(),it=this._rowsView.getRowIndex(Be),De=Ot[it],O=At&&this._isCellEditMode()&&At.isEditing(),Q=At&&At.isEditRow(it),ve=Q||O;return Qe.command?this._isLegacyNavigation()?!ve&&"expand"===Qe.command:!O&&(Q?"select"!==Qe.command:!ve):(!O||!De||"data"===De.rowType)&&(!ve||Qe.allowEditing||ce)}}}getFirstValidCellInRow(M,ce){for(var Se,Ye,Be=M.find("> td"),Qe=ce=ce||0;Qe<Be.length;++Qe)if(Se=Be.eq(Qe),this._isCellValid(Se)){Ye=Se;break}return Ye}_getNextCell(M,ce,Be){var pt,At,Se=Be||this._focusedCellPosition,Ye=this.isRowFocusType(),Qe=Ye||["next","previous"].includes(M);if(this._focusedView&&Se){var _t=this._getNewPositionByCode(Se,ce,M);pt=(0,_e.A)(this._getCell(_t));var Fe="previous"===M?this._isFirstValidCell(_t):this._isLastValidCell(_t);if(ze(pt)&&!this._isCellValid(pt)&&this._isCellInRow(_t,Qe)&&!Fe&&(pt=Ye?this.getFirstValidCellInRow(pt.parent(),_t.columnIndex):this._getNextCell(M,"cell",_t)),At=ze(pt)&&pt.parent(),this._hasSkipRow(At)){var Je=this._getRowIndex(At);if(this._isLastRow(Je))return null;pt=this._getNextCell(M,"row",{columnIndex:Se.columnIndex,rowIndex:Je})}return ze(pt)?pt:null}return null}_startEditing(M,ce){var Be=this._focusedCellPosition,Se=this.getVisibleRowIndex(),Ye=this.getVisibleColumnIndex(),Qe=this._dataController.items()[Se],pt=this._columnsController.getVisibleColumns()[Ye];this._isAllowEditing(Qe,pt)&&(this._isRowEditMode()?this._editingController.editRow(Se):Be&&this._startEditCell(M,ce))}_isAllowEditing(M,ce){return this._editingController.allowUpdating({row:M})&&ce&&ce.allowEditing}_editFocusedCell(){var M=this.getVisibleRowIndex(),ce=this.getVisibleColumnIndex();return this._editingController.editCell(M,ce)}_startEditCell(M,ce){this._fastEditingStarted=(0,ae.O9)(ce);var Be=this._editFocusedCell(),Se=(0,ae.uF)(Be);if(this._isFastEditingStarted()&&(Se||Be)){var Qe=Se&&ce===ye?"":ce,pt=Se?Be:(0,Ce.cY)().resolve(),At=this._rowsView.waitAsyncTemplates(!0);(0,Ce.z7)(pt,At).done(()=>{this._editingCellHandler(M,Qe)})}}_editingCellHandler(M,ce){var Be,Se,Ye=this._getFocusedCell().find(de).eq(0),Qe=Ye.get(0);if(Qe){var pt=(0,Y.lh)(M,{type:"keydown",target:Qe}),At=(0,Y.lh)(M,{type:"keypress",target:Qe}),_t=(0,Y.lh)(M,{type:"input",target:Qe});_t.originalEvent&&(_t.originalEvent=(0,Y.lh)(_t.originalEvent,{data:ce})),null===(Se=(Be=Qe).select)||void 0===Se||Se.call(Be),ee.A.trigger(Ye,pt),pt.isDefaultPrevented()||(ee.A.trigger(Ye,At),At.isDefaultPrevented())||setTimeout(()=>{Ye.val(ce);var Je=Ye.closest(".".concat("dx-widget"));ee.A.off(Je,"focusout"),ee.A.one(Je,"focusout",()=>{ee.A.trigger(Ye,"change")}),ee.A.trigger(Ye,_t)},he.A.mozilla?25:0)}}_fireFocusChangingEvents(M,ce,Be,Se){var Ye,Qe={},pt=null!==(Ye=this._getCellPosition(ce))&&void 0!==Ye?Ye:{};return this.isCellFocusType()&&((Qe=this._fireFocusedCellChanging(M,ce,Se)).cancel||(pt.columnIndex=Qe.newColumnIndex,pt.rowIndex=Qe.newRowIndex,Se=Qe.isHighlighted,ce=(0,_e.A)(this._getCell(pt)))),!Qe.cancel&&Be&&ce&&((Qe=this._fireFocusedRowChanging(M,ce.parent())).cancel||(pt.rowIndex=Qe.newRowIndex,Qe.isHighlighted=Se)),Qe.$newCellElement=(0,_e.A)(this._getCell(pt)),Qe.$newCellElement.length||(Qe.$newCellElement=ce),Qe}_fireFocusedCellChanging(M,ce,Be){var Se=this.option("focusedColumnIndex"),Ye=this.option("focusedRowIndex"),Qe=this._getCellPosition(ce),pt=Qe?Qe.columnIndex:-1,At=Qe?Qe.rowIndex:-1,Je={cellElement:ce,prevColumnIndex:Se,prevRowIndex:Ye,newColumnIndex:pt,newRowIndex:At,rows:this._dataController.getVisibleRows(),columns:this._columnsController.getVisibleColumns(),event:M,isHighlighted:Be||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",Je),(Je.newColumnIndex!==pt||Je.newRowIndex!==At)&&(Je.$newCellElement=(0,_e.A)(this._getCell({columnIndex:Je.newColumnIndex,rowIndex:Je.newRowIndex}))),Je.cancel&&(this._canceledCellPosition={rowIndex:At,columnIndex:pt}),Je}_fireFocusedCellChanged(M){var ce=this._rowsView.getCellIndex(M),Be=M?.parent().data("options"),Se=Be?.key;this._memoFireFocusedCellChanged(Se,ce)}_memoFireFocusedCellChanged(M,ce){var Be=this._getFocusedCell(),Se=this._getRowIndex(Be?.parent()),Ye=Math.min(Se-this._dataController.getRowIndexOffset(),this._dataController.items().length-1);if(!this._editingController.isEditCell(Ye,ce)){var pt=this._dataController.items()[Ye],At=this._columnsController.getVisibleColumns()[ce];this.executeAction("onFocusedCellChanged",{cellElement:Be?(0,se.c)(Be):void 0,columnIndex:ce,rowIndex:Se,row:pt,column:At})}}_fireFocusedRowChanging(M,ce){var Be=this._getRowIndex(ce),Se=this.option("focusedRowIndex"),Ye=this._dataController.loadingOperationTypes(),Qe={rowElement:ce,prevRowIndex:Se,newRowIndex:Be,event:M,rows:this._dataController.getVisibleRows(),cancel:!1};return!this._dataController||this._dataController.isLoading()&&(Ye.reload||Ye.paging)?(Qe.cancel=!0,Qe):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",Qe),!Qe.cancel&&Qe.newRowIndex!==Be&&(Qe.resetFocusedRow=Qe.newRowIndex<0,Qe.resetFocusedRow||this.setFocusedRowIndex(Qe.newRowIndex),Qe.rowIndexChanged=!0)),Qe)}_fireFocusedRowChanged(){var M,ce=this.option("focusedRowEnabled"),Be=this.option("focusedRowKey"),Se=null===(M=this._focusController)||void 0===M?void 0:M.getFocusedRowIndexByKey(Be);!ce||(0,ae.O9)(Be)&&Se<0||this._memoFireFocusedRowChanged(Be,Se)}_memoFireFocusedRowChanged(M,ce){var Be=ce-this._dataController.getRowIndexOffset();this.executeAction("onFocusedRowChanged",{rowElement:ce<0?void 0:this._rowsView.getRowElement(Be),rowIndex:ce,row:ce<0?void 0:this._dataController.getVisibleRows()[Be]})}_isEventInCurrentGrid(M){return S.A.isElementInCurrentGrid(this,(0,_e.A)(M.target))}_isRowEditMode(){var M=this._editingController.getEditMode();return M===d.cy||M===d.oX}_isCellEditMode(){var M=this._editingController.getEditMode();return M===d.eN||M===d.yx}_isFastEditingAllowed(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")}_getInteractiveElement(M,ce){var Be=M.find(de).filter(":visible");return ce?Be.last():Be.first()}_applyTabIndexToElement(M){var ce,Be=null!==(ce=this.option("tabIndex"))&&void 0!==ce?ce:0;M.attr("tabindex",Be)}_getCell(M){if(this._focusedView&&M){var ce=this._dataController.getRowIndexOffset(),Be=this._columnsController.getVisibleColumns(null,!0)[M.columnIndex],Se=Be&&Be.fixed?this._getFixedColumnIndexOffset(Be):this._columnsController.getColumnIndexOffset();return this._focusedView.getCell({rowIndex:M.rowIndex>=0?M.rowIndex-ce:-1,columnIndex:M.columnIndex>=0?M.columnIndex-Se:-1})}}_getRowIndex(M){var ce=this._rowsView.getRowIndex(M);return ce>=0&&(ce+=this._dataController.getRowIndexOffset()),ce}_hasSkipRow(M){var ce=M&&M.get(0);return ce&&("none"===ce.style.display||R(M)&&!M.hasClass(this.addWidgetPrefix(d.BL)))}_allowEditingOnEnterKey(){return"startEdit"===this.option("keyboardNavigation.enterKeyAction")}_isLegacyNavigation(){return this.option("useLegacyKeyboardNavigation")}_getDirectionCodeByKey(M){var ce;switch(M){case"upArrow":ce="prevRow";break;case"downArrow":ce="nextRow";break;case"leftArrow":ce=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":ce=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return ce}_isVirtualScrolling(){var M=this.option("scrolling.mode");return"virtual"===M||"infinite"===M}_isVirtualRowRender(){return this._isVirtualScrolling()||S.A.isVirtualRowRendering(this)}_isVirtualColumnRender(){return"virtual"===this.option("scrolling.columnRenderingMode")}_scrollBy(M,ce,Be,Se){var Ye=this,Qe=this._rowsView.getScrollable();return Ye._focusedCellPosition&&Qe.on("scroll",function pt(){Qe.off("scroll",pt),setTimeout(Ye.restoreFocusableElement.bind(Ye,Be,Se))}),Qe.scrollBy({left:M,top:ce})}_isInsideEditForm(M){var ce=(0,_e.A)(M).closest(".".concat(this.addWidgetPrefix(d.BL)));return ce.length&&this.elementIsInsideGrid(ce)}_isMasterDetailCell(M){var ce=(0,_e.A)(M).closest(".".concat(C));return ce.length&&this.elementIsInsideGrid(ce)}_processNextCellInMasterDetail(M,ce){!this._isInsideEditForm(M)&&M&&this._applyTabIndexToElement(M)}_handleTabKeyOnMasterDetailCell(M,ce){if(this._isMasterDetailCell(M)){this._updateFocusedCellPosition((0,_e.A)(M),ce);var Be=this._getNextCell(ce,"row");return this._processNextCellInMasterDetail(Be,(0,_e.A)(M)),!0}return!1}_getElementType(M){return(0,_e.A)(M).is("tr")?"row":"cell"}_isFastEditingStarted(){return this._isFastEditingAllowed()&&this._fastEditingStarted}_getVisibleColumnCount(){return this._columnsController.getVisibleColumns(null,!0).length}_isCellInRow(M,ce){var{columnIndex:Be}=M,Se=this._getVisibleColumnCount();return ce?Be>=0&&Be<=Se-1:Be>0&&Be<Se-1}_isCellElement(M){return M.length&&"TD"===M[0].tagName}_getCellElementFromTarget(M){var ce=this._getElementType(M),Be=(0,_e.A)(M);return"cell"===ce?Be.closest(".".concat(d.sN," > td")):Be.children().not(".".concat(X)).first()}_getRowsViewElement(){var M;return null===(M=this._rowsView)||void 0===M?void 0:M.element()}isKeyboardEnabled(){return this.option("keyboardNavigation.enabled")}_processCanceledEditCellPosition(M,ce){if(this._canceledCellPosition){var Be=this._canceledCellPosition.rowIndex===M&&this._canceledCellPosition.columnIndex===ce;return this._canceledCellPosition=null,Be}}updateFocusedRowIndex(){var M=this._dataController,ce=this.getVisibleRowIndex(),Be=M.items(),Se=Be.length?Be.length-1:-1,Ye=M.getRowIndexOffset();Se>=0&&ce>Se&&this.setFocusedRowIndex(Se+Ye)}}},extenders:{views:{rowsView:{init(){this.callBase(),this._keyboardController=this.getController("keyboardNavigation")},_rowClick(nt){var M=this.getController("editing").getEditRowIndex(),ce=this._keyboardController.isKeyboardEnabled();M===nt.rowIndex&&this._keyboardController.setCellFocusType(),(tt()||!ce)&&this.option("focusedRowEnabled")&&this._triggerPointerDownEventHandler(nt,!ce),this.callBase.apply(this,arguments)},_triggerPointerDownEventHandler(nt,M){var{originalEvent:ce}=nt.event;if(ce){var Be=(0,_e.A)(ce.target),Se=this.getCellIndex(Be),Ye=this.getController("columns").getVisibleColumns()[Se],Qe=this.getController("data").items()[nt.rowIndex];if(this._keyboardController._isAllowEditing(Qe,Ye)||M){var pt=(0,Y.lh)(ce,{currentTarget:ce.target});this._keyboardController._pointerEventHandler(pt)}}},renderFocusState(nt){var{preventScroll:M,pageSizeChanged:ce}=nt??{},Be=this.element();Be&&!(0,re.in)(Be)&&Be.attr("tabindex",null),ce&&this._keyboardController.updateFocusedRowIndex();var Se=this._keyboardController.getVisibleRowIndex();(!(0,ae.O9)(Se)||Se<0)&&(Se=0);var Ye=this.getCellElements(Se);this._keyboardController.isKeyboardEnabled()&&Ye?.length&&this.updateFocusElementTabIndex(Ye,M)},updateFocusElementTabIndex(nt){var M=nt.eq(0).parent();if(pe(M))this._keyboardController._applyTabIndexToElement(M);else{var ce=this._keyboardController.getColumnIndex();(!(0,ae.O9)(ce)||ce<0)&&(ce=0),this._updateFocusedCellTabIndex(nt,ce)}},_updateFocusedCellTabIndex(nt,M){var ce=this._keyboardController,Be=nt?nt.length:-1,Se=function(pt){var At=ce._isMasterDetailCell(pt),_t=ce._isCellValid(pt);if(!At&&_t&&ce._isCellElement(pt))return ce._applyTabIndexToElement(pt),ce.setCellFocusType(),!0},Ye=((nt,M)=>nt.filter("[".concat("aria-colindex",'="').concat(M+1,'"]:not([').concat("dx-drag-cell","])")).first())(nt,M);if(Ye.length)Se(Ye);else{Be<=M&&(M=Be-1);for(var Qe=M;Qe<Be&&!Se((0,_e.A)(nt[Qe]));++Qe);}},renderDelayedTemplates(nt){this.callBase.apply(this,arguments),this._renderFocusByChange(nt)},_renderFocusByChange(nt){var{operationTypes:M,repaintChangesOnly:ce}=nt??{},{fullReload:Be,pageSize:Se}=M??{};if(!nt||!ce||Be||Se){var Ye=function xt(nt){var M=nt.getController("keyboardNavigation");return!!M._isVirtualScrolling()&&nt.option("focusedRowIndex")===M.getRowIndex()}(this);this.renderFocusState({preventScroll:Ye,pageSizeChanged:Se})}},_renderCore(nt){var M=this.callBase.apply(this,arguments);return this._renderFocusByChange(nt),M},_editCellPrepared(nt){var M,ce=this._getEditorInstance(nt),Be=null===(M=this._keyboardController)||void 0===M?void 0:M._isFastEditingStarted();ce&&Be&&this._handleEditingNavigationMode(ce),this.callBase.apply(this,arguments)},_handleEditingNavigationMode(nt){["downArrow","upArrow"].forEach(ce=>{var Be=nt._supportedKeys()[ce];nt.registerKeyHandler(ce,Se=>{if("true"===nt._input().attr("aria-expanded"))return Be&&Be.call(nt,Se)})}),nt.registerKeyHandler("leftArrow",be.lQ),nt.registerKeyHandler("rightArrow",be.lQ),"dxDateBox"===nt.NAME&&nt.option("useMaskBehavior")&&nt.registerKeyHandler("enter",be.lQ)},_getEditorInstance(nt){var M=nt.find(".dx-texteditor").eq(0);return S.A.getWidgetInstance(M)}}},controllers:{editing:{editCell(nt,M){var ce=this.getController("keyboardNavigation");if(ce._processCanceledEditCellPosition(nt,M))return!1;var Be=this.callBase(nt,M);return Be&&ce.setupFocusedView(),Be},editRow(nt){var M=this.getController("keyboardNavigation"),ce=M.getVisibleColumnIndex(),Be=this._columnsController.getVisibleColumns()[ce];(Be&&Be.type||this.option("editing.mode")===d.oX)&&M._resetFocusedCell(),this.callBase(nt)},addRow(nt){var M=this.getController("keyboardNavigation");return M.setupFocusedView(),M.setCellFocusType(),this.callBase.apply(this,arguments)},getFocusedCellInRow(nt){var M=this.getController("keyboardNavigation"),ce=this.callBase(nt),Be=this._dataController.getRowIndexOffset(),Se=M._focusedCellPosition.rowIndex-Be;if(M.isKeyboardEnabled()&&Se===nt){var Ye=M._getFocusedCell();ze(Ye)&&!Ye.hasClass("dx-command-edit")&&(ce=Ye)}return ce},_processCanceledEditingCell(){this.closeEditCell().done(()=>{this.getController("keyboardNavigation")._updateFocus()})},init(){this.callBase(),this._keyboardNavigationController=this.getController("keyboardNavigation")},closeEditCell(){var nt=this._keyboardNavigationController;nt._fastEditingStarted=!1;var M=this.callBase.apply(this,arguments);return nt._updateFocus(),M},_delayedInputFocus(){this._keyboardNavigationController._isNeedScroll=!0,this.callBase.apply(this,arguments)},_isEditingStart(){var nt=this.getController("keyboardNavigation"),M=this.callBase.apply(this,arguments);if(M&&!nt._isNeedFocus){var ce=nt._getFocusedCell();nt._focus(ce,!0)}return M}},data:{_correctRowIndices(nt){var M=this.getController("keyboardNavigation"),ce=this.getController("editorFactory"),Be=M._focusedCellPosition;if(this.callBase.apply(this,arguments),Be&&Be.rowIndex>=0){var Se=nt(Be.rowIndex);Se&&(Be.rowIndex+=Se,ce.refocus())}},getMaxRowIndex(){var nt=this.items().length-1,M=this.virtualItemsCount();return M&&(nt+=this.getRowIndexOffset()+M.end),nt}},adaptiveColumns:{_showHiddenCellsInView(nt){var{viewName:M,$cells:ce,isCommandColumn:Be}=nt;this.callBase.apply(this,arguments),M===v&&!Be&&ce.each((Se,Ye)=>{var Qe=(0,_e.A)(Ye);ht(Qe)&&Qe.attr("tabindex",0)})},_hideVisibleCellInView(nt){var{viewName:M,$cell:ce,isCommandColumn:Be}=nt;this.callBase.apply(this,arguments),M===v&&!Be&&ht(ce)&&ce.removeAttr("tabindex")}},keyboardNavigation:nt=>class extends nt{init(){var M;super.init(),this.rowsViewFocusOutHandlerContext=null!==(M=this.rowsViewFocusOutHandlerContext)&&void 0!==M?M:this.rowsViewFocusOutHandler.bind(this)}subscribeToRowsViewFocusEvent(){var M;super.subscribeToRowsViewFocusEvent();var ce=null===(M=this._rowsView)||void 0===M?void 0:M.element();ee.A.on(ce,"focusout",this.rowsViewFocusOutHandlerContext)}unsubscribeFromRowsViewFocusEvent(){var M;super.unsubscribeFromRowsViewFocusEvent();var ce=null===(M=this._rowsView)||void 0===M?void 0:M.element();ee.A.off(ce,"focusout",this.rowsViewFocusOutHandlerContext)}rowsViewFocusHandler(M){var ce=(0,_e.A)(M.target);this.translateFocusIfNeed(M,ce),super.rowsViewFocusHandler(M)}rowsViewFocusOutHandler(){this.makeScrollableFocusableIfNeed()}translateFocusIfNeed(M,ce){var Be=this.isScrollableNeedFocusable(),Se=this._isFixedColumn(0);if(Be&&Se){var Ye=this._rowsView.getCell({rowIndex:0,columnIndex:0}),Qe=!!Ye.attr("tabindex"),pt=ce.is(this._$firstNotFixedCell);Qe&&pt&&(M.preventDefault(),this._focus(Ye))}}renderCompleted(M){this._$firstNotFixedCell=this.getFirstNotFixedCell(),this.makeScrollableFocusableIfNeed(),super.renderCompleted(M)}_focus(M,ce,Be){super._focus(M,ce,Be),this.makeScrollableFocusableIfNeed()}_tabKeyHandler(M,ce){var Be,Ye=!((0,ae.O9)(this._focusedCellPosition)&&!(0,ae.RI)(this._focusedCellPosition))||!M.shift&&this._isLastValidCell(this._focusedCellPosition)||M.shift&&this._isFirstValidCell(this._focusedCellPosition),Qe=this.isScrollableNeedFocusable();Ye&&Qe&&(null===(Be=this._$firstNotFixedCell)||void 0===Be||Be.removeAttr("tabIndex")),super._tabKeyHandler(M,ce)}getFirstNotFixedCell(){var ce=this._columnsController.getVisibleColumns().findIndex(Be=>{var{fixed:Se}=Be;return!Se});return-1===ce?void 0:this._rowsView._getCellElement(0,ce)}isScrollableNeedFocusable(){var M,ce,Be=!!this._rowsView.getScrollable(),Se=!(null===(M=this._rowsView._fixedTableElement)||void 0===M||!M.length),Ye=!(null===(ce=this._rowsView.getCellElements(0))||void 0===ce||!ce.length);return Be&&Se&&Ye}makeScrollableFocusableIfNeed(){!this.isScrollableNeedFocusable()||!this._$firstNotFixedCell||this._applyTabIndexToElement(this._$firstNotFixedCell)}}}}}},7805:(Mt,dt,i)=>{i.d(dt,{j:()=>k});var be=i(2328),k=function(se,_e,he,Ce,le){var ae=_e.getController("keyboardNavigation");_e.option("useLegacyKeyboardNavigation")||ae&&!ae.isKeyboardEnabled()||(_e.createAction("onKeyDown"),be.js(se,_e,he,Ce,le,oe=>{_e.executeAction("onKeyDown",oe)}))}},4895:(Mt,dt,i)=>{i.d(dt,{A:()=>m});var be=i(8168),k=i(6221),se=i(4292),_e=i(4423),he=i(5042),Ce=i(2101),le=i(2463),ae=i(4435),oe=i(736),ee=i(7310),P=["columnHeadersView","rowsView","footerView","filterPanelView"],Y=k.A.inherit({_endUpdateCore(){},ctor(S){var I=this;I._updateLockCount=0,I.component=S,I._actions={},I._actionConfigs={},(0,Ce.__)(this.callbackNames()||[],function(N,xe){var Pe=I.callbackFlags(xe)||{};Pe.unique=!0,Pe.syncStrategy=!0,I[this]=(0,_e.A)(Pe)})},init(){},callbackNames(){},callbackFlags(){},publicMethods(){},beginUpdate(){this._updateLockCount++},endUpdate(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option(S){var{component:I}=this,N=I._optionCache;return 1===arguments.length&&N?(S in N||(N[S]=I.option(S)),N[S]):I.option.apply(I,arguments)},_silentOption(S,I){var{component:N}=this,xe=N._optionCache;return xe&&(xe[S]=I),N._setOptionWithoutOptionChange(S,I)},localize(S){var I=this.component._optionCache;return I?(S in I||(I[S]=oe.A.format(S)),I[S]):oe.A.format(S)},on(){return this.component.on.apply(this.component,arguments)},off(){return this.component.off.apply(this.component,arguments)},optionChanged(S){S.name in this._actions&&(this.createAction(S.name,this._actionConfigs[S.name]),S.handled=!0)},getAction(S){return this._actions[S]},setAria(S,I,N){var xe=N.get(0),Pe="role"!==S&&"id"!==S?"aria-":"";xe.setAttribute?xe.setAttribute(Pe+S,I):N.attr(Pe+S,I)},_createComponent(){return this.component._createComponent.apply(this.component,arguments)},getController(S){return this.component._controllers[S]},createAction(S,I){if((0,le.Tn)(S)){var N=this.component._createAction(S.bind(this),I);return function(xe){N({event:xe})}}this._actions[S]=this.component._createActionByOption(S,I),this._actionConfigs[S]=I},executeAction(S,I){var N=this._actions[S];return N&&N(I)},dispose(){var S=this;(0,Ce.__)(S.callbackNames()||[],function(){S[this].empty()})},addWidgetPrefix(S){return"dx-".concat(this.component.NAME.slice(2).toLowerCase()).concat(S?"-".concat(S):"")},getWidgetContainerClass(){return this.addWidgetPrefix("dxDataGrid"===this.component.NAME?null:"container")},elementIsInsideGrid(S){return S.closest(".".concat(this.getWidgetContainerClass())).parent().is(this.component.$element())}}),Ee=Y,re=Ee.inherit({getView(S){return this.component._views[S]},getViews(){return this.component._views}}),j=Y.inherit({_isReady(){return this.component.isReady()},_endUpdateCore(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate(S,I){this._requireRender=!0,this.component._requireResize=(0,ae.Vd)()&&(this.component._requireResize||S),this._requireReady=this._requireReady||I},_renderCore(){},_resizeCore(){},_parentElement(){return this._$parent},ctor(S){this.callBase(S),this.renderCompleted=(0,_e.A)(),this.resizeCompleted=(0,_e.A)()},element(){return this._$element},getElementHeight(){var S=this.element();if(!S)return 0;var I=parseFloat(S.css("marginTop"))||0,N=parseFloat(S.css("marginBottom"))||0,{offsetHeight:xe}=S.get(0);return xe+I+N},isVisible:()=>!0,getTemplate(S){return this.component._getTemplate(S)},getView(S){return this.component._views[S]},getFirstVisibleViewElement(){var S=this.getView("columnHeadersView");return S&&S.isVisible()?S.element():this.getView("rowsView").element()},getLastVisibleViewElement(){var S=this.getView("filterPanelView");if(S&&S.isVisible())return S.element();var I=this.getView("footerView");return I&&I.isVisible()?I.element():this.getView("rowsView").element()},getViewElementWithClass(S){var I=P.map(N=>this.getView(N)).filter(N=>N&&N.element()).find(N=>N.element().hasClass(S));return I&&I.element()},updateBorderedViews(){var S=this.getViewElementWithClass("dx-bordered-top-view"),I=this.getViewElementWithClass("dx-bordered-bottom-view"),N=this.getFirstVisibleViewElement(),xe=this.getLastVisibleViewElement();S&&!S.is(N)&&S.removeClass("dx-bordered-top-view"),I&&!I.is(xe)&&I.removeClass("dx-bordered-bottom-view"),N.hasClass("dx-bordered-top-view")||N.addClass("dx-bordered-top-view"),xe.hasClass("dx-bordered-bottom-view")||xe.addClass("dx-bordered-bottom-view")},isViewsStateValid(){var S;if(this.component._views){if(!P.includes(this.name))return!1;var I=this.getView("rowsView");return!(!I||!(0,le.O9)(null===(S=I.element)||void 0===S?void 0:S.call(I)))&&["columnHeadersView","footerView","filterPanelView"].map(Pe=>this.getView(Pe)).filter(Pe=>{var Ie;return Pe&&(null===(Ie=Pe.isVisible)||void 0===Ie?void 0:Ie.call(Pe))}).every(Pe=>Pe&&(0,le.O9)(Pe.element()))}return!1},render(S,I){var N=this._$element,xe=this.isVisible();if((N||S)&&(this._requireReady=!1,N||(N=this._$element=(0,se.A)("<div>").appendTo(S),this._$parent=S),N.toggleClass("dx-hidden",!xe),this.isViewsStateValid()&&this.updateBorderedViews(),xe)){this.component._optionCache={};var Pe=this._renderCore(I);this.component._optionCache=void 0,Pe?Pe.done(()=>{this.renderCompleted.fire(I)}):this.renderCompleted.fire(I)}},resize(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus(S){this.element().get(0).focus({preventScroll:S})}});function b(S){var N={};return Object.entries(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).forEach(xe=>{var[Pe,Ie]=xe,B=S[Pe];B&&(N[Pe]=(0,le.Tn)(Ie)?Ie(B):B.inherit(Ie))}),N}const m={modules:[],View:j,ViewController:re,Controller:Ee,registerModule(S,I){for(var{modules:N}=this,xe=0;xe<N.length;xe++)if(N[xe].name===S)return;I.name=S,N.push(I)},registerModulesOrder(S){this.modulesOrder=S},unregisterModule(S){this.modules=(0,he.VM)(this.modules,I=>I.name!==S)},processModules:function a(S,I){var{modules:N}=I,{modulesOrder:xe}=I;function Pe(l){var _={};return(0,Ce.__)(l,(h,C)=>{var F=new C(S);F.name=h,function c(S,I,N){var xe=N.publicMethods();xe&&(0,Ce.__)(xe,(Pe,Ie)=>{if(!N[Ie])throw ee.A.Error("E1006",I,Ie);if(S[Ie])throw ee.A.Error("E1005",Ie);S[Ie]=function(){return N[Ie](...arguments)}})}(S,h,F),_[h]=F}),_}xe&&N.sort((l,_)=>{var h=xe.indexOf(l.name),C=xe.indexOf(_.name);return h<0&&(h=1e6),C<0&&(C=1e6),h-C});var Ie={},B={};N.forEach(l=>{var{name:_,controllers:h={},views:C={}}=l;Object.entries(h).forEach(F=>{var ge,[te,X]=F;if(Ie[te])throw ee.A.Error("E1001",_,te);if(null===(ge=X?.subclassOf)||void 0===ge||!ge.call(X,Ee))throw ee.A.Error("E1002",_,te);Ie[te]=X}),Object.entries(C).forEach(F=>{var ge,[te,X]=F;if(B[te])throw ee.A.Error("E1003",_,te);if(null===(ge=X?.subclassOf)||void 0===ge||!ge.call(X,j))throw ee.A.Error("E1004",_,te);B[te]=X})});var n=N.filter(l=>{var{extenders:_}=l;return!!_}),g=n.reduce((l,_)=>{var{extenders:h}=_;return(0,be.A)((0,be.A)({},l),b(l,h?.controllers))},Ie),o=n.reduce((l,_)=>{var{extenders:h}=_;return(0,be.A)((0,be.A)({},l),b(l,h?.views))},B);S._controllers=Pe(g),S._views=Pe(o)},callModuleItemsMethod:function(S,I,N){N=N||[],S._controllers&&(0,Ce.__)(S._controllers,function(){this[I]&&this[I].apply(this,N)}),S._views&&(0,Ce.__)(S._views,function(){this[I]&&this[I].apply(this,N)})}}},5207:(Mt,dt,i)=>{i.d(dt,{A:()=>Z});var be=i(8168),k=i(4292),se=i(5042),_e=i(9407),he=i(2984),Ce=i(7951),le=i(2101),ae=i(448),oe=i(186),ee=i(370),q=i(2463),P=i(8059),Y=i(4435),Ee=i(5333),re=i(1076),j=i(5571),ue=i(1269),b=i(45),c=i(8543),a=i(438),Pe="virtual",B="scrolling.mode",g={year:D=>D&&D.getFullYear(),month:D=>D&&D.getMonth()+1,day:D=>D&&D.getDate(),quarter:D=>D&&Math.floor(D.getMonth()/3)+1,hour:D=>D&&D.getHours(),minute:D=>D&&D.getMinutes(),second:D=>D&&D.getSeconds()},o=function(){var U=this.calculateCellValue(arguments[1]);if(!(0,q.O9)(U))return null;if(_(this.dataType))return g[arguments[0]](U);if("number"===this.dataType){var w=arguments[0];return Math.floor(Number(U)/w)*w}},l=function(D,U){return(0,q.Tn)(D)&&(0,q.Tn)(U)&&D.originalCallback&&U.originalCallback?D.originalCallback===U.originalCallback&&D.columnIndex===U.columnIndex:D===U};function _(D){return"date"===D||"datetime"===D}var h=function(D){D.get(0).textContent="\xa0"},C=function(D){for(var U=(0,j.st)(D=D||[]),p=0;p<D.length;p++)D&&D[p]&&void 0!==D[p].isExpanded&&(U[p].isExpanded=D[p].isExpanded),D&&D[p]&&void 0!==D[p].groupInterval&&(U[p].groupInterval=D[p].groupInterval);return U},F=function(D,U){var p=b.A.format(D,U.format)||D&&D.toString()||"",w={value:D,valueText:U.getDisplayFormat?U.getDisplayFormat(p):p,target:U.target||"row",groupInterval:U.groupInterval};return U.customizeText?U.customizeText.call(U,w):w.valueText},te=function(D,U){var p=D.displayFormat||D.columnCaption&&U["".concat(D.summaryType,"OtherColumn")]||U[D.summaryType];return F(D.value,{format:D.valueFormat,getDisplayFormat:w=>p?(0,ee.GP)(p,w,D.columnCaption):w,customizeText:D.customizeText})},X=function(D){var U=D.data&&D.data(),p=U&&U.dxComponents,w=p&&p[0];return w&&U[w]};const Z={renderNoDataText(D){if(D=D||this.element()){var U=this.addWidgetPrefix("nodata"),p=D.find(".".concat(U)).last(),w=this._dataController.isEmpty(),V=this._dataController.isLoading();p.length||(p=(0,k.A)("<span>").addClass(U)),p.parent().is(D)||p.appendTo(D),w&&!V?p.removeClass("dx-hidden").text(this._getNoDataText()):p.addClass("dx-hidden")}},renderLoadPanel(D,U,p){var w;this._loadPanel&&this._loadPanel.$element().remove(),(w=this.option("loadPanel"))&&("auto"===w.enabled?!p:w.enabled)?(w=(0,Ce.X)({shading:!1,message:w.text,container:U},w),this._loadPanel=this._createComponent((0,k.A)("<div>").appendTo(U),c.A,w)):this._loadPanel=null},calculateLoadPanelPosition(D){var U=(0,k.A)((0,Y.zk)());return(0,oe.Oq)(D)>(0,oe.Oq)(U)?{of:U,boundary:D,collision:"fit"}:{of:D}},getIndexByKey(D,U,p){var w=-1;if(void 0!==D&&Array.isArray(U)){p=arguments.length<=2?"key":p;for(var V=0;V<U.length;V++){var J=(0,q.O9)(p)?U[V][p]:U[V];if((0,se.RL)(D,J)){w=V;break}}}return w},combineFilters(D,U){var p,w=[];U=U||"and";for(var V=0;V<D.length;V++)if(D[V]){if(1===(null===(p=D[V])||void 0===p?void 0:p.length)&&"!"===D[V][0]){if("and"===U)return["!"];if("or"===U)continue}w.length&&w.push(U),w.push(D[V])}if(1===w.length&&(w=w[0]),w.length)return w},checkChanges(D,U){for(var p=0,w=0;w<U.length;w++)D[U[w]]&&p++;return D.length&&D.length===p},equalFilterParameters:function D(U,p){if(Array.isArray(U)&&Array.isArray(p)){if(U.length!==p.length)return!1;for(var w=0;w<U.length;w++)if(!D(U[w],p[w]))return!1;return!0}return(0,q.Tn)(U)&&U.columnIndex>=0&&(0,q.Tn)(p)&&p.columnIndex>=0?U.columnIndex===p.columnIndex&&(0,_e.ao)(U.filterValue)===(0,_e.ao)(p.filterValue)&&(0,_e.ao)(U.selectedFilterOperation)===(0,_e.ao)(p.selectedFilterOperation):(0,_e.ao)(U)==(0,_e.ao)(p)},proxyMethod(D,U,p){D[U]||(D[U]=function(){var w=this._dataSource;return w?w[U].apply(w,arguments):p})},formatValue:F,getFormatOptionsByColumn:(D,U)=>({format:D.format,getDisplayFormat:D.getDisplayFormat,customizeText:D.customizeText,target:U,trueText:D.trueText,falseText:D.falseText}),getDisplayValue:(D,U,p,w)=>D.displayValueMap&&void 0!==D.displayValueMap[U]?D.displayValueMap[U]:D.calculateDisplayValue&&p&&"group"!==w?D.calculateDisplayValue(p):!D.lookup||"group"===w&&(D.calculateGroupValue||D.calculateDisplayValue)?U:D.lookup.calculateCellValue(U),getGroupRowSummaryText(D,U){for(var p="(",w=0;w<D.length;w++)p+=(w>0?", ":"")+te(D[w],U);return p+")"},getSummaryText:te,normalizeSortingInfo:C,getFormatByDataType(D){switch(D){case"date":return"shortDate";case"datetime":return"shortDateShortTime";default:return}},getHeaderFilterGroupParameters(D,U){var p=[],w=D.dataField||D.name,V=a.A.getGroupInterval(D);return V?((0,le.__)(V,(J,$)=>{p.push(U?{selector:w,groupInterval:$,isExpanded:J<V.length-1}:o.bind(D,$))}),p):(U?p=[{selector:w,isExpanded:!1}]:(p=function(J){var $=D.calculateCellValue(J);return(void 0===$||""===$)&&($=null),$},D.sortingMethod&&(p=[{selector:p,compare:D.sortingMethod.bind(D)}])),p)},equalSortParameters(D,U,p){if(D=C(D),U=C(U),Array.isArray(D)&&Array.isArray(U)){if(D.length!==U.length)return!1;for(var w=0;w<D.length;w++)if(!l(D[w].selector,U[w].selector)||D[w].desc!==U[w].desc||D[w].groupInterval!==U[w].groupInterval||!p&&!!D[w].isExpanded!=!!U[w].isExpanded)return!1;return!0}return(!D||!D.length)==(!U||!U.length)},getPointsByColumns(D,U,p,w){for(var $,ye,Ne,V=D.length,J=!1,de=w||0,Te=[],T=0;T<=V;T++){T<V&&(ye=($=D.eq(T)).offset(),Ne="rtl"===$.css("direction"));var r={index:de,x:ye?ye.left+(!p&&Ne^T===V?(0,ae.N)($[0]).width:0):0,y:ye?ye.top+(p&&T===V?(0,ae.N)($[0]).height:0):0,columnIndex:de};if(!p&&T>0){var v=D.eq(T-1).offset();v.top<r.y&&(r.y=v.top)}U&&(J=U(r)),J||Te.push(r),de++}return Te},getExpandCellTemplate:()=>({allowRenderToDetachedContainer:!0,render(D,U){var p=(0,k.A)(D);if(!(0,q.O9)(U.value)||U.data&&U.data.isContinuation||U.row.isNewRow)h(p);else{var w=U.component.getView("rowsView");p.addClass("dx-datagrid-expand").addClass("dx-selection-disabled"),(0,k.A)("<div>").addClass(U.value?"dx-datagrid-group-opened":"dx-datagrid-group-closed").appendTo(p),w.setAria("label",w.localize(U.value?"dxDataGrid-ariaCollapse":"dxDataGrid-ariaExpand"),p)}}}),setEmptyText:h,isDateType:_,getSelectionRange(D){try{if(D)return{selectionStart:D.selectionStart,selectionEnd:D.selectionEnd}}catch{}return{}},setSelectionRange(D,U){try{D&&D.setSelectionRange&&D.setSelectionRange(U.selectionStart,U.selectionEnd)}catch{}},focusAndSelectElement(D,U){var p=U.is(":focus");ue.A.trigger(U,"focus");var w=D.option("editing.selectTextOnEditStart"),V=U.get(0);if(!p&&w&&U.is(".dx-texteditor-input")&&!U.is("[readonly]")){var J=X(U.closest(".dx-texteditor"));(0,he.z7)(J&&J._loadItemDeferred).done(()=>{V.select()})}},getWidgetInstance:X,getLastResizableColumnIndex(D,U){var w,p=D.some(ye=>ye&&!ye.command&&!ye.fixed&&!1!==ye.allowResizing);for(w=D.length-1;D[w];w--){var V=D[w];if(!(V.command||V.fixed||"adaptiveHidden"===(U&&U[w])||p&&!1===V.allowResizing))break}return w},isElementInCurrentGrid:(D,U)=>!(!U||!U.length)&&U.closest(".".concat(D.getWidgetContainerClass())).parent().is(D.component.$element()),isVirtualRowRendering(D){var U=D.option("scrolling.rowRenderingMode"),p=D.option(B)===Pe,w="infinite"===D.option(B);return!(!1!==D.option("scrolling.legacyMode")||!p&&!w)||U===Pe},getPixelRatio:D=>D.devicePixelRatio||1,getContentHeightLimit(D){return D.mozilla?8e6:15e6/this.getPixelRatio((0,Y.zk)())},normalizeLookupDataSource(D){var U;return D.items?U=D.items:(0,q.Tn)(U=D.dataSource)&&!P.A.isWrapped(U)&&(U=U({})),(0,re.ho)(U)},getWrappedLookupDataSource(D,U,p){if(!U)return[];var w=this.normalizeLookupDataSource(D.lookup);if(D.calculateCellValue!==D.defaultCalculateCellValue)return w;var $,ye,de,V=U.remoteOperations().groupPaging,J=D.displayField&&(0,q.Kg)(D.displayField),Te=(T,r)=>{var v,f=null!==(v=r.skip)&&void 0!==v?v:0;return T.slice(f,r.take?f+r.take:T.length)},Ne=(0,be.A)((0,be.A)({},w),{__dataGridSourceFilter:p,load:T=>{var v,f,s,r=new he.cY;return(v=T,f=function He(D){return Array.isArray(D)||(D=[D]),D.map((U,p)=>(0,q.Kg)(U)?{selector:U,isExpanded:p<D.length-1}:U)}(J?[D.dataField,D.displayField]:D.dataField),s=new he.cY,$&&(!V||v.skip===de&&v.take===ye)?s.resolve(Te($,v)):(de=v.skip,ye=v.take,U.load({filter:p,group:f,take:V?v.take:void 0,skip:V?v.skip:void 0}).done(u=>{$=u,s.resolve(V?u:Te(u,v))}).fail(s.fail)),s).done(v=>{if(0!==v.length){var f=this.combineFilters(v.flatMap(t=>t.key).map(t=>[D.lookup.valueExpr,t]),"or");new Ee.q((0,be.A)((0,be.A)((0,be.A)({},w),T),{filter:this.combineFilters([f,T.filter],"and"),paginate:!1})).load().done(r.resolve).fail(r.fail)}else r.resolve([])}).fail(r.fail),r},key:D.lookup.valueExpr,byKey(T){var r=(0,he.cY)();return this.load({filter:[D.lookup.valueExpr,"=",T]}).done(v=>{r.resolve(v[0])}),r.promise()}});return Ne},logHeaderFilterDeprecatedWarningIfNeed(D){var U=D._logDeprecatedOptionWarning.bind(D);(0,q.O9)(D.option("headerFilter.allowSearch"))&&U("headerFilter.allowSearch",{since:"23.1",alias:"headerFilter.search.enabled"}),(0,q.O9)(D.option("headerFilter.searchTimeout"))&&U("headerFilter.searchTimeout",{since:"23.1",alias:"headerFilter.search.timeout"});var p="dxPivotGrid"===D.NAME?"dataSource.fields":"columns",w=D.option(p);if(Array.isArray(w)){var V=J=>{J.forEach($=>{var ye,de=$.headerFilter||{};(0,q.O9)(de.allowSearch)&&U("".concat(p,"[].headerFilter.allowSearch"),{since:"23.1",alias:"".concat(p,"[].headerFilter.search.enabled")}),(0,q.O9)(de.searchMode)&&U("".concat(p,"[].headerFilter.searchMode"),{since:"23.1",alias:"".concat(p,"[].headerFilter.search.mode")}),null!==(ye=$.columns)&&void 0!==ye&&ye.length&&V($.columns)})};V(w)}}}},449:(Mt,dt,i)=>{i.d(dt,{g:()=>P});var be=i(4292),k=i(5042),se=i(2984),_e=i(2101),he=i(186),Ce=i(2463),le=i(5207),oe="dx-master-detail-row",P={defaultOptions:()=>({masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}),extenders:{controllers:{columns:{_getExpandColumnsCore(){var Y=this.callBase();return this.option("masterDetail.enabled")&&Y.push({type:"detailExpand",cellTemplate:le.A.getExpandCellTemplate()}),Y}},data:function(){var Y=function(Ee){Ee._expandedItems=[],Ee._isExpandAll=Ee.option("masterDetail.autoExpandAll")};return{init(){Y(this),this.callBase()},expandAll(Ee){Ee<0?(this._isExpandAll=!0,this._expandedItems=[],this.updateItems()):this.callBase.apply(this,arguments)},collapseAll(Ee){Ee<0?(this._isExpandAll=!1,this._expandedItems=[],this.updateItems()):this.callBase.apply(this,arguments)},isRowExpanded(Ee){var re=le.A.getIndexByKey(Ee,this._expandedItems);return Array.isArray(Ee)?this.callBase.apply(this,arguments):!!(this._isExpandAll^(re>=0&&this._expandedItems[re].visible))},_getRowIndicesForExpand(Ee){var re=this.getRowIndexByKey(Ee);return[re,re+1]},_changeRowExpandCore(Ee){var re;if(Array.isArray(Ee))re=this.callBase.apply(this,arguments);else{var j=le.A.getIndexByKey(Ee,this._expandedItems);if(j>=0){var{visible:ue}=this._expandedItems[j];this._expandedItems[j].visible=!ue}else this._expandedItems.push({key:Ee,visible:!0});this.updateItems({changeType:"update",rowIndices:this._getRowIndicesForExpand(Ee)}),re=(new se.cY).resolve()}return re},_processDataItem(Ee,re){var j=this.callBase.apply(this,arguments);return j.isExpanded=this.isRowExpanded(j.key),void 0===re.detailColumnIndex&&(re.detailColumnIndex=-1,(0,_e.__)(re.visibleColumns,(ue,b)=>{if("expand"===b.command&&!(0,Ce.O9)(b.groupIndex))return re.detailColumnIndex=ue,!1})),re.detailColumnIndex>=0&&(j.values[re.detailColumnIndex]=j.isExpanded),j},_processItems(Ee,re){var j=this,{changeType:ue}=re,b=[];return Ee=j.callBase.apply(j,arguments),"loadingAll"===ue?Ee:("refresh"===ue&&(j._expandedItems=(0,k.VM)(j._expandedItems,c=>c.visible)),(0,_e.__)(Ee,(c,a)=>{b.push(a);var d=le.A.getIndexByKey(a.key,j._expandedItems);"data"===a.rowType&&(a.isExpanded||d>=0)&&!a.isNewRow&&b.push({visible:a.isExpanded,rowType:"detail",key:a.key,data:a.data,values:[]})}),b)},optionChanged(Ee){var re,j;if("masterDetail"===Ee.name){switch(Ee.name="dataSource",Ee.fullName){case"masterDetail":var ue=Ee.value||{},b=Ee.previousValue||{};re=ue.enabled!==b.enabled,j=ue.autoExpandAll!==b.autoExpandAll;break;case"masterDetail.template":Y(this);break;case"masterDetail.enabled":re=!0;break;case"masterDetail.autoExpandAll":j=!0}(re||j)&&Y(this)}this.callBase(Ee)}}}(),resizing:{fireContentReadyAction(){this.callBase.apply(this,arguments),this._updateParentDataGrids(this.component.$element())},_updateParentDataGrids(Y){var Ee=Y.closest(".".concat(oe));Ee.length&&(0,se.z7)(this._updateMasterDataGrid(Ee,Y)).done(()=>{this._updateParentDataGrids(Ee.parent())})},_updateMasterDataGrid(Y,Ee){var re=(0,be.A)(Y).data("options"),j=(0,be.A)(Y).closest(".".concat(this.getWidgetContainerClass())).parent().data("dxDataGrid");if(re&&j)return this._updateMasterDataGridCore(j,re)},_updateMasterDataGridCore(Y,Ee){var re=(0,se.cY)();if(Y.getView("rowsView").isFixedColumns())this._updateFixedMasterDetailGrids(Y,Ee.rowIndex,(0,be.A)(Ee.rowElement)).done(re.resolve);else{if(!0===Y.option("scrolling.useNative"))return void Y.updateDimensions().done(()=>re.resolve(!0));var j=Y.getScrollable();j?j?.update().done(()=>re.resolve()):re.resolve()}return re.promise()},_updateFixedMasterDetailGrids(Y,Ee,re){var j=(0,se.cY)(),ue=(0,be.A)(Y.getRowElement(Ee)),b=(0,be.A)(Y.getView("rowsView").getTableElements()),c=2===ue?.length&&(0,he.Oq)(ue.eq(0))!==(0,he.Oq)(ue.eq(1)),a=2===b?.length&&(0,he.Oq)(b.eq(0))!==(0,he.Oq)(b.eq(1));if(c||a){var d=(0,he.RG)(re);return Y.updateDimensions().done(()=>{var m=this.option("columnAutoWidth")&&!0===Y.option("scrolling.useNative"),S=m&&d!==(0,he.RG)(re);m&&S?this.updateDimensions().done(()=>j.resolve(!0)):j.resolve(!0)}),j.promise()}return(0,se.cY)().resolve()},_toggleBestFitMode(Y){if(this.callBase.apply(this,arguments),this.option("masterDetail.template")){var Ee=this._rowsView.getTableElement();Ee&&Ee.find(".dx-master-detail-cell").css("maxWidth",Y?0:"")}}}},views:{rowsView:{_getCellTemplate(Y){var{column:Ee}=Y,re=this.getController("editing"),j=re&&re.isEditRow(Y.rowIndex);return"detail"!==Ee.command||j?this.callBase.apply(this,arguments):this.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:this._getDefaultTemplate(Ee)}},_isDetailRow:Y=>Y&&Y.rowType&&0===Y.rowType.indexOf("detail"),_createRow(Y){var Ee=this.callBase.apply(this,arguments);return Y&&this._isDetailRow(Y)&&(this.option("showRowLines")&&Ee.addClass("dx-row-lines"),Ee.addClass(oe),(0,Ce.O9)(Y.visible)&&Ee.toggle(Y.visible)),Ee},_renderCells(Y,Ee){var{row:re}=Ee,ue=this._columnsController.getVisibleColumns();re.rowType&&this._isDetailRow(re)?this._needRenderCell(0,Ee.columnIndices)&&this._renderCell(Y,{value:null,row:re,rowIndex:re.rowIndex,column:{command:"detail"},columnIndex:0,change:Ee.change}).addClass("dx-cell-focus-disabled").addClass("dx-master-detail-cell").attr("colSpan",ue.length):this.callBase.apply(this,arguments)}}}}}},7807:(Mt,dt,i)=>{i.d(dt,{u:()=>Ri});var be=i(2463),k=i(4435),se=i(736),_e=i(4905),he=i(8887);class Ce extends he.A{_optionChanged(E){switch(E.name){case"pageIndex":var e=this.option("pageIndexChanged");e&&e(E.value);break;case"pageSize":var ne=this.option("pageSizeChanged");ne&&ne(E.value)}super._optionChanged(E)}}var le=i(8587),ae=i(8168),oe=i(1522),ee=i(6806),q=i(348),P=i(505),Y=i(9228);function Ee(Re,E){var e,ne=null!==(e=(0,P.A)(E))&&void 0!==e?e:{};return(0,Y.R)(ne[Re])}function j(Re){return Ee("marginLeft",Re)+Ee("marginRight",Re)+Ee("width",Re)}function ue(Re){return Ee("minWidth",Re)}var b=["contentTemplate","pagerProps"];var S={},I=Re=>Re&&(Re.defaultProps?E=>(0,oe._B)((0,oe.sO)(2,Re,(0,ae.A)({},E))):Re);let N=(()=>{class Re extends ee.JP{constructor(e){super(e),this.parentRef=(0,oe._3)(),this.pageSizesRef=(0,oe._3)(),this.infoTextRef=(0,oe._3)(),this.pagesRef=(0,oe._3)(),this.actualIsLargeDisplayMode=!0,this.actualInfoTextVisible=!0,this.state={infoTextVisible:!0,isLargeDisplayMode:!0},this.subscribeToResize=this.subscribeToResize.bind(this),this.effectUpdateChildProps=this.effectUpdateChildProps.bind(this),this.updateAdaptivityProps=this.updateAdaptivityProps.bind(this)}createEffects(){return[new ee.Lt(this.subscribeToResize,[this.state.infoTextVisible,this.state.isLargeDisplayMode]),new ee.Lt(this.effectUpdateChildProps,[this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])]}updateEffects(){var e,ne;null===(e=this._effects[0])||void 0===e||e.update([this.state.infoTextVisible,this.state.isLargeDisplayMode]),null===(ne=this._effects[1])||void 0===ne||ne.update([this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])}subscribeToResize(){var e=()=>{this.parentWidth>0&&this.updateAdaptivityProps()};return q.A.add(e),()=>{q.A.remove(e)}}effectUpdateChildProps(){this.parentWidth>0&&this.updateAdaptivityProps()}get contentAttributes(){var{className:e,displayMode:ne,gridCompatibility:je,hasKnownLastPage:at,infoText:bt,label:Vt,lightModeEnabled:Kt,maxPagesCount:Xt,onKeyDown:ii,pageCount:ui,pageIndex:di,pageIndexChange:Si,pageSize:Di,pageSizeChange:Pi,pageSizes:Mi,pagesCountText:Bi,pagesNavigatorVisible:Li,rtlEnabled:Fi,showInfo:Hi,showNavigationButtons:Vi,showPageSizes:Oi,totalCount:Ni,visible:bi}=this.props.pagerProps;return(0,ae.A)({},this.restAttributes,{pageSize:Di,pageIndex:di,pageIndexChange:Si,pageSizeChange:Pi,gridCompatibility:je,className:e,showInfo:Hi,infoText:bt,lightModeEnabled:Kt,displayMode:ne,maxPagesCount:Xt,pageCount:ui,pagesCountText:Bi,visible:bi,hasKnownLastPage:at,pagesNavigatorVisible:Li,showPageSizes:Oi,pageSizes:Mi,rtlEnabled:Fi,showNavigationButtons:Vi,totalCount:Ni,onKeyDown:ii,label:Vt})}get parentWidth(){return this.parentRef.current?j(this.parentRef.current):0}updateAdaptivityProps(){var e=function m(Re){var{info:E,pageSizes:e,pages:ne,parent:je}=Re,at=function re(Re){var E=Ee("paddingLeft",Re)+Ee("paddingRight",Re);return Ee("width",Re)-E}(je),bt=j(e),Vt=j(E),Kt=j(ne);return{parent:at,pageSizes:bt,info:Vt+Ee("marginLeft",E)+Ee("marginRight",E),pages:Kt}}({parent:this.parentRef.current,pageSizes:this.pageSizesRef.current,info:this.infoTextRef.current,pages:this.pagesRef.current});if(this.actualInfoTextVisible===this.state.infoTextVisible&&this.actualIsLargeDisplayMode===this.state.isLargeDisplayMode){var ne=!(0,be.O9)(this.elementsWidth);ne&&(this.elementsWidth={}),(ne||this.state.isLargeDisplayMode)&&(this.elementsWidth.pageSizes=e.pageSizes,this.elementsWidth.pages=e.pages),(ne||this.state.infoTextVisible)&&(this.elementsWidth.info=e.info),this.actualIsLargeDisplayMode=function a(Re){var{pageSizes:E,pages:e,parent:ne}=Re;return ne-(E+e)>0}((0,ae.A)({parent:e.parent},{pageSizes:this.elementsWidth.pageSizes,pages:this.elementsWidth.pages})),this.actualInfoTextVisible=function d(Re){var{info:E,pageSizes:e,pages:ne,parent:je}=Re;return je-(e+ne+E)>0}((0,ae.A)({},e,{info:this.elementsWidth.info})),this.setState(je=>({infoTextVisible:this.actualInfoTextVisible})),this.setState(je=>({isLargeDisplayMode:this.actualIsLargeDisplayMode}))}}get restAttributes(){return(0,le.A)(this.props,b)}render(){var e=this.props;return(Re=>{var{contentAttributes:E,infoTextRef:e,infoTextVisible:ne,isLargeDisplayMode:je,pageSizesRef:at,pagesRef:bt,parentRef:Vt,props:{contentTemplate:Kt}}=Re;return Kt((0,ae.A)({rootElementRef:Vt,pageSizesRef:at,infoTextRef:e,pagesRef:bt,infoTextVisible:ne,isLargeDisplayMode:je},E))})({props:(0,ae.A)({},e,{contentTemplate:I(e.contentTemplate)}),infoTextVisible:this.state.infoTextVisible,isLargeDisplayMode:this.state.isLargeDisplayMode,parentRef:this.parentRef,pageSizesRef:this.pageSizesRef,infoTextRef:this.infoTextRef,pagesRef:this.pagesRef,contentAttributes:this.contentAttributes,parentWidth:this.parentWidth,updateAdaptivityProps:this.updateAdaptivityProps,restAttributes:this.restAttributes})}}return Re.defaultProps=S,Re})();var xe={gridCompatibility:!0,showInfo:!1,displayMode:"adaptive",maxPagesCount:10,pageCount:10,visible:!0,hasKnownLastPage:!0,pagesNavigatorVisible:"auto",showPageSizes:!0,pageSizes:Object.freeze([5,10]),showNavigationButtons:!1,totalCount:0,get label(){return se.A.format("dxPager-ariaLabel")}},Pe=Object.create(Object.prototype,(0,ae.A)(Object.getOwnPropertyDescriptors(xe),Object.getOwnPropertyDescriptors({defaultPageSize:5,pageSizeChange:()=>{},defaultPageIndex:1,pageIndexChange:()=>{}}))),Ie=Object.create(Object.prototype,(0,ae.A)(Object.getOwnPropertyDescriptors(xe),Object.getOwnPropertyDescriptors({pageSize:5,pageIndex:1}))),B=i(370),n=["infoText","pageCount","pageIndex","rootElementRef","totalCount"],g="dx-info",_={get pageIndex(){return Ie.pageIndex},get pageCount(){return Ie.pageCount},get totalCount(){return Ie.totalCount}};let h=(()=>{class Re extends ee.eh{constructor(e){super(e),this.state={}}get infoText(){var e;return(null!==(e=this.props.infoText)&&void 0!==e?e:"")||se.A.getFormatter("dxPager-infoText")()}get text(){var{pageCount:e,pageIndex:ne,totalCount:je}=this.props;return(0,B.GP)(this.infoText,(ne+1).toString(),e.toString(),je.toString())}get restAttributes(){return(0,le.A)(this.props,n)}render(){return(Re=>{var{props:{rootElementRef:E},text:e}=Re;return(0,oe.bF)(1,"div",g,e,0,null,null,E)})({props:(0,ae.A)({},this.props),infoText:this.infoText,text:this.text,restAttributes:this.restAttributes})}}return Re.defaultProps=_,Re})();var C=i(410),F=(0,ee.q6)(void 0),te=["children","className","label","onClick","selected","tabIndex"],ge={className:"",label:"",tabIndex:0,selected:!1};let He=(()=>{class Re extends ee.JP{constructor(e){super(e),this.state={},this.widgetRef=(0,oe._3)(),this.keyboardEffect=this.keyboardEffect.bind(this),this.subscribeToClick=this.subscribeToClick.bind(this)}get keyboardContext(){return this.context[F.id]?this.context[F.id]:F.defaultValue}createEffects(){return[new ee.Lt(this.keyboardEffect,[this.keyboardContext,this.props.onClick]),new ee.Lt(this.subscribeToClick,[this.props.onClick])]}updateEffects(){var e,ne;null===(e=this._effects[0])||void 0===e||e.update([this.keyboardContext,this.props.onClick]),null===(ne=this._effects[1])||void 0===ne||ne.update([this.props.onClick])}keyboardEffect(){return this.keyboardContext.registerKeyboardAction(this.widgetRef.current,this.props.onClick)}subscribeToClick(){return(0,C.Ao)(this.widgetRef.current,this.props.onClick)}get restAttributes(){return(0,le.A)(this.props,te)}render(){return(Re=>{var{props:{children:E,className:e,label:ne,selected:je,tabIndex:at},widgetRef:bt}=Re;return(0,oe.bF)(1,"div",e,E,0,{tabIndex:at,role:"button","aria-label":ne,"aria-current":je?"page":void 0},null,bt)})({props:(0,ae.A)({},this.props),widgetRef:this.widgetRef,keyboardContext:this.keyboardContext,restAttributes:this.restAttributes})}}return Re.defaultProps=ge,Re})();var V="dx-selection",J="dx-page-size",ye="".concat(J," ").concat(V),Te=i(2243),Ne=["className","index","onClick","selected"],r={index:0,selected:!1,className:"dx-page"};let v=(()=>{class Re extends ee.eh{constructor(e){super(e),this.state={}}get label(){return(0,B.GP)(se.A.getFormatter("dxPager-page"),this.value)}get value(){return this.props.index+1}get className(){var{selected:e}=this.props;return(0,Te.g)({["".concat(this.props.className)]:!!this.props.className,[V]:!!e})}get restAttributes(){return(0,le.A)(this.props,Ne)}render(){return(Re=>{var{className:E,label:e,props:{onClick:ne,selected:je},value:at}=Re;return(0,oe.sO)(2,He,{className:E,label:e,onClick:ne,selected:je,children:at})})({props:(0,ae.A)({},this.props),label:this.label,value:this.value,className:this.className,restAttributes:this.restAttributes})}}return Re.defaultProps=r,Re})();var f=i(3435),s=["pageIndexes"],t=["maxPagesCount","pageCount","pageIndex","pageIndexChange"];function pe(Re,E,e){return 1===Re?"high":Re+E===e-1?"low":"both"}function we(Re,E,e){var ne=[],je=[];switch(e){case"none":ne=[...Re];break;case"both":ne=[0,"low",...Re,"high",E-1],je=Re.slice(1,-1);break;case"high":ne=[0,...Re,"high",E-1],je=Re.slice(0,-1);break;case"low":ne=[0,"low",...Re,E-1],je=Re.slice(1)}return{slidingWindowIndexes:Re,indexesForReuse:je,pageIndexes:ne}}function R(Re,E,e,ne){for(var je=[],at=0;at<E;at+=1)je.push(at+Re);return we(je,e,ne)}var z={get pageIndex(){return Ie.pageIndex},get maxPagesCount(){return Ie.maxPagesCount},get pageCount(){return Ie.pageCount}};let fe=(()=>{class Re extends ee.eh{constructor(e){super(e),this.state={},this.canReuseSlidingWindow=this.canReuseSlidingWindow.bind(this),this.generatePageIndexes=this.generatePageIndexes.bind(this),this.isSlidingWindowMode=this.isSlidingWindowMode.bind(this),this.onPageClick=this.onPageClick.bind(this)}get config(){return this.context[f.Q.id]?this.context[f.Q.id]:f.Q.defaultValue}get slidingWindowState(){return this.slidingWindowStateHolder||{indexesForReuse:[],slidingWindowIndexes:[]}}canReuseSlidingWindow(e,ne){var{indexesForReuse:je}=this.slidingWindowState,at=je.slice(-1)[0]<e-1,bt=je.includes(ne);return at&&bt}generatePageIndexes(){var je,{pageCount:e,pageIndex:ne}=this.props,{slidingWindowIndexes:at}=this.slidingWindowState,Kt=R(je=ne===at[0]?ne-1:ne===at[at.length-1]?ne+2-4:ne<4?1:ne>=e-4?e-4-1:ne-1,4,e,pe(je,4,e)),{pageIndexes:Xt}=Kt,ii=(0,le.A)(Kt,s);return this.slidingWindowStateHolder=ii,Xt}isSlidingWindowMode(){var{maxPagesCount:e,pageCount:ne}=this.props;return ne<=4||ne<=e}onPageClick(e){this.props.pageIndexChange(e)}get pageIndexes(){var{pageCount:e}=this.props;if(this.isSlidingWindowMode())return R(0,e,e,"none").pageIndexes;if(this.canReuseSlidingWindow(e,this.props.pageIndex)){var{slidingWindowIndexes:ne}=this.slidingWindowState;return we(ne,e,pe(ne[0],4,e)).pageIndexes}return this.generatePageIndexes()}get pages(){var e,{pageIndex:ne}=this.props,je=bt=>{var Vt="low"===bt||"high"===bt?null:{index:bt,onClick:()=>this.onPageClick(bt),selected:ne===bt};return{key:bt.toString(),pageProps:Vt}};return(null!==(e=this.config)&&void 0!==e&&e.rtlEnabled?[...this.pageIndexes].reverse():this.pageIndexes).map(bt=>je(bt))}get restAttributes(){return(0,le.A)(this.props,t)}render(){return(Re=>{var{pages:E}=Re,e=E.map(ne=>{var{key:je,pageProps:at}=ne;return at?(0,oe.sO)(2,v,{index:at.index,selected:at.selected,onClick:at.onClick},je):(0,oe.bF)(1,"div","dx-separator",". . .",16,null,je)});return(0,oe.nl)(e,0)})({props:(0,ae.A)({},this.props),config:this.config,pageIndexes:this.pageIndexes,pages:this.pages,restAttributes:this.restAttributes})}}return Re.defaultProps=z,Re})();var Me=i(8709),ze=i(8854),tt=i(9060),ht=i(3862),St={hoverStateEnabled:!0,activeStateEnabled:!0,get focusStateEnabled(){return"desktop"===ht.A.real().deviceType&&!ht.A.isSimulator()}},xt=i(1299),Tt={label:"",get labelMode(){return(0,xt.gx)((0,xt.ss)())?"floating":"static"}},Pt=["accessKey","activeStateEnabled","className","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","invalidValueMessage","isDirty","isValid","label","labelMode","max","min","mode","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","showSpinButtons","step","tabIndex","useLargeSpinButtons","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],M=Object.create(Object.prototype,(0,ae.A)(Object.getOwnPropertyDescriptors(tt.eH),Object.getOwnPropertyDescriptors({defaultValue:0,isReactComponentWrapper:!0}))),ce={get defaultValue(){return M.defaultValue},get readOnly(){return M.readOnly},get name(){return M.name},get validationError(){return M.validationError},get validationErrors(){return M.validationErrors},get validationMessageMode(){return M.validationMessageMode},get validationMessagePosition(){return M.validationMessagePosition},get validationStatus(){return M.validationStatus},get isValid(){return M.isValid},get isDirty(){return M.isDirty},get inputAttr(){return M.inputAttr},get className(){return M.className},get activeStateEnabled(){return St.activeStateEnabled},get disabled(){return M.disabled},get focusStateEnabled(){return St.focusStateEnabled},get hoverStateEnabled(){return St.hoverStateEnabled},get tabIndex(){return M.tabIndex},get visible(){return M.visible},get label(){return Tt.label},get labelMode(){return Tt.labelMode},isReactComponentWrapper:!0};let Be=(()=>{class Re extends ee.eh{constructor(e){super(e),this.state={value:void 0!==this.props.value?this.props.value:this.props.defaultValue}}get componentProps(){return(0,ae.A)({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value})}get restAttributes(){var e=(0,ae.A)({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value});return(0,le.A)(e,Pt)}render(){return(Re=>{var{componentProps:E,restAttributes:e}=Re;return(0,oe._B)((0,oe.sO)(2,ze.FU,(0,ae.A)({componentType:Me.A,componentProps:E,templateNames:[]},e)))})({props:(0,ae.A)({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return Re.defaultProps=ce,Re})();function Ye(Re,E){return Re+10*Math.max(...E).toString().length}var Qe=["inputAttr","pageCount","pageIndex","pageIndexChange","pagesCountText"],pt="".concat(g,"  dx-info-text"),At="dx-page-index",vt={inputAttr:Object.freeze({"aria-label":se.A.format("dxPager-ariaPageNumber")})},Ot={get pageIndex(){return Ie.pageIndex},get pageCount(){return Ie.pageCount},get inputAttr(){return vt.inputAttr}};let it=(()=>{class Re extends ee.JP{constructor(e){super(e),this.pageIndexRef=(0,oe._3)(),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this),this.selectLastPageIndex=this.selectLastPageIndex.bind(this),this.valueChange=this.valueChange.bind(this)}createEffects(){return[new ee.Lt(this.updateWidth,[this.state.minWidth])]}updateEffects(){var e;null===(e=this._effects[0])||void 0===e||e.update([this.state.minWidth])}updateWidth(){var e,ne=null===(e=this.pageIndexRef.current)||void 0===e?void 0:e.querySelector(".".concat(At));this.setState(je=>({minWidth:ne&&ue(ne)||je.minWidth}))}get value(){return this.props.pageIndex+1}get width(){var{pageCount:e}=this.props;return Ye(this.state.minWidth,[e])}get pagesCountText(){var e;return(null!==(e=this.props.pagesCountText)&&void 0!==e?e:"")||se.A.getFormatter("dxPager-pagesCountText")()}selectLastPageIndex(){this.props.pageIndexChange(this.props.pageCount-1)}valueChange(e){this.props.pageIndexChange(e-1)}get restAttributes(){return(0,le.A)(this.props,Qe)}render(){return(Re=>{var{pageIndexRef:E,pagesCountText:e,props:{inputAttr:ne,pageCount:je},selectLastPageIndex:at,value:bt,valueChange:Vt,width:Kt}=Re;return(0,oe.bF)(1,"div","dx-light-pages",[(0,oe.sO)(2,Be,{className:At,min:1,max:Math.max(je,bt),width:Kt,value:bt,valueChange:Vt,inputAttr:ne}),(0,oe.bF)(1,"span",pt,e,0),(0,oe.sO)(2,v,{className:"dx-pages-count",selected:!1,index:je-1,onClick:at})],4,null,null,E)})({props:(0,ae.A)({},this.props),pageIndexRef:this.pageIndexRef,value:this.value,width:this.width,pagesCountText:this.pagesCountText,selectLastPageIndex:this.selectLastPageIndex,valueChange:this.valueChange,restAttributes:this.restAttributes})}}return Re.defaultProps=Ot,Re})();var De=["hasKnownLastPage","isLargeDisplayMode","maxPagesCount","pageCount","pageIndex","pageIndexChange","pagesCountText","showNavigationButtons","totalCount"],O="dx-navigate-button",Q="dx-prev-button",ve="dx-next-button",We="dx-button-disable",me={nextEnabledClass:"".concat(O," ").concat(ve),prevEnabledClass:"".concat(O," ").concat(Q),nextDisabledClass:"".concat(We," ").concat(O," ").concat(ve),prevDisabledClass:"".concat(We," ").concat(O," ").concat(Q)},ke={next:"prev",prev:"next"},yt={get pageIndex(){return Ie.pageIndex},get maxPagesCount(){return Ie.maxPagesCount},get pageCount(){return Ie.pageCount},get hasKnownLastPage(){return Ie.hasKnownLastPage},get showNavigationButtons(){return Ie.showNavigationButtons},get totalCount(){return Ie.totalCount},get isLargeDisplayMode(){return true}};let et=(()=>{class Re extends ee.eh{constructor(e){super(e),this.state={},this.__getterCache={},this.pageIndexChange=this.pageIndexChange.bind(this),this.getButtonProps=this.getButtonProps.bind(this),this.canNavigateToPage=this.canNavigateToPage.bind(this),this.getNextPageIndex=this.getNextPageIndex.bind(this),this.canNavigateTo=this.canNavigateTo.bind(this),this.navigateToPage=this.navigateToPage.bind(this)}get config(){return this.context[f.Q.id]?this.context[f.Q.id]:f.Q.defaultValue}pageIndexChange(e){this.canNavigateToPage(e)&&this.props.pageIndexChange(e)}getButtonProps(e){var ne,je=null!==(ne=this.config)&&void 0!==ne&&ne.rtlEnabled?ke[e]:e,at=this.canNavigateTo(je);return{className:me["".concat(e).concat(at?"Enabled":"Disabled","Class")],tabIndex:at?0:-1,navigate:()=>this.navigateToPage(je)}}canNavigateToPage(e){return this.props.hasKnownLastPage?e>=0&&e<=this.props.pageCount-1:e>=0}getNextPageIndex(e){return this.props.pageIndex+function st(Re){return"next"===Re?1:-1}(e)}canNavigateTo(e){return this.canNavigateToPage(this.getNextPageIndex(e))}navigateToPage(e){this.pageIndexChange(this.getNextPageIndex(e))}get renderPrevButton(){var{isLargeDisplayMode:e,showNavigationButtons:ne}=this.props;return!e||ne}get renderNextButton(){return this.renderPrevButton||!this.props.hasKnownLastPage}get prevButtonProps(){return void 0!==this.__getterCache.prevButtonProps?this.__getterCache.prevButtonProps:this.__getterCache.prevButtonProps=this.getButtonProps("prev")}get nextButtonProps(){return void 0!==this.__getterCache.nextButtonProps?this.__getterCache.nextButtonProps:this.__getterCache.nextButtonProps=this.getButtonProps("next")}get restAttributes(){return(0,le.A)(this.props,De)}componentWillUpdate(e,ne,je){(this.context[f.Q.id]!==je[f.Q.id]||this.props.hasKnownLastPage!==e.hasKnownLastPage||this.props.pageCount!==e.pageCount||this.props.pageIndex!==e.pageIndex||this.props.pageIndexChange!==e.pageIndexChange)&&(this.__getterCache.prevButtonProps=void 0),(this.context[f.Q.id]!==je[f.Q.id]||this.props.hasKnownLastPage!==e.hasKnownLastPage||this.props.pageCount!==e.pageCount||this.props.pageIndex!==e.pageIndex||this.props.pageIndexChange!==e.pageIndexChange)&&(this.__getterCache.nextButtonProps=void 0)}render(){return(Re=>{var{nextButtonProps:E,pageIndexChange:e,prevButtonProps:ne,props:{isLargeDisplayMode:je,maxPagesCount:at,pageCount:bt,pageIndex:Vt,pagesCountText:Kt},renderNextButton:Xt,renderPrevButton:ii}=Re;return(0,oe.nl)([ii&&(0,oe.sO)(2,He,{label:se.A.getFormatter("dxPager-prevPage")(),className:ne.className,tabIndex:ne.tabIndex,onClick:ne.navigate}),je&&(0,oe.sO)(2,fe,{maxPagesCount:at,pageCount:bt,pageIndex:Vt,pageIndexChange:e}),!je&&(0,oe.sO)(2,it,{pageCount:bt,pageIndex:Vt,pageIndexChange:e,pagesCountText:Kt}),Xt&&(0,oe.sO)(2,He,{label:se.A.getFormatter("dxPager-nextPage")(),className:E.className,tabIndex:E.tabIndex,onClick:E.navigate})],0)})({props:(0,ae.A)({},this.props),config:this.config,pageIndexChange:this.pageIndexChange,renderPrevButton:this.renderPrevButton,renderNextButton:this.renderNextButton,prevButtonProps:this.prevButtonProps,nextButtonProps:this.nextButtonProps,restAttributes:this.restAttributes})}}return Re.defaultProps=yt,Re})();var Wt=i(2379),zt=["accessKey","activeStateEnabled","className","dataSource","defaultValue","disabled","displayExpr","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isDirty","isValid","label","labelMode","name","onClick","onFocusIn","onKeyDown","placeholder","readOnly","rtlEnabled","searchEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","valueExpr","visible","width"],H=Object.create(Object.prototype,(0,ae.A)(Object.getOwnPropertyDescriptors(tt.eH),Object.getOwnPropertyDescriptors({placeholder:"",hoverStateEnabled:!0,searchEnabled:!1,defaultValue:null,isReactComponentWrapper:!0}))),G={get placeholder(){return H.placeholder},get hoverStateEnabled(){return St.hoverStateEnabled},get searchEnabled(){return H.searchEnabled},get defaultValue(){return H.defaultValue},get readOnly(){return H.readOnly},get name(){return H.name},get validationError(){return H.validationError},get validationErrors(){return H.validationErrors},get validationMessageMode(){return H.validationMessageMode},get validationMessagePosition(){return H.validationMessagePosition},get validationStatus(){return H.validationStatus},get isValid(){return H.isValid},get isDirty(){return H.isDirty},get inputAttr(){return H.inputAttr},get className(){return H.className},get activeStateEnabled(){return St.activeStateEnabled},get disabled(){return H.disabled},get focusStateEnabled(){return St.focusStateEnabled},get tabIndex(){return H.tabIndex},get visible(){return H.visible},get label(){return Tt.label},get labelMode(){return Tt.labelMode},isReactComponentWrapper:!0};let Le=(()=>{class Re extends ee.eh{constructor(e){super(e),this.state={value:void 0!==this.props.value?this.props.value:this.props.defaultValue}}get componentProps(){return(0,ae.A)({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value})}get restAttributes(){var e=(0,ae.A)({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value});return(0,le.A)(e,zt)}render(){return(Re=>{var{componentProps:E,restAttributes:e}=Re;return(0,oe._B)((0,oe.sO)(2,ze.FU,(0,ae.A)({componentType:Wt.A,componentProps:E,templateNames:["dropDownButtonTemplate","groupTemplate","itemTemplate"]},e)))})({props:(0,ae.A)({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return Re.defaultProps=G,Re})();var Xe=["inputAttr","pageSize","pageSizeChange","pageSizes","parentRef"],Ct={inputAttr:Object.freeze({"aria-label":se.A.format("dxPager-ariaPageSize")})},Dt={get pageSize(){return Ie.pageSize},get inputAttr(){return Ct.inputAttr}};let Nt=(()=>{class Re extends ee.JP{constructor(e){super(e),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this)}createEffects(){return[new ee.Lt(this.updateWidth,[this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])]}updateEffects(){var e;null===(e=this._effects[0])||void 0===e||e.update([this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])}updateWidth(){this.setState(e=>({minWidth:ue(this.props.parentRef.current)||e.minWidth}))}get width(){return Ye(this.state.minWidth,this.props.pageSizes.map(e=>e.value))}get restAttributes(){return(0,le.A)(this.props,Xe)}render(){return(Re=>{var{props:{inputAttr:E,pageSize:e,pageSizeChange:ne,pageSizes:je},width:at}=Re;return(0,oe.sO)(2,Le,{displayExpr:"text",valueExpr:"value",dataSource:je,value:e,valueChange:ne,width:at,inputAttr:E})})({props:(0,ae.A)({},this.props),width:this.width,restAttributes:this.restAttributes})}}return Re.defaultProps=Dt,Re})();var $t=["pageSize","pageSizeChange","pageSizes"],ti={get pageSize(){return Ie.pageSize}};let oi=(()=>{class Re extends ee.eh{constructor(e){super(e),this.state={},this.__getterCache={},this.onPageSizeChange=this.onPageSizeChange.bind(this)}get pageSizesText(){return void 0!==this.__getterCache.pageSizesText?this.__getterCache.pageSizesText:this.__getterCache.pageSizesText=(()=>{var{pageSize:e,pageSizes:ne}=this.props;return ne.map((je,at)=>{var{text:bt,value:Vt}=je;return{className:(0,Te.g)({[Vt===e?ye:J]:!0,"dx-first-child":0===at}),click:this.onPageSizeChange(Vt),label:(0,B.GP)(se.A.getFormatter("dxPager-pageSize"),Vt||se.A.getFormatter("dxPager-pageSizesAllText")),text:bt}})})()}onPageSizeChange(e){return()=>(this.props.pageSizeChange(e),this.props.pageSize)}get restAttributes(){return(0,le.A)(this.props,$t)}componentWillUpdate(e,ne,je){(this.props.pageSize!==e.pageSize||this.props.pageSizes!==e.pageSizes||this.props.pageSizeChange!==e.pageSizeChange)&&(this.__getterCache.pageSizesText=void 0)}render(){return(Re=>{var{pageSizesText:E}=Re;return(0,oe.nl)(E.map(e=>{var{className:ne,click:je,label:at,text:bt}=e;return(0,oe.sO)(2,He,{className:ne,label:at,onClick:je,children:bt},bt)}),0)})({props:(0,ae.A)({},this.props),pageSizesText:this.pageSizesText,restAttributes:this.restAttributes})}}return Re.defaultProps=ti,Re})();var li=["isLargeDisplayMode","pageSize","pageSizeChange","pageSizes","rootElementRef"],mi={get pageSize(){return Ie.pageSize},get pageSizes(){return Ie.pageSizes},get isLargeDisplayMode(){return true}};let ci=(()=>{class Re extends ee.JP{constructor(e){super(e),this.state={},this.htmlRef=(0,oe._3)(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this)}createEffects(){return[new ee.Lt(this.setRootElementRef,[])]}setRootElementRef(){var{rootElementRef:e}=this.props;e&&(e.current=this.htmlRef.current)}get normalizedPageSizes(){return void 0!==this.__getterCache.normalizedPageSizes?this.__getterCache.normalizedPageSizes:this.__getterCache.normalizedPageSizes=(()=>{var{pageSizes:e}=this.props;return e.map(ne=>"all"===ne||0===ne?{text:se.A.getFormatter("dxPager-pageSizesAllText")(),value:0}:{text:String(ne),value:ne})})()}get restAttributes(){return(0,le.A)(this.props,li)}componentWillUpdate(e,ne,je){super.componentWillUpdate(),this.props.pageSizes!==e.pageSizes&&(this.__getterCache.normalizedPageSizes=void 0)}render(){return(Re=>{var{htmlRef:E,normalizedPageSizes:e,props:{isLargeDisplayMode:ne,pageSize:je,pageSizeChange:at}}=Re;return(0,oe.bF)(1,"div","dx-page-sizes",[ne&&(0,oe.sO)(2,oi,{pageSizes:e,pageSize:je,pageSizeChange:at}),!ne&&(0,oe.sO)(2,Nt,{parentRef:E,pageSizes:e,pageSize:je,pageSizeChange:at})],0,null,null,E)})({props:(0,ae.A)({},this.props),htmlRef:this.htmlRef,normalizedPageSizes:this.normalizedPageSizes,restAttributes:this.restAttributes})}}return Re.defaultProps=mi,Re})();var pi=i(7476),jt=i(2328),vi=["className","displayMode","gridCompatibility","hasKnownLastPage","infoText","infoTextRef","infoTextVisible","isLargeDisplayMode","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pageSizesRef","pagesCountText","pagesNavigatorVisible","pagesRef","rootElementRef","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],Wi=Object.create(Object.prototype,(0,ae.A)(Object.getOwnPropertyDescriptors(Ie),Object.getOwnPropertyDescriptors({infoTextVisible:!0,isLargeDisplayMode:!0})));let Ai=(()=>{class Re extends ee.JP{constructor(e){super(e),this.state={},this.widgetRootElementRef=(0,oe._3)(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this),this.createFakeInstance=this.createFakeInstance.bind(this)}createEffects(){return[new ee.Lt(this.setRootElementRef,[])]}getChildContext(){return(0,ae.A)({},this.context,{[F.id]:this.keyboardAction||F.defaultValue})}setRootElementRef(){var{rootElementRef:e}=this.props;e&&(e.current=this.widgetRootElementRef.current)}createFakeInstance(){return{option:()=>!1,element:()=>this.widgetRootElementRef.current,_createActionByOption:()=>e=>{var ne,je;null===(ne=(je=this.props).onKeyDown)||void 0===ne||ne.call(je,e)}}}get keyboardAction(){return void 0!==this.__getterCache.keyboardAction?this.__getterCache.keyboardAction:this.__getterCache.keyboardAction={registerKeyboardAction:(e,ne)=>{var je=this.createFakeInstance();return(0,jt.js)("pager",je,e,void 0,ne)}}}get infoVisible(){var{infoTextVisible:e,showInfo:ne}=this.props;return ne&&e}get pageIndexSelectorVisible(){return 0!==this.props.pageSize}get normalizedDisplayMode(){var{displayMode:e,lightModeEnabled:ne}=this.props;return"adaptive"===e&&void 0!==ne?ne?"compact":"full":e}get pagesContainerVisible(){return!!this.props.pagesNavigatorVisible&&this.props.pageCount>0}get pagesContainerVisibility(){if("auto"===this.props.pagesNavigatorVisible&&1===this.props.pageCount&&this.props.hasKnownLastPage)return"hidden"}get isLargeDisplayMode(){var e=this.normalizedDisplayMode;return"adaptive"===e?this.props.isLargeDisplayMode:"full"===e}get classes(){var e={["".concat(this.props.className)]:!!this.props.className,"dx-pager":!0,"dx-light-mode":!this.isLargeDisplayMode};return(0,Te.g)(e)}get aria(){return{role:"navigation",label:this.props.label}}get restAttributes(){return(0,le.A)(this.props,vi)}componentWillUpdate(e,ne,je){super.componentWillUpdate(),this.props.onKeyDown!==e.onKeyDown&&(this.__getterCache.keyboardAction=void 0)}render(){return(Re=>{var{aria:E,classes:e,infoVisible:ne,isLargeDisplayMode:je,pageIndexSelectorVisible:at,pagesContainerVisibility:bt,pagesContainerVisible:Vt,props:{hasKnownLastPage:Kt,infoText:Xt,infoTextRef:ii,maxPagesCount:ui,pageCount:di,pageIndex:Si,pageIndexChange:Di,pageSize:Pi,pageSizeChange:Mi,pageSizes:Bi,pageSizesRef:Li,pagesCountText:Fi,pagesRef:Hi,rtlEnabled:Vi,showNavigationButtons:Oi,showPageSizes:Ni,totalCount:bi,visible:ki},restAttributes:Gi,widgetRootElementRef:zi}=Re;return(0,oe._B)((0,oe.sO)(2,pi.x0,(0,ae.A)({rootElementRef:zi,rtlEnabled:Vi,classes:e,visible:ki,aria:E},Gi,{children:[Ni&&(0,oe.sO)(2,ci,{rootElementRef:Li,isLargeDisplayMode:je,pageSize:Pi,pageSizeChange:Mi,pageSizes:Bi}),Vt&&(0,oe.bF)(1,"div","dx-pages",[ne&&(0,oe.sO)(2,h,{rootElementRef:ii,infoText:Xt,pageCount:di,pageIndex:Si,totalCount:bi}),at&&(0,oe.bF)(1,"div","dx-page-indexes",(0,oe.sO)(2,et,{hasKnownLastPage:Kt,isLargeDisplayMode:je,maxPagesCount:ui,pageCount:di,pageIndex:Si,pageIndexChange:Di,pagesCountText:Fi,showNavigationButtons:Oi,totalCount:bi}),2,null,null,Hi)],0,{style:(0,ee.gs)({visibility:bt})})]})))})({props:(0,ae.A)({},this.props),widgetRootElementRef:this.widgetRootElementRef,keyboardAction:this.keyboardAction,infoVisible:this.infoVisible,pageIndexSelectorVisible:this.pageIndexSelectorVisible,pagesContainerVisible:this.pagesContainerVisible,pagesContainerVisibility:this.pagesContainerVisibility,isLargeDisplayMode:this.isLargeDisplayMode,classes:this.classes,aria:this.aria,restAttributes:this.restAttributes})}}return Re.defaultProps=Wi,Re})();var hi=["className","defaultPageIndex","defaultPageSize","displayMode","gridCompatibility","hasKnownLastPage","infoText","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pagesCountText","pagesNavigatorVisible","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"];let fi=(()=>{class Re extends ee.oe{constructor(e){super(e),this.__getterCache={},this.state={pageSize:void 0!==this.props.pageSize?this.props.pageSize:this.props.defaultPageSize,pageIndex:void 0!==this.props.pageIndex?this.props.pageIndex:this.props.defaultPageIndex},this.pageIndexChange=this.pageIndexChange.bind(this),this.pageSizeChange=this.pageSizeChange.bind(this)}createEffects(){return[(0,ee.h2)()]}pageIndexChange(e){var ne,je;this.props.gridCompatibility?(this.setState(at=>({pageIndex:ne=e+1})),this.props.pageIndexChange(ne)):(this.setState(at=>({pageIndex:je=e})),this.props.pageIndexChange(je))}get pageIndex(){return this.props.gridCompatibility?(void 0!==this.props.pageIndex?this.props.pageIndex:this.state.pageIndex)-1:void 0!==this.props.pageIndex?this.props.pageIndex:this.state.pageIndex}pageSizeChange(e){var ne;this.setState(je=>({pageSize:ne=e})),this.props.pageSizeChange(ne)}get className(){return this.props.gridCompatibility?(0,Te.g)({"dx-datagrid-pager":!0,["".concat(this.props.className)]:!!this.props.className}):this.props.className}get pagerProps(){return void 0!==this.__getterCache.pagerProps?this.__getterCache.pagerProps:this.__getterCache.pagerProps=(0,ae.A)({},(0,ae.A)({},this.props,{pageSize:void 0!==this.props.pageSize?this.props.pageSize:this.state.pageSize,pageIndex:void 0!==this.props.pageIndex?this.props.pageIndex:this.state.pageIndex}),{className:this.className,pageIndex:this.pageIndex,pageIndexChange:e=>this.pageIndexChange(e),pageSizeChange:e=>this.pageSizeChange(e)})}get restAttributes(){var e=(0,ae.A)({},this.props,{pageSize:void 0!==this.props.pageSize?this.props.pageSize:this.state.pageSize,pageIndex:void 0!==this.props.pageIndex?this.props.pageIndex:this.state.pageIndex});return(0,le.A)(e,hi)}componentWillUpdate(e,ne,je){super.componentWillUpdate(),(this.props!==e||this.props.gridCompatibility!==e.gridCompatibility||this.props.className!==e.className||this.state.pageIndex!==ne.pageIndex||this.props.pageIndex!==e.pageIndex||this.props.pageIndexChange!==e.pageIndexChange||this.props.pageSizeChange!==e.pageSizeChange)&&(this.__getterCache.pagerProps=void 0)}render(){return(Re=>{var{pagerProps:E,restAttributes:e}=Re;return(0,oe._B)((0,oe.sO)(2,N,(0,ae.A)({contentTemplate:Ai,pagerProps:E},e)))})({props:(0,ae.A)({},this.props,{pageSize:void 0!==this.props.pageSize?this.props.pageSize:this.state.pageSize,pageIndex:void 0!==this.props.pageIndex?this.props.pageIndex:this.state.pageIndex}),pageIndexChange:this.pageIndexChange,pageIndex:this.pageIndex,pageSizeChange:this.pageSizeChange,className:this.className,pagerProps:this.pagerProps,restAttributes:this.restAttributes})}}return Re.defaultProps=Pe,Re})();class Ci extends Ce{getProps(){var E=super.getProps();return E.onKeyDown=this._wrapKeyDownHandler(E.onKeyDown),E}get _propsInfo(){return{twoWay:[["pageSize","defaultPageSize","pageSizeChange"],["pageIndex","defaultPageIndex","pageIndexChange"]],allowNull:[],elements:[],templates:[],props:["defaultPageSize","pageSizeChange","defaultPageIndex","pageIndexChange","gridCompatibility","className","showInfo","infoText","lightModeEnabled","displayMode","maxPagesCount","pageCount","pagesCountText","visible","hasKnownLastPage","pagesNavigatorVisible","showPageSizes","pageSizes","rtlEnabled","showNavigationButtons","totalCount","label","onKeyDown","pageSize","pageIndex"]}}get _viewComponent(){return fi}}(0,_e.A)("dxPager",Ci);const Ki=Ci;var Ei=i(4895),xi=function(Re){return 1+(parseInt(Re.pageIndex())||0)},Ri={defaultOptions:()=>({pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto",label:se.A.format("dxPager-ariaLabel")}}),views:{pagerView:Ei.A.View.inherit({init(){var Re=this.getController("data");Re.changed.add(E=>{if(E&&E.repaintChangesOnly){var e=this._pager;e?e.option({pageIndex:xi(Re),pageSize:Re.pageSize(),pageCount:Re.pageCount(),totalCount:Re.totalCount(),hasKnownLastPage:Re.hasKnownLastPage()}):this.render()}else(!E||"update"!==E.changeType&&"updateSelection"!==E.changeType&&"updateFocusedRow"!==E.changeType)&&(this._pager=null,this.render())})},_renderCore(){var Re=this.element().addClass(this.addWidgetPrefix("pager")),E=this.option("pager")||{},e=this.getController("data"),ne=this.getController("keyboardNavigation"),je={maxPagesCount:10,pageIndex:xi(e),pageCount:e.pageCount(),pageSize:e.pageSize(),showPageSizes:E.showPageSizeSelector,showInfo:E.showInfo,displayMode:E.displayMode,pagesNavigatorVisible:E.visible,showNavigationButtons:E.showNavigationButtons,label:E.label,pageSizes:this.getPageSizes(),totalCount:e.totalCount(),hasKnownLastPage:e.hasKnownLastPage(),pageIndexChanged(at){e.pageIndex()!==at-1&&e.pageIndex(at-1)},pageSizeChanged(at){e.pageSize(at)},onKeyDown:at=>ne&&ne.executeAction("onKeyDown",at),useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};(0,be.O9)(E.infoText)&&(je.infoText=E.infoText),this._pager?this._pager.repaint():(0,k.Vd)()?this._pager=this._createComponent(Re,Ki,je):Re.addClass("dx-pager").html('<div class="dx-pages"><div class="dx-page"></div></div>')},getPager(){return this._pager},getPageSizes(){var Re=this.getController("data"),E=this.option("pager"),e=E&&E.allowedPageSizes,ne=Re.pageSize();return(!(0,be.O9)(this._pageSizes)||!this._pageSizes.includes(ne))&&(this._pageSizes=[],E&&(Array.isArray(e)?this._pageSizes=e:e&&ne>1&&(this._pageSizes=[Math.floor(ne/2),ne,2*ne]))),this._pageSizes},isVisible(){var Re=this.getController("data"),E=this.option("pager"),e=E&&E.visible,ne=this.option("scrolling");return"auto"===e&&(e=(!ne||"virtual"!==ne.mode&&"infinite"!==ne.mode)&&(Re.pageCount()>1||Re.isLoaded()&&!Re.hasKnownLastPage())),e},getHeight(){return this.getElementHeight()},optionChanged(Re){var{name:E}=Re,e="pager"===E,ne="paging"===E,je="dataSource"===E,at="scrolling"===E,bt=this.getController("data");if(e||ne||at||je){if(Re.handled=!0,bt.skipProcessingPagingChange(Re.fullName))return;(e||ne)&&(this._pageSizes=null),je||(this._pager=null,this._invalidate(),(0,k.Vd)()&&e&&this.component&&this.component.resize())}},dispose(){this._pager=null}})}}},601:(Mt,dt,i)=>{i.d(dt,{e:()=>P});var be=i(4292),k=i(7951),se=i(5042),_e=i(186),he=i(400),Ce=i(5207),P={defaultOptions:()=>({rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}),extenders:{views:{rowsView:{init(){this.callBase.apply(this,arguments),this._updateHandleColumn()},_allowReordering(){var Y=this.option("rowDragging");return!(!Y||!(Y.allowReordering||Y.allowDropInsideItem||Y.group))},_updateHandleColumn(){var Y=this.option("rowDragging"),Ee=this._allowReordering(),re=this._columnsController,j=Ee&&Y.showDragIcons;re?.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",elementAttr:[{name:"dx-drag-cell",value:""}],cssClass:"dx-command-drag",width:"auto",cellTemplate:this._getHandleTemplate(),visible:j}),re?.columnOption("type:drag","visible",j)},_renderContent(){var Y=this.option("rowDragging"),Ee=this._allowReordering(),re=this.callBase.apply(this,arguments),j=this._isFixedTableRendering,ue=j?"_sortableFixed":"_sortable",b=j?"_sortable":"_sortableFixed",c=m=>{var S;null===(S=this._sortableFixed)||void 0===S||S.$element().css("pointerEvents",m?"auto":"")},a=".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)",d=this.option("dataRowTemplate")?"> table > tbody".concat(a):"> table > tbody > ".concat(a);return(Ee||this[ue])&&re.length&&(this[ue]=this._createComponent(re,he.A,(0,k.X)({component:this.component,contentTemplate:null,filter:d,cursorOffset:m=>{var{event:S}=m,I=(0,be.A)(this.element()).offset();return{x:S.pageX-I.left}},onDraggableElementShown:m=>{if(!Y.dragTemplate){var I=(0,be.A)(m.dragElement).children(".dx-widget").data(this.component.NAME);this._synchronizeScrollLeftPosition(I)}},dragTemplate:this._getDraggableRowTemplate(),handle:Y.showDragIcons&&".".concat("dx-command-drag"),dropFeedbackMode:"indicate"},Y,{onDragStart:m=>{var S,I;null===(S=this.getController("keyboardNavigation"))||void 0===S||S._resetFocusedCell();var N=m.component.getVisibleRows()[m.fromIndex];m.itemData=N&&N.data,m.cancel=!Ee||!(N&&"data"===N.rowType),null===(I=Y.onDragStart)||void 0===I||I.call(Y,m)},onDragEnter:()=>{c(!0)},onDragLeave:()=>{c(!1)},onDragEnd:m=>{var S;c(!1),null===(S=Y.onDragEnd)||void 0===S||S.call(Y,m)},onAdd:m=>{var S;c(!1),null===(S=Y.onAdd)||void 0===S||S.call(Y,m)},dropFeedbackMode:Y.dropFeedbackMode,onOptionChanged:m=>{this._sortableFixed&&("fromIndex"===m.name||"toIndex"===m.name)&&this[b].option(m.name,m.value)}})),re.toggleClass("dx-scrollable-container",j),re.toggleClass("dx-sortable-without-handle",Ee&&!Y.showDragIcons)),re},_renderCore(Y){this.callBase.apply(this,arguments),Y&&"update"===Y.changeType&&Y.repaintChangesOnly&&Ce.A.isVirtualRowRendering(this)&&(0,se.OX)(()=>{this._updateSortable()})},_updateSortable(){var Y=this._dataController.getRowIndexOffset();[this._sortable,this._sortableFixed].forEach(Ee=>{Ee?.option("offset",Y),Ee?.update()})},_resizeCore(){this.callBase.apply(this,arguments),this._updateSortable()},_getDraggableGridOptions(Y){var Ee=this.option(),re=this.getColumns(),j=(0,be.A)(this.getRowElement(Y.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:"never"},pager:{visible:!1},loadingTimeout:null,columnFixing:Ee.columnFixing,columnAutoWidth:Ee.columnAutoWidth,showColumnLines:Ee.showColumnLines,columns:re.map(ue=>({width:ue.width||ue.visibleWidth,fixed:ue.fixed,fixedPosition:ue.fixedPosition})),onRowPrepared:ue=>{var b=ue.component.getView("rowsView");(0,be.A)(ue.rowElement).replaceWith(j.eq(b._isFixedTableRendering?1:0).clone())}}},_synchronizeScrollLeftPosition(Y){var Ee=Y?.getScrollable();Ee?.scrollTo({x:this._scrollLeft})},_getDraggableRowTemplate(){return Y=>{var Ee=this.component.$element(),re=(0,be.A)("<div>");(0,_e.zj)(re,(0,_e.RG)(Ee));var j=this._dataController.items(),b=this._getDraggableGridOptions(j&&j[Y.fromIndex]);return this._createComponent(re,this.component.NAME,b),re.find(".dx-gridbase-container").children(":not(.".concat(this.addWidgetPrefix("rowsview"),")")).hide(),re.addClass(this.addWidgetPrefix("dragview")),re}},_getHandleTemplate(){return Y=Y=>this.addWidgetPrefix(Y),(Ee,re)=>{var j=(0,be.A)(Ee);if("data"===re.rowType)return j.addClass("dx-cell-focus-disabled"),(0,be.A)("<span>").addClass(Y("drag-icon"));Ce.A.setEmptyText(j)};var Y},optionChanged(Y){"rowDragging"===Y.name&&(this._updateHandleColumn(),this._invalidate(!0,!0),Y.handled=!0),this.callBase.apply(this,arguments)}}}}}},6647:(Mt,dt,i)=>{i.d(dt,{J:()=>Ee});var be=i(7669),k=i(4292),se=i(9407),_e=i(2463),he=i(9845),Ce=i(736),le=i(5207),ae="search-panel",oe="search-text";function P(re){return(0,_e.O9)(re.allowSearch)?re.allowSearch:re.allowFiltering}function Y(re,j){var{lookup:ue}=re;return re.parseValue?ue?re.parseValue.call(ue,j):re.parseValue(j):j}var Ee={defaultOptions:()=>({searchPanel:{visible:!1,width:160,placeholder:Ce.A.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}),extenders:{controllers:{data:{publicMethods(){return this.callBase().concat(["searchByText"])},_calculateAdditionalFilter(){var re=this.callBase(),j=function(ue,b){var c,a,S,d=ue._columnsController.getColumns(),m=ue.option("searchPanel.searchVisibleColumnsOnly"),I=[];if(!b)return null;function N(Pe){for(var Ie=(0,se.Hz)(S.valueExpr),B=0;B<Pe.length;B++){var n=Ie(Pe[B]);I.push(a.createFilterExpression(n,null,"search"))}}for(c=0;c<d.length;c++)if(a=d[c],(!m||a.visible)&&P(a)&&a.calculateFilterExpression){S=a.lookup;var xe=Y(a,b);S&&S.items?(0,he.A)(S.items).filter(a.createFilterExpression.call({dataField:S.displayExpr,dataType:S.dataType,calculateFilterExpression:a.calculateFilterExpression},xe,null,"search")).enumerate().done(N):void 0!==xe&&I.push(a.createFilterExpression(xe,null,"search"))}return 0===I.length?["!"]:le.A.combineFilters(I,"or")}(this,this.option("searchPanel.text"));return le.A.combineFilters([re,j])},searchByText(re){this.option("searchPanel.text",re)},optionChanged(re){switch(re.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),re.handled=!0;break;default:this.callBase(re)}}}},views:{headerPanel:function(){var re=function(j){return j.option("searchPanel")};return{_getToolbarItems(){var j=this.callBase();return this._prepareSearchItem(j)},_prepareSearchItem(j){var ue=this,b=ue.getController("data"),c=re(ue);return c&&c.visible&&j.push({template(d,m,S){var I=(0,k.A)("<div>").addClass(ue.addWidgetPrefix(ae)).appendTo(S);ue.getController("editorFactory").createEditor(I,{width:c.width,placeholder:c.placeholder,parentType:"searchPanel",value:ue.option("searchPanel.text"),updateValueTimeout:700,setValue(N){b.searchByText(N)},editorOptions:{inputAttr:{"aria-label":Ce.A.format("".concat(ue.component.NAME,"-ariaSearchInGrid"))}}}),ue.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40}),j},getSearchTextEditor(){var j=this,ue=j.element(),b=ue.find(".".concat(j.addWidgetPrefix(ae))).filter(function(){return(0,k.A)(this).closest(".".concat(j.addWidgetPrefix("header-panel"))).is(ue)});return b.length?b.dxTextBox("instance"):null},isVisible(){var j=re(this);return this.callBase()||j&&j.visible},optionChanged(j){if("searchPanel"===j.name){if("searchPanel.text"===j.fullName){var ue=this.getSearchTextEditor();ue&&ue.option("value",j.value)}else this._invalidate();j.handled=!0}else this.callBase(j)}}}(),rowsView:{init(){this.callBase.apply(this,arguments),this._searchParams=[],this._dataController=this.getController("data")},_getFormattedSearchText(re,j){var ue=Y(re,j),b=le.A.getFormatOptionsByColumn(re,"search");return le.A.formatValue(ue,b)},_getStringNormalizer(){var re,j,ue,b,c=this.option("searchPanel.highlightCaseSensitive"),a=null===(j=null===(re=this._dataController)||void 0===re?void 0:re.getDataSource)||void 0===j?void 0:j.call(re),d=null===(b=null===(ue=a?.loadOptions)||void 0===ue?void 0:ue.call(a))||void 0===b?void 0:b.langParams;return m=>(0,se.ao)(m,c,d)},_findHighlightingTextNodes(re,j,ue){var c,b=j.parent(),a=this._getStringNormalizer(),d=a(ue),m=[];if(b.length){if(re)if(re.groupIndex>=0&&!re.showWhenGrouped)c=j;else{var S=this._columnsController.getVisibleIndex(re.index);c=b.children("td").eq(S).find("*")}}else b=(0,k.A)("<div>").append(j);return(c=c?.length?c:b.find("*")).each((I,N)=>{for(var xe=(0,k.A)(N).contents(),Pe=0;Pe<xe.length;Pe++){var Ie=xe.get(Pe);3===Ie.nodeType&&a(Ie.textContent||Ie.nodeValue).indexOf(d)>-1&&m.push(Ie)}}),m},_highlightSearchTextCore(re,j){var ue=(0,k.A)("<span>").addClass(this.addWidgetPrefix(oe)),b=re.text(),c=re[0],a=this._getStringNormalizer(),d=a(b).indexOf(a(j));if(d>=0)return c.textContent?c.textContent=b.substr(0,d):c.nodeValue=b.substr(0,d),re.after(ue.text(b.substr(d,j.length))),re=(0,k.A)(be.A.createTextNode(b.substr(d+j.length))).insertAfter(ue),this._highlightSearchTextCore(re,j)},_highlightSearchText(re,j,ue){var b=this,c=this._getStringNormalizer(),a=b.option("searchPanel.text");j&&ue&&(a=a&&b._getFormattedSearchText(ue,a)),a&&b.option("searchPanel.highlightSearchText")&&b._findHighlightingTextNodes(ue,re,a).forEach(m=>{j?c((0,k.A)(m).text())===c(a)&&(0,k.A)(m).replaceWith((0,k.A)("<span>").addClass(b.addWidgetPrefix(oe)).text((0,k.A)(m).text())):b._highlightSearchTextCore((0,k.A)(m),a)})},_renderCore(){var re=this.callBase.apply(this,arguments);return(this.option().rowTemplate||this.option("dataRowTemplate"))&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._highlightSearchText(this.getTableElement())})):this._highlightSearchText(this.getTableElement())),re},_updateCell(re,j){var{column:ue}=j,c="string"!==(ue.lookup&&ue.lookup.dataType||ue.dataType);P(ue)&&!j.isOnForm&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._searchParams.forEach(a=>{this._highlightSearchText.apply(this,a)}),this._searchParams=[]})),this._searchParams.push([re,c,ue])):this._highlightSearchText(re,c,ue)),this.callBase(re,j)},dispose(){clearTimeout(this._highlightTimer),this.callBase()}}}}}},4153:(Mt,dt,i)=>{i.d(dt,{n:()=>l});var be=i(4292),k=i(5042),se=i(2984),_e=i(7951),he=i(2101),Ce=i(9900),le=i(2463),ae=i(1774),oe=i(8060),ee=i(1269),q=i(4602),P=i(9104),Y=i(736),Ee=i(4366),re=i(7310),j=i(4895),ue=i(5207),b="dx-editor-cell",a="dx-selection",d="dx-select-checkbox",S="dx-command-select",N="dx-data-row",xe="selection.showCheckBoxesMode",Pe="selection.mode",Ie=function(_,h){var C=_.getController("selection"),F=_.getView("rowsView"),te=(0,be.A)(h.target).closest(".".concat(N)),X=F.getRowIndex(te);X<0||("onLongTap"===_.option(xe)?C.isSelectionWithCheckboxes()?C.stopSelectionWithCheckboxes():C.startSelectionWithCheckboxes():("onClick"===_.option(xe)&&C.startSelectionWithCheckboxes(),"always"!==_.option(xe)&&C.changeItemSelection(X,{control:!0})))},n=(_,h)=>{var{component:C}=h,F=C.getView("rowsView");C.option("renderAsync")&&!C.option("selection.deferred")&&(h.value=C.isRowSelected(h.row.key)),F.renderSelectCheckBoxContainer((0,be.A)(_),h)},g=(_,h)=>{var{column:C}=h,F=(0,be.A)(_),te=h.component.getView("columnHeadersView");F.addClass(b),te._renderSelectAllCheckBox(F,C),te._attachSelectAllCheckBoxClickEvent(F)},l={defaultOptions:()=>({selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",maxFilterLengthInRequest:1500,deferred:!1},selectionFilter:[],selectedRowKeys:[]}),controllers:{selection:class o extends j.A.Controller{init(){var h,{deferred:C,selectAllMode:F,mode:te}=null!==(h=this.option("selection"))&&void 0!==h?h:{};"infinite"===this.option("scrolling.mode")&&!C&&"multiple"===te&&"allPages"===F&&re.A.log("W1018"),this._dataController=this.getController("data"),this._selectionMode=te,this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]}),this._dataPushedHandler||(this._dataPushedHandler=this._handleDataPushed.bind(this),this._dataController.pushed.add(this._dataPushedHandler))}_handleDataPushed(h){this._deselectRemovedOnPush(h),this._updateSelectedOnPush(h)}_deselectRemovedOnPush(h){var C=this.option("selection.deferred"),F=h.filter(X=>"remove"===X.type).map(X=>X.key);if(C){var te=this._dataController.items().filter(X=>X.isSelected).map(X=>X.key);F=F.filter(X=>te.find(ge=>(0,k.RL)(ge,X)))}F.length&&this.deselectRows(F)}_updateSelectedOnPush(h){if(!this.option("selection.deferred")){var F=h.filter(X=>"update"===X.type),te=this.getSelectedRowsData();(0,ae.VK)({keyInfo:this._selection.options,data:te,changes:F})}}_getSelectionConfig(){var h,C=this._dataController,F=this.getController("columns"),te=null!==(h=this.option("selection"))&&void 0!==h?h:{},{deferred:X}=te,ge=this.option("scrolling.mode"),He="virtual"===ge||"infinite"===ge,Z=this.option("selection.allowSelectAll"),D=this.option("scrolling.legacyMode");return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:X,maxFilterLengthInRequest:te.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),ignoreDisabledItems:!0,allowLoadByRange(){var U=F.getGroupColumns().length>0;return He&&!D&&!U&&Z&&!X},key:()=>C?.key(),keyOf:U=>C?.keyOf(U),dataFields(){var U;return null===(U=C.dataSource())||void 0===U?void 0:U.select()},load(U){var p;return(null===(p=C.dataSource())||void 0===p?void 0:p.load(U))||(new se.cY).resolve([])},plainItems:()=>C.items(!0),isItemSelected:U=>U.selected,isSelectableItem:U=>"data"===U?.rowType&&!U.isNewRow,getItemData:U=>(0,le.O9)(U?.rowType)?U?.oldData||U?.data:U,filter:()=>C.getCombinedFilter(X),totalCount:()=>C.totalCount(),getLoadOptions(U,p,w){var V,J,{sort:$,filter:ye}=null!==(J=null===(V=C.dataSource())||void 0===V?void 0:V.lastLoadOptions())&&void 0!==J?J:{},de=Math.min(U,p),Te=Math.max(U,p);return(0,le.O9)(w)&&(de=Math.min(w,de),Te=Math.max(w,Te)),{skip:de,take:Te-de+1,filter:ye,sort:$}},onSelectionChanged:this._updateSelectedItems.bind(this)}}_updateSelectColumn(){var h=this.getController("columns"),C=this.isSelectColumnVisible();h.addCommandColumn({type:"selection",command:"select",visible:C,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:S,width:"auto",cellTemplate:n,headerCellTemplate:g}),h.columnOption("command:select","visible",C)}_createSelection(){var h=this._getSelectionConfig();return new Ee.A(h)}_fireSelectionChanged(h){var C=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(C),h&&this.executeAction("onSelectionChanged",h)}_updateCheckboxesState(h){var{isDeferredMode:C}=h,{selectionFilter:F}=h,{selectedItemKeys:te}=h,{removedItemKeys:X}=h;"onClick"===this.option(xe)&&((C?F&&function(_,h){var C=0,F=_._dataController.store(),te=F&&F.key(),X=Array.isArray(te);if(!h.length)return!1;if(X&&Array.isArray(h[0])&&"and"===h[1]){for(var ge=0;ge<h.length;ge++)if(Array.isArray(h[ge])){if(h[ge][0]!==te[C]||"="!==h[ge][1])return!0;C++}return!1}return te!==h[0]}(this,F):te.length>1)?this.startSelectionWithCheckboxes():(C?F&&!F.length:0===te.length&&X.length)&&this.stopSelectionWithCheckboxes())}_updateSelectedItems(h){var C,F=this.option("selection.deferred"),te=this._selection.selectionFilter(),X=this._dataController,ge=X.items(!0),He=X.items();if(ge){var Z=this.isSelectionWithCheckboxes(),D=this.getChangedItemIndexes(ge),U=this.getChangedItemIndexes(He);this._updateCheckboxesState({selectedItemKeys:h.selectedItemKeys,removedItemKeys:h.removedItemKeys,selectionFilter:te,isDeferredMode:F}),(D.length||Z!==this.isSelectionWithCheckboxes())&&X.updateItems({changeType:"updateSelection",itemIndexes:U}),F?(this.option("selectionFilter",te),C={}):(h.addedItemKeys.length||h.removedItemKeys.length)&&(this._selectedItemsInternalChange=!0,this.option("selectedRowKeys",h.selectedItemKeys.slice(0)),this._selectedItemsInternalChange=!1,C={selectedRowsData:h.selectedItems.slice(0),selectedRowKeys:h.selectedItemKeys.slice(0),currentSelectedRowKeys:h.addedItemKeys.slice(0),currentDeselectedRowKeys:h.removedItemKeys.slice(0)}),this._fireSelectionChanged(C)}}getChangedItemIndexes(h){for(var C=[],F=this.option("selection.deferred"),te=0,{length:X}=h;te<X;te++){var ge=h[te],He=this.isRowSelected(F?ge.data:ge.key);this._selection.isDataItem(ge)&&ge.isSelected!==He&&C.push(te)}return C}callbackNames(){return["selectionChanged"]}optionChanged(h){switch(super.optionChanged(h),h.name){case"selection":var C=this._selectionMode;if(this.init(),"selection.showCheckBoxesMode"!==h.fullName){var F=this._selectionMode,te=this.option("selectedRowKeys");C!==F&&("single"===F?te.length>1&&(te=[te[0]]):"multiple"!==F&&(te=[])),this.selectRows(te).always(()=>{this._fireSelectionChanged()})}this.getController("columns").updateColumns(),h.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(h.value),h.handled=!0;break;case"selectedRowKeys":var X=h.value||[];Array.isArray(X)&&!this._selectedItemsInternalChange&&(this.component.getDataSource()||!X.length)&&this.selectRows(X),h.handled=!0}}publicMethods(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]}isRowSelected(h){return this._selection.isItemSelected(h)}isSelectColumnVisible(){return"multiple"===this.option(Pe)&&("always"===this.option(xe)||"onClick"===this.option(xe)||this._isSelectionWithCheckboxes)}_isOnePageSelectAll(){return"page"===this.option("selection.selectAllMode")}isSelectAll(){return this._selection.getSelectAllState(this._isOnePageSelectAll())}selectAll(){return"onClick"===this.option(xe)&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())}deselectAll(){return this._selection.deselectAll(this._isOnePageSelectAll())}clearSelection(){return this.selectedItemKeys([])}refresh(){var h,C=null!==(h=this.option("selectedRowKeys"))&&void 0!==h?h:[];return!this.option("selection.deferred")&&C.length?this.selectedItemKeys(C):(new se.cY).resolve().promise()}selectedItemKeys(h,C,F,te){return this._selection.selectedItemKeys(h,C,F,te)}getSelectedRowKeys(){return this._selection.getSelectedItemKeys()}selectRows(h,C){return this.selectedItemKeys(h,C)}deselectRows(h){return this.selectedItemKeys(h,!0,!0)}selectRowsByIndexes(h){var C=this._dataController.items(),F=[];return Array.isArray(h)||(h=Array.prototype.slice.call(arguments,0)),(0,he.__)(h,function(){var te=C[this];te&&"data"===te.rowType&&F.push(te.key)}),this.selectRows(F)}getSelectedRowsData(){return this._selection.getSelectedItems()}loadSelectedItemsWithFilter(){return this._selection.loadSelectedItemsWithFilter()}changeItemSelection(h,C,F){C=C||{},this.isSelectionWithCheckboxes()&&(C.control=!0);var te=h+this._dataController.getRowIndexOffset()-this._dataController.getRowIndexOffset(!0);return this._selection.changeItemSelection(te,C,F)}focusedItemIndex(h){if(!(0,le.O9)(h))return this._selection._focusedItemIndex;this._selection._focusedItemIndex=h}isSelectionWithCheckboxes(){return"multiple"===this.option(Pe)&&("always"===this.option(xe)||this._isSelectionWithCheckboxes)}startSelectionWithCheckboxes(){return"multiple"===this.option(Pe)&&!this.isSelectionWithCheckboxes()&&(this._isSelectionWithCheckboxes=!0,this._updateSelectColumn(),!0)}stopSelectionWithCheckboxes(){return!!this._isSelectionWithCheckboxes&&(this._isSelectionWithCheckboxes=!1,this._updateSelectColumn(),!0)}}},extenders:{controllers:{data:{init(){var _=this.getController("selection"),h=this.option("selection.deferred");this.callBase.apply(this,arguments),h&&_._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})},_loadDataSource(){var _=this;return _.callBase().always(()=>{_.getController("selection").refresh()})},_processDataItem(_,h){var C=this.getController("selection"),F=C.isSelectColumnVisible(),te=h.isDeferredSelection=void 0===h.isDeferredSelection?this.option("selection.deferred"):h.isDeferredSelection,X=this.callBase.apply(this,arguments);if(X.isSelected=C.isRowSelected(te?X.data:X.key),F&&X.values)for(var ge=0;ge<h.visibleColumns.length;ge++)if("select"===h.visibleColumns[ge].command){X.values[ge]=X.isSelected;break}return X},refresh(_){var h=this,C=new se.cY;return this.callBase.apply(this,arguments).done(()=>{!_||_.selection?h.getController("selection").refresh().done(C.resolve).fail(C.reject):C.resolve()}).fail(C.reject),C.promise()},_handleDataChanged(_){this.callBase.apply(this,arguments),(!_||"refresh"===_.changeType)&&!this._repaintChangesOnly&&this.getController("selection").focusedItemIndex(-1)},_applyChange(_){if(!_||"updateSelection"!==_.changeType)return this.callBase.apply(this,arguments);_.items.forEach((h,C)=>{var F=this._items[C];F&&(F.isSelected=h.isSelected,F.values=h.values)})},_endUpdateCore(){var _=this._changes;if(_.length>1&&_.every(F=>"updateSelection"===F.changeType)){var C=_.map(F=>F.itemIndexes||[]).reduce((F,te)=>F.concat(te));this._changes=[{changeType:"updateSelection",itemIndexes:C}]}this.callBase.apply(this,arguments)}},contextMenu:{_contextMenuPrepared(_){var h=_.event;h.originalEvent&&"dxhold"!==h.originalEvent.type||_.items&&_.items.length>0||Ie(this,h)}}},views:{columnHeadersView:{init(){this.callBase(),this.getController("selection").selectionChanged.add(this._updateSelectAllValue.bind(this))},_updateSelectAllValue(){var _=this.element(),h=_&&_.find(".".concat(d));if(_&&h.length&&"multiple"===this.option("selection.mode")){var C=this.getController("selection").isSelectAll(),F=!1!==C,te=this.option("selection.allowSelectAll")?!this.getController("data").isEmpty():F;h.dxCheckBox("instance").option({visible:te,value:C})}},_handleDataChanged(_){this.callBase(_),(!_||"refresh"===_.changeType||_.repaintChangesOnly&&"update"===_.changeType)&&this.waitAsyncTemplates().done(()=>{this._updateSelectAllValue()})},_renderSelectAllCheckBox(_,h){var C=this,F=C.getController("selection"),te=C.getController("data").isEmpty(),X=(0,be.A)("<div>").appendTo(_).addClass(d);return C.setAria("label",Y.A.format("dxDataGrid-ariaSelectAll"),X),C.getController("editorFactory").createEditor(X,(0,_e.X)({},h,{parentType:"headerRow",dataType:"boolean",value:F.isSelectAll(),editorOptions:{visible:!te&&(C.option("selection.allowSelectAll")||!1!==F.isSelectAll())},tabIndex:C.option("useLegacyKeyboardNavigation")?-1:C.option("tabIndex")||0,setValue(ge,He){var Z=C.option("selection.allowSelectAll");He.component.option("visible",Z||!1!==He.component.option("value")),He.event&&F.isSelectAll()!==ge&&(He.value&&!Z?He.component.option("value",!1):He.value?F.selectAll():F.deselectAll(),He.event.preventDefault())}})),X},_attachSelectAllCheckBoxClickEvent(_){ee.A.on(_,oe.U,this.createAction(h=>{var{event:C}=h;(0,be.A)(C.target).closest(".".concat(d)).length||ee.A.trigger((0,be.A)(C.currentTarget).children(".".concat(d)),oe.U),C.preventDefault()}))}},rowsView:{renderSelectCheckBoxContainer(_,h){"data"!==h.rowType||h.row.isNewRow?ue.A.setEmptyText(_):(_.addClass(b),this._attachCheckBoxClickEvent(_),this._renderSelectCheckBox(_,h))},_renderSelectCheckBox(_,h){var C=(0,be.A)("<div>").addClass(d).appendTo(_);return this.setAria("label",Y.A.format("dxDataGrid-ariaSelectRow"),C),this.getController("editorFactory").createEditor(C,(0,_e.X)({},h.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:h.value,setValue(F,te){var X;"keydown"===(null===(X=te?.event)||void 0===X?void 0:X.type)&&ee.A.trigger(te.element,oe.U,te)},row:h.row})),C},_attachCheckBoxClickEvent(_){ee.A.on(_,oe.U,this.createAction(function(h){var C=this.getController("selection"),{event:F}=h,te=this.getRowIndex((0,be.A)(F.currentTarget).closest(".".concat("dx-row")));te>=0&&(C.startSelectionWithCheckboxes(),C.changeItemSelection(te,{shift:F.shiftKey}),(0,be.A)(F.target).closest(".".concat(d)).length&&this.getController("data").updateItems({changeType:"updateSelection",itemIndexes:[te]}))}))},_update(_){var h=this,C=h.getTableElements();"updateSelection"===_.changeType?C.length>0&&((0,he.__)(C,(F,te)=>{(0,he.__)(_.itemIndexes||[],(X,ge)=>{var He;if(_.items[ge]&&(He=h._getRowElements((0,be.A)(te)).eq(ge)).length){var{isSelected:Z}=_.items[ge];He.toggleClass(a,void 0!==Z&&Z).find(".".concat(d)).dxCheckBox("option","value",Z),h.setAria("selected",Z,He)}})}),h._updateCheckboxesClass()):h.callBase(_)},_createTable(){var _=this,h=_.option("selection.mode"),C=_.callBase.apply(_,arguments);return"none"!==h&&(("onLongTap"===_.option(xe)||!Ce.touch)&&ee.A.on(C,(0,P.b4)(q.A.name,"dxDataGridRowsView"),".".concat(N),_.createAction(F=>{Ie(_.component,F.event),F.event.stopPropagation()})),ee.A.on(C,"mousedown selectstart",_.createAction(F=>{var{event:te}=F;te.shiftKey&&te.preventDefault()}))),C},_createRow(_){var h=this.callBase.apply(this,arguments);if(_){var{isSelected:C}=_;C&&h.addClass(a),"none"!==this.option(Pe)&&this.setAria("selected",C,h)}return h},_rowClick(_){var h=_.event,C=(0,be.A)(h.target).closest(".".concat("dx-selection-disabled")).length;this.isClickableElement((0,be.A)(h.target))||(!C&&("multiple"!==this.option(Pe)||"always"!==this.option(xe))&&this.getController("selection").changeItemSelection(_.rowIndex,{control:(0,P.By)(h),shift:h.shiftKey})&&(h.preventDefault(),_.handled=!0),this.callBase(_))},isClickableElement:_=>!!_.closest(".".concat(S)).length,_renderCore(_){var h=this.callBase(_);return this._updateCheckboxesClass(),h},_updateCheckboxesClass(){var _=this.getTableElements(),h=this.getController("selection"),C=h.isSelectColumnVisible()&&!h.isSelectionWithCheckboxes();(0,he.__)(_,(F,te)=>{(0,be.A)(te).toggleClass("dx-select-checkboxes-hidden",C)})}}}}}},4231:(Mt,dt,i)=>{i.d(dt,{L:()=>c});var be=i(4292),k=i(7951),se=i(2463),_e=i(8060),he=i(1269),Ce=i(9104),le=i(736),ae="dx-sort",oe="dx-sort-none",Y="dx-sort-index-icon";const re={_applyColumnState(a){var d,m,S=this.option("sorting.mode"),{rootElement:I}=a,{column:N}=a,xe=this._getIndicatorContainer(I);if("sort"===a.name){I.find(".".concat(ae)).remove(),!xe.children().length&&xe.remove();var Pe="none"!==S&&N.allowSorting,Ie=this.getController&&!!this.getController("columns").columnOption("sortIndex:1");return!(0,se.O9)(N.groupIndex)&&(Pe||(0,se.O9)(N.sortOrder))&&(d="asc"===N.sortOrder?"ascending":"descending",m=this.callBase(a).toggleClass("dx-sort-up","asc"===N.sortOrder).toggleClass("dx-sort-down","desc"===N.sortOrder),Ie&&this.option("sorting.showSortIndexes")&&N.sortIndex>=0&&((0,be.A)("<span>").addClass(Y).text(N.sortIndex+1).appendTo(m),m.addClass("dx-sort-index")),Pe&&a.rootElement.addClass(this.addWidgetPrefix("action"))),this._setAriaSortAttribute(N,d,I,Ie),m}return this.callBase(a)},_setAriaSortAttribute(a,d,m,S){if(m.removeAttr("aria-roledescription"),a.isGrouped){var I=this.localize("dxDataGrid-ariaNotSortedColumn");(0,se.O9)(a.sortOrder)&&(I=this.localize("asc"===a.sortOrder?"dxDataGrid-ariaSortedAscendingColumn":"dxDataGrid-ariaSortedDescendingColumn")),this.setAria("roledescription",I,m)}else if((0,se.O9)(a.sortOrder)){if(this.setAria("sort",d,m),S&&a.sortIndex>=0){var N=le.A.format("dxDataGrid-ariaColumnHeader"),xe=le.A.format("dxDataGrid-ariaSortIndex",a.sortIndex+1),Pe="".concat(N,", ").concat(xe);this.setAria("roledescription",Pe,m)}}else this.setAria("sort","none",m)},_getIndicatorClassName(a){return"sort"===a?ae:"sortIndex"===a?Y:this.callBase(a)},_renderIndicator(a){var{column:d}=a,m=a.container,S=a.indicator;if("sort"===a.name){var I=this.option("rtlEnabled");if((0,se.O9)(d.sortOrder)||S&&S.addClass(oe),m.children().length&&(!I&&"left"===a.columnAlignment||I&&"right"===a.columnAlignment))return void m.prepend(S)}this.callBase(a)},_updateIndicator(a,d,m){if("sort"!==m||!(0,se.O9)(d.groupIndex))return this.callBase.apply(this,arguments)},_getIndicatorElements(a,d){var m=this.callBase(a);return d?m:m&&m.not(".".concat(oe))}};var c={defaultOptions:()=>({sorting:{mode:"single",ascendingText:le.A.format("dxDataGrid-sortingAscendingText"),descendingText:le.A.format("dxDataGrid-sortingDescendingText"),clearText:le.A.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}),extenders:{views:{columnHeadersView:(0,k.X)({},re,{_createRow(a){var d=this.callBase(a);return"header"===a.rowType&&he.A.on(d,(0,Ce.b4)(_e.U,"dxDataGridColumnHeadersView"),"td",this.createAction(m=>{this._processHeaderAction(m.event,d)})),d},_processHeaderAction(a,d){if((0,be.A)(a.currentTarget).parent().get(0)===d.get(0)){var m=this,S=null,I=(0,be.A)(a.currentTarget),N=I.parent().index(),xe=-1;[].slice.call(m.getCellElements(N)).some((o,l)=>{if(o===I.get(0))return xe=l,!0});var Ie=m._columnsController.getVisibleColumns(N)[xe],B=m.getController("editing"),n=m.option("editing.mode");B&&B.isEditing()&&("batch"===n||"cell"===n)||!m._isSortableElement((0,be.A)(a.target))||Ie&&!(0,se.O9)(Ie.groupIndex)&&!Ie.command&&(a.shiftKey?S="shift":(0,Ce.By)(a)&&(S="ctrl"),setTimeout(()=>{m._columnsController.changeSortOrder(Ie.index,S)}))}},_renderCellContent(a,d){var{column:m}=d;!m.command&&"header"===d.rowType&&this._applyColumnState({name:"sort",rootElement:a,column:m,showColumnLines:this.option("showColumnLines")}),this.callBase.apply(this,arguments)},_columnOptionChanged(a){var{changeTypes:d}=a;1===d.length&&d.sorting?this._updateIndicators("sort"):this.callBase(a)},optionChanged(a){"sorting"===a.name?(this._invalidate(),a.handled=!0):this.callBase(a)}}),headerPanel:(0,k.X)({},re,{_createGroupPanelItem(a,d){var m=this,S=m.callBase(...arguments);return he.A.on(S,(0,Ce.b4)(_e.U,"dxDataGridHeaderPanel"),m.createAction(()=>{m._processGroupItemAction(d.index)})),m._applyColumnState({name:"sort",rootElement:S,column:{alignment:m.option("rtlEnabled")?"right":"left",allowSorting:d.allowSorting,sortOrder:"desc"===d.sortOrder?"desc":"asc",isGrouped:!0},showColumnLines:!0}),S},_processGroupItemAction(a){setTimeout(()=>this.getController("columns").changeSortOrder(a))},optionChanged(a){"sorting"===a.name?(this._invalidate(),a.handled=!0):this.callBase(a)}})}}}},5002:(Mt,dt,i)=>{i.d(dt,{u:()=>c});var be=i(5042),k=i(2984),se=i(7951),_e=i(2463),he=i(2101),Ce=i(2378),le=i(4435),ae=i(1269),oe=i(7310),ee=i(4895),q=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,P=function a(d){d&&(0,he.__)(d,(m,S)=>{if((0,_e.Qd)(S)||Array.isArray(S))a(S);else if("string"==typeof S){var I=q.exec(S);I&&(d[m]=new Date(Date.UTC(+I[1],+I[2]-1,+I[3],+I[4],+I[5],+I[6])))}})},Y=ee.A.ViewController.inherit(function(){var a=function(m){var S="sessionStorage"===m.type?(0,Ce.s)():(0,le.zk)().localStorage;if(!S)throw new Error("E1007");return S},d=function(m){return(0,_e.O9)(m.storageKey)?m.storageKey:"storage"};return{_loadState(){var m=this.option("stateStoring");if("custom"===m.type)return m.customLoad&&m.customLoad();try{return JSON.parse(a(m).getItem(d(m)))}catch(S){oe.A.log("W1022","State storing",S.message)}},_saveState(m){var S=this.option("stateStoring");if("custom"!==S.type)try{a(S).setItem(d(S),JSON.stringify(m))}catch(I){oe.A.log(I.message)}else S.customSave&&S.customSave(m)},publicMethods:()=>["state"],isEnabled(){return this.option("stateStoring.enabled")},init(){var m=this;return m._state={},m._isLoaded=!1,m._isLoading=!1,m._windowUnloadHandler=function(){void 0!==m._savingTimeoutID&&m._saveState(m.state())},ae.A.on((0,le.zk)(),"unload",m._windowUnloadHandler),m},isLoaded(){return this._isLoaded},isLoading(){return this._isLoading},load(){this._isLoading=!0;var m=(0,k.Sx)(this._loadState());return m.always(()=>{this._isLoaded=!0,this._isLoading=!1}).done(S=>{null!==S&&!(0,_e.RI)(S)&&this.state(S)}),m},state(m){if(!arguments.length)return(0,se.X)(!0,{},this._state);this._state=(0,se.X)({},m),P(this._state)},save(){var m=this;clearTimeout(m._savingTimeoutID),m._savingTimeoutID=setTimeout(()=>{m._saveState(m.state()),m._savingTimeoutID=void 0},m.option("stateStoring.savingTimeout"))},optionChanged(m){"stateStoring"===m.name?(this.isEnabled()&&!this.isLoading()&&this.load(),m.handled=!0):this.callBase(m)},dispose(){clearTimeout(this._savingTimeoutID),ae.A.off((0,le.zk)(),"unload",this._windowUnloadHandler)}}}()),c={defaultOptions:()=>({stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}),controllers:{stateStoring:Y},extenders:{views:{rowsView:{init(){var a=this,d=a.getController("data");a.callBase(),d.stateLoaded.add(()=>{if(d.isLoaded()&&!d.getDataSource()){a.setLoading(!1),a.renderNoDataText();var m=a.component.getView("columnHeadersView");m&&m.render(),a.component._fireContentReadyAction()}})}}},controllers:{stateStoring:{init(){var a,d,m,S,I;this.callBase.apply(this,arguments),d=(a=this).getController("columns"),m=a.getController("selection"),S=a.getController("export"),I=a.getController("data"),d&&d.columnsChanged.add(()=>{a.updateState({columns:d.getUserState()})}),m&&m.selectionChanged.add(N=>{a.updateState({selectedRowKeys:N.selectedRowKeys,selectionFilter:N.selectionFilter})}),I&&(a._initialPageSize=a.option("paging.pageSize"),a._initialFilterValue=a.option("filterValue"),I.changed.add(()=>{var N=(a=>{var d=a.getView("pagerView"),m=a.getController("data"),S={allowedPageSizes:d?d.getPageSizes():void 0,filterPanel:{filterEnabled:a.option("filterPanel.filterEnabled")},filterValue:a.option("filterValue"),focusedRowKey:a.option("focusedRowEnabled")?a.option("focusedRowKey"):void 0};return(0,se.X)(S,m.getUserState())})(a);a.updateState(N)})),S&&S.selectionOnlyChanged.add(()=>{a.updateState({exportSelectionOnly:S.selectionOnly()})})},isLoading(){return this.callBase()||this.getController("data").isStateLoading()},state(a){var d=this.callBase.apply(this,arguments);return void 0!==a&&this.applyState((0,se.X)(!0,{},a)),d},updateState(a){if(this.isEnabled()){var d=this.state(),m=(0,se.X)({},d,a),S=(0,be.GP)(d),I=(0,be.GP)(m);(0,be.RL)(S,I)||(a=(0,se.X)(!0,{},a),(0,se.X)(this._state,a),this.save())}else(0,se.X)(this._state,a)},applyState(a){var d,{allowedPageSizes:m}=a,{searchText:S}=a,{selectedRowKeys:I}=a,{selectionFilter:N}=a,xe=this.getController("export"),Pe=this.getController("columns"),Ie=this.getController("data"),B=this.option("scrolling.mode"),n="virtual"===B||"infinite"===B,g=!0===this.option("pager.visible")&&this.option("pager.showPageSizeSelector"),o=null===(d=this.getView("rowsView"))||void 0===d?void 0:d.hasHeight();this.component.beginUpdate(),Pe&&Pe.setUserState(a.columns),xe&&xe.selectionOnly(a.exportSelectionOnly),this.option("selection.deferred")||this.option("selectedRowKeys",I||[]),this.option("selectionFilter",N),m&&"auto"===this.option("pager.allowedPageSizes")&&(this.option("pager").allowedPageSizes=m),this.option("focusedRowEnabled")&&(this.option("focusedRowIndex",-1),this.option("focusedRowKey",a.focusedRowKey||null)),this.component.endUpdate(),this.option("searchPanel.text",S||""),this.option("filterValue",((a,d)=>{var m=a.getController("filterSync"),S=a.getController("columns");return m?d.columns||void 0!==d.filterValue?d.filterValue||m.getFilterValueFromColumns(d.columns):a._initialFilterValue||m.getFilterValueFromColumns(S.getColumns()):null})(this,a)),this.option("filterPanel.filterEnabled",!a.filterPanel||a.filterPanel.filterEnabled),this.option("paging.pageIndex",(!n||o)&&a.pageIndex||0),this.option("paging.pageSize",n&&!g||!(0,_e.O9)(a.pageSize)?this._initialPageSize:a.pageSize),Ie&&Ie.reset()}},columns:{_shouldReturnVisibleColumns(){var a=this.callBase.apply(this,arguments),d=this.getController("stateStoring");return a&&(!d.isEnabled()||d.isLoaded())}},data:{callbackNames(){return this.callBase().concat(["stateLoaded"])},_refreshDataSource(){var{callBase:a}=this,d=this.getController("stateStoring");if(d.isEnabled()&&!d.isLoaded()){clearTimeout(this._restoreStateTimeoutID);var m=new k.cY;return this._restoreStateTimeoutID=setTimeout(()=>{d.load().always(()=>{this._restoreStateTimeoutID=null}).done(()=>{a.call(this),this.stateLoaded.fire(),m.resolve()}).fail(S=>{this.stateLoaded.fire(),this._handleLoadError(S||"Unknown error"),m.reject()})}),m.promise()}this.isStateLoading()||a.call(this)},isLoading(){var a=this.getController("stateStoring");return this.callBase()||a.isLoading()},isStateLoading(){return(0,_e.O9)(this._restoreStateTimeoutID)},isLoaded(){return this.callBase()&&!this.isStateLoading()},dispose(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}},selection:{_fireSelectionChanged(a){var d=this.getController("stateStoring"),m=this.option("selection.deferred");d.isLoading()&&m||this.callBase.apply(this,arguments)}}}}}},9869:(Mt,dt,i)=>{i.d(dt,{W:()=>T});var be=i(4292),k=i(9263),se=i(5042),_e=i(2984),he=i(7951),Ce=i(2101),le=i(186),ae=i(370),oe=i(2463),ee=i(1774),q=i(1269),P=i(4159),Y=i(736),Ee=i(2839),re=i(1100),j=i(6022),ue=i(1299),b=i(9130),c=i(5966),a=i(1063),d=i(7310),m=i(3586),S=i(4895),I=i(5207),N="invalid",xe="revert-tooltip",Pe="dx-invalid-message",Ie="dxInvalidMessage",B="invalid-message",n="dx-invalid-message-always",o="dxRevertButton",l="validator",_="dx-pending-indicator",h="dx-validation-pending",C="content",F="__DX_INSERT_INDEX__",X="row",He="batch",Z="cell",p=["popup","form"],J="insert",ye="cancel",de=function(r){return(0,oe.O9)(r)&&r!==ye},Te=function(r,v){return void 0!==r||void 0===r&&v&&!v.isNewRow},T={defaultOptions:()=>({editing:{texts:{validationCancelChanges:Y.A.format("dxDataGrid-validationCancelChanges")}}}),controllers:{validating:S.A.Controller.inherit({init(){this._editingController=this.getController("editing"),this.createAction("onRowValidating"),this._validationState||this.initValidationState()},initValidationState(){this._validationState=[],this._validationStateCache={}},_rowIsValidated(r){var v=this._getValidationData(r?.key);return!!v&&!!v.validated},_getValidationData(r,v){var t,f=(0,se.GP)(r),s=(0,oe.Gv)(f);return!(t=s?this._validationState.filter(u=>(0,se.RL)(u.key,r))[0]:this._validationStateCache[f])&&v&&(this._validationState.push(t={key:r,isValid:!0}),s||(this._validationStateCache[f]=t)),t},_getBrokenRules:(r,v)=>v?v.brokenRules||v.brokenRule&&[v.brokenRule]:r.brokenRules||[],_rowValidating(r,v){var f=new _e.cY,s=this._editingController.getChangeByKey(r?.key),t=this._getBrokenRules(r,v),y={brokenRules:t,isValid:v?v.isValid:r.isValid,key:s.key,newData:s.data,oldData:this._editingController._getOldData(s.key),promise:null,errorText:this.getHiddenValidatorsErrorText(t)};return this.executeAction("onRowValidating",y),(0,_e.z7)((0,_e.Sx)(y.promise)).always(()=>{r.isValid=y.isValid,r.errorText=y.errorText,f.resolve(y)}),f.promise()},getHiddenValidatorsErrorText(r){var v=[];return(0,Ce.__)(r,(f,s)=>{var{column:t}=s,u=t&&void 0!==t.groupIndex&&!t.showWhenGrouped,y=t&&t.visible;!s.validator.$element().parent().length&&(!y||u)&&v.push(s.message)}),v.join(", ")},validate(r){var v=!0,f=this._editingController,s=new _e.cY,t=[],u=f.getEditMode();if(r=r||u===X,this._isValidationInProgress)return s.resolve(!1).promise();if(this._isValidationInProgress=!0,r){f.addDeferred(s);var y=f.getChanges();(0,Ce.__)(y,(pe,we)=>{var{type:R,key:z}=we;if("remove"!==R){var fe=this._getValidationData(z,!0),Me=this.validateGroup(fe);t.push(Me),Me.done(ze=>{fe.validated=!0,v=v&&ze.isValid})}})}else if(this._currentCellValidator){var K=this.validateGroup(this._currentCellValidator._findGroup());t.push(K),K.done(pe=>{v=pe.isValid})}return(0,_e.z7)(...t).done(()=>{this._isValidationInProgress=!1,s.resolve(v)}),s.promise()},validateGroup(r){var s,v=new _e.cY,f=r&&b.A.getGroupConfig(r);return f?.validators.length&&(this.resetRowValidationResults(r),s=b.A.validateGroup(r)),(0,_e.z7)(s?.complete||s).done(t=>{(0,_e.z7)(this._rowValidating(r,t)).done(v.resolve)}),v.promise()},isRowDataModified:r=>!(0,oe.RI)(r.data),updateValidationState(r){var v=this._editingController.getEditMode(),{key:f}=r,s=this._getValidationData(f,!0);if(p.includes(v))s.isValid=!0;else{if(r.type===J&&!this.isRowDataModified(r))return void(s.isValid=!0);if(this.setDisableApplyValidationResults(!0),b.A.getGroupConfig(s)){var u=b.A.validateGroup(s);(0,_e.z7)(u.complete||u).done(y=>{s.isValid=y.isValid,s.brokenRules=y.brokenRules})}else(!s.brokenRules||!s.brokenRules.length)&&(s.isValid=!0);this.setDisableApplyValidationResults(!1)}},setValidator(r){this._currentCellValidator=r},renderCellPendingIndicator(r){var v=r.find(".".concat(_));if(!v.length){var f=r;v=(0,be.A)("<div>").appendTo(f).addClass(_),this._createComponent(v,re.A),r.addClass(h)}},disposeCellPendingIndicator(r){var v=r.find(".".concat(_));if(v.length){var f=re.A.getInstance(v);f&&(f.dispose(),f.$element().remove()),r.removeClass(h)}},validationStatusChanged(r){var{validator:v}=r,f=v.option("validationGroup"),{column:s}=v.option("dataGetter")();this.updateCellValidationResult({rowKey:f.key,columnIndex:s.index,validationResult:r})},validatorInitialized(r){r.component.on("validating",this.validationStatusChanged.bind(this)),r.component.on("validated",this.validationStatusChanged.bind(this))},validatorDisposing(r){var v=r.component,f=v.option("validationGroup"),{column:s}=v.option("dataGetter")(),t=this.getCellValidationResult({rowKey:f?.key,columnIndex:s.index});de(t)&&"pending"===t.status&&this.cancelCellValidationResult({change:f,columnIndex:s.index})},applyValidationResult(r,v){var{validator:f}=v,s=f.option("validationGroup"),{column:t}=f.option("dataGetter")();if(v.brokenRules&&v.brokenRules.forEach(we=>{we.columnIndex=t.index,we.column=t}),r){var u=this.getCellValidationResult({rowKey:s.key,columnIndex:t.index}),y=de(u)&&u.disabledPendingId===v.id;if(this._disableApplyValidationResults||y)return;if("invalid"===v.status){var K=r.find(":focus");(0,a.in)(K)||(q.A.trigger(K,"focus"),q.A.trigger(K,P.A.down))}var pe=!t.editCellTemplate&&this.getController("editorFactory").getEditorInstance(r);"pending"===v.status?pe?pe.option("validationStatus","pending"):this.renderCellPendingIndicator(r):pe?pe.option("validationStatus","valid"):this.disposeCellPendingIndicator(r),r.toggleClass(this.addWidgetPrefix(N),"invalid"===v.status)}},_syncInternalEditingData(r){var v,f=this._editingController,s=f.getChangeByKey(r.key),t=f._getOldData(r.key),u=null===(v=r.row)||void 0===v?void 0:v.oldData;s&&u&&!t&&f._addInternalData({key:r.key,oldData:u})},createValidator(r,v){var f,s,t=this._editingController,{column:u}=r,{showEditorAlways:y}=u;if(!(0,oe.O9)(u.command)&&u.validationRules&&Array.isArray(u.validationRules)&&u.validationRules.length){var pe=t.getIndexByKey(r.key,t.getChanges())>-1;if(!pe){if(!y){var we=this.getController("columns");y=(we?.getVisibleColumns()||[]).some(Pt=>Pt.showEditorAlways)}var z=(0,se.RL)(this.option("editing.editRowKey"),r.key),fe=t.isCellOrBatchEditMode()&&t.allowUpdating({row:r.row});pe=z||fe&&y,fe&&y&&t._addInternalData({key:r.key,oldData:null!==(s=null===(f=r.row)||void 0===f?void 0:f.oldData)&&void 0!==s?s:r.data})}if(pe){if(v&&!v.length)return void d.A.log("E1050");this._syncInternalEditingData(r);var Me=this._getValidationData(r.key,!0),ze=()=>{var Pt=t.getChangeByKey(Me?.key),Ht=u.calculateCellValue(Pt?.data||{});return void 0!==Ht?Ht:r.value},tt=v&&v.hasClass("dx-widget");v&&v.addClass(this.addWidgetPrefix(l));var ht=new c.A(v||(0,be.A)("<div>"),{name:u.caption,validationRules:(0,he.X)(!0,[],u.validationRules),validationGroup:Me,adapter:tt?null:{getValue:ze,applyValidationResults:Pt=>{this.applyValidationResult(v,Pt)}},dataGetter(){var Pt=Me?.key,Ht=t.getChangeByKey(Pt),nt=t._getOldData(Pt);return{data:(0,ee.lj)(nt,Ht?.data),column:u}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if(tt){var St=ht.option("adapter");if(St){var xt=St.bypass,Tt=()=>r.row.isNewRow&&!this._isValidationInProgress&&!t.isCellModified(r);St.getValue=ze,St.validationRequestsCallbacks=[],St.bypass=()=>xt.call(St)||Tt()}}return ht}}},setDisableApplyValidationResults(r){this._disableApplyValidationResults=r},getDisableApplyValidationResults(){return this._disableApplyValidationResults},isCurrentValidatorProcessing(r){var{rowKey:v,columnIndex:f}=r;return this._currentCellValidator&&(0,se.RL)(this._currentCellValidator.option("validationGroup").key,v)&&this._currentCellValidator.option("dataGetter")().column.index===f},validateCell(r){var v={rowKey:r.option("validationGroup").key,columnIndex:r.option("dataGetter")().column.index},f=this.getCellValidationResult(v),s=de(f),t=r.option("adapter");if(s){var u=t.getValue();(0,se.RL)(u,f.value)||(f=r.validate())}else f=r.validate();var y=new _e.cY;return s&&"pending"===f.status&&(this.updateCellValidationResult(v),t.applyValidationResults(f)),(0,_e.z7)(f.complete||f).done(K=>{s&&t.applyValidationResults(K),y.resolve(K)}),y.promise()},updateCellValidationResult(r){var{rowKey:v,columnIndex:f,validationResult:s}=r,t=this._getValidationData(v);if(t){var u;if(t.validationResults||(t.validationResults={}),s){if(u=(0,he.X)({},s),t.validationResults[f]=u,"pending"===s.status&&(this._editingController.getEditMode()===Z&&(u.deferred=new _e.cY,u.complete.always(()=>{u.deferred.resolve()}),this._editingController.addDeferred(u.deferred)),this._disableApplyValidationResults))return void(u.disabledPendingId=s.id)}else u=t.validationResults[f];u&&u.disabledPendingId&&delete u.disabledPendingId}},getCellValidationResult(r){var s,{rowKey:v,columnIndex:f}=r,t=this._getValidationData(v,!0);return null===(s=t?.validationResults)||void 0===s?void 0:s[f]},removeCellValidationResult(r){var{change:v,columnIndex:f}=r,s=this._getValidationData(v?.key);s&&s.validationResults&&(this.cancelCellValidationResult({change:v,columnIndex:f}),delete s.validationResults[f])},cancelCellValidationResult(r){var{change:v,columnIndex:f}=r,s=this._getValidationData(v.key);if(v&&s.validationResults){var t=s.validationResults[f];t&&(t.deferred&&t.deferred.reject(ye),s.validationResults[f]=ye)}},resetRowValidationResults(r){r&&(r.validationResults&&delete r.validationResults,delete r.validated)},isInvalidCell(r){var{rowKey:v,columnIndex:f}=r,s=this.getCellValidationResult({rowKey:v,columnIndex:f});return de(s)&&"invalid"===s.status},getCellValidator(r){var{rowKey:v,columnIndex:f}=r,s=this._getValidationData(v),t=s&&b.A.getGroupConfig(s),u=t&&t.validators;return u&&u.filter(y=>{var{column:K}=y.option("dataGetter")();return!!K&&K.index===f})[0]},setCellValidationStatus(r){var v=this.getCellValidationResult({rowKey:r.key,columnIndex:r.column.index});(0,oe.O9)(v)?r.validationStatus=v!==ye?v.status:ye:delete r.validationStatus}})},extenders:{controllers:{editing:{_addChange(r){var v=this.callBase.apply(this,arguments),f=this.getController("validating");return v&&"remove"!==r.type&&f.updateValidationState(v),v},_handleChangesChange(r){this.callBase.apply(this,arguments);var v=this.getController("validating");r.value.forEach(f=>{void 0===v._getValidationData(f.key)&&v.updateValidationState(f)})},_updateRowAndPageIndices(){var r=this,v=r.getView("rowsView").getTopVisibleItemIndex(),f=v;(0,Ce.__)(r.getChanges(),(s,t)=>{var{key:u,type:y}=t,K=this.getController("validating")._getValidationData(u);K&&!K.isValid&&K.pageIndex!==r._pageIndex&&(K.pageIndex=r._pageIndex,K.rowIndex=y===J?v:f,f++)})},_getValidationGroupsInForm(r){return{validationGroup:this.getController("validating")._getValidationData(r.key,!0)}},_validateEditFormAfterUpdate(r,v){v&&this._editForm&&this._editForm.validate(),this.callBase.apply(this,arguments)},_prepareEditCell(r){var v=this.callBase.apply(this,arguments),f=this.getController("validating");return v&&r.column.showEditorAlways&&f.updateValidationState({key:r.key}),v},processItems(r,v){var f=this.getChanges(),s=this.getController("data"),t=this.getController("validating"),u=(r=this.callBase(r,v)).length;return this.getEditMode()===He&&"prepend"!==v&&"append"!==v&&f.forEach(K=>{var{key:pe}=K,we=t._getValidationData(pe);we&&K.type&&we.pageIndex===this._pageIndex&&K?.pageIndex!==this._pageIndex&&function(K,pe){var we={key:K.key};if(!(function(fe,Me){var ze=-1,tt=fe.type===J,{key:ht}=fe;return(0,Ce.__)(Me,(St,xt)=>{if((0,se.RL)(ht,tt?xt.key:s.keyOf(xt)))return ze=St,!1}),ze}(K,r)>=0)){pe.rowIndex=pe.rowIndex>u?pe.rowIndex%u:pe.rowIndex;var{rowIndex:z}=pe;we[F]=1,r.splice(z,0,we)}}(K,we)}),r},processDataItem(r){var v=r.data[F],f=v?r.data.key:r.key;if(this.getEditMode()===He&&v&&f){var t=this.getChanges(),u=I.A.getIndexByKey(f,t);if(u>=0){var y=t[u];if(y.type!==J){var K=this._getOldData(y.key);r.data=(0,he.X)(!0,{},K,y.data),r.key=f}}}this.callBase.apply(this,arguments)},_createInvisibleColumnValidators(r){var v=this,f=this.getController("validating"),s=this.getController("columns"),t=s.getColumns(),u=s.getInvisibleColumns().filter(we=>!we.isBand),y=s.getGroupColumns().filter(we=>!we.showWhenGrouped&&-1===u.indexOf(we)),K=[],pe=(we,R)=>this._dataController.getRowIndexByKey(R)>=0&&u.indexOf(we)<0;return u.push(...y),p.includes(this.getEditMode())||(0,Ce.__)(t,(we,R)=>{r.forEach(z=>{var fe;if(!pe(R,z.key)){if(z.type===J)fe=z.data;else if("update"===z.type){var Me=v._getOldData(z.key);if(!(0,oe.O9)(Me))return;fe=(0,ee.lj)(Me,z.data)}if(fe){var ze=f.createValidator({column:R,key:z.key,value:R.calculateCellValue(fe)});ze&&K.push(ze)}}})}),function(){K.forEach(we=>{we.dispose()})}},_beforeSaveEditData(r,v){var f=this.callBase.apply(this,arguments),s=this.getController("validating"),t=s._getValidationData(r?.key);if(r)f=f||!("remove"===r.type||t.isValid);else{var y=this._createInvisibleColumnValidators(this.getChanges());f=new _e.cY,this.executeOperation(f,()=>{s.validate(!0).done(K=>{switch(y(),this._updateRowAndPageIndices(),this.getEditMode()){case Z:K||this._focusEditingCell();break;case He:K||(this._resetEditRowKey(),this._resetEditColumnName(),this.getController("data").updateItems())}f.resolve(!K)})})}return f.promise?f.promise():f},_beforeEditCell(r,v,f){var s=this.callBase(r,v,f);if(this.getEditMode()===Z){var t=this._rowsView._getCellElement(r,v),u=t&&t.data("dxValidator"),y=t&&t.closest(".dx-row").data("options"),K=u&&u.option("adapter").getValue();if(u&&Te(K,y)){var pe=this.getController("validating"),we=new _e.cY;return(0,_e.z7)(pe.validateCell(u),s).done((R,z)=>{we.resolve("valid"===R.status&&z)}),we.promise()}if(!u)return s}return!1},_afterSaveEditData(r){var v,f=this.getEditMode()===Z;if((0,Ce.__)(this.getChanges(),(pe,we)=>{var R=this._showErrorRow(we);v=v||R}),v){var s=this._rowsView.getScrollable();s&&(s.update(),s.scrollToElement(v))}if(r&&f&&this._needUpdateRow()){var t=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[t]}),this._focusEditingCell()}else if(!r){var u=!0;f&&(u=!(this.getController("columns").getColumns().filter(pe=>{var we;return pe.showEditorAlways&&(null===(we=pe.validationRules)||void 0===we?void 0:we.length)>0}).length>0)),u&&this.getController("validating").initValidationState()}},_handleDataChanged(r){var v=this.getController("validating")._validationState;"standard"===this.option("scrolling.mode")&&this.resetRowAndPageIndices(),"prepend"===r.changeType&&(0,Ce.__)(v,(f,s)=>{s.rowIndex+=r.items.length}),this.callBase(r)},resetRowAndPageIndices(){var r=this.getController("validating")._validationState;(0,Ce.__)(r,(v,f)=>{f.pageIndex!==this._pageIndex&&(delete f.pageIndex,delete f.rowIndex)})},_beforeCancelEditData(){this.getController("validating").initValidationState(),this.callBase()},_showErrorRow(r){var v,f=this.getController("errorHandling"),s=this.getController("data").items(),t=this.getIndexByKey(r.key,s),u=this.getController("validating")._getValidationData(r.key);if(!u?.isValid&&u?.errorText&&t>=0)return v=this.getPopupContent(),f&&f.renderErrorRow(u?.errorText,t,v)},updateFieldValue(r){var v=this.getController("validating"),f=new _e.cY;return v.removeCellValidationResult({change:this.getChangeByKey(r.key),columnIndex:r.column.index}),this.callBase.apply(this,arguments).done(()=>{var s=v.getCellValidator({rowKey:r.key,columnIndex:r.column.index});(0,_e.z7)(s&&v.validateCell(s)).done(t=>{this.getController("editorFactory").refocus(),f.resolve(t)})}),f.promise()},highlightDataCell(r,v){this.callBase.apply(this,arguments);var f=this.getController("validating");f.setCellValidationStatus(v);var s=!!v.setValue,t=this.isCellModified(v),u=(0,oe.O9)(v.validationStatus);if(t&&v.column.setCellValue||s&&!t&&!v.row.isNewRow&&u){var K=r.data("dxValidator");K&&(0,_e.z7)(this.getController("validating").validateCell(K)).done(()=>{f.setCellValidationStatus(v)})}},getChangeByKey(r){var v=this.getChanges();return v[I.A.getIndexByKey(r,v)]},isCellModified(r){var v=this.callBase(r),f=this.getChangeByKey(r.key),s=!!r.row&&this.getController("validating").isInvalidCell({rowKey:r.key,columnIndex:r.column.index});return v||this.getController("validating")._rowIsValidated(f)&&s}},editorFactory:{_showRevertButton(r){var v,f=null===(v=this._revertTooltip)||void 0===v?void 0:v.$element();if(!r||!r.length)return f?.remove(),void(this._revertTooltip=void 0);if(!r.find(f).length){var s=r.closest(".".concat(this.addWidgetPrefix(C))).parent(),t=this.addWidgetPrefix(xe);f?.remove(),f=(0,be.A)("<div>").addClass(t).appendTo(r);var u={animation:null,visible:!0,width:"auto",height:"auto",shading:!1,container:s,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:t},contentTemplate:()=>{var y=(0,be.A)("<div>").addClass("dx-revert-button"),K={icon:"revert",hint:this.option("editing.texts.validationCancelChanges"),elementAttr:{id:o,"aria-label":Y.A.format("dxDataGrid-ariaRevertButton")},onClick:()=>{this._editingController.cancelEditData()}};return new Ee.A(y,K).$element()},position:{my:"left top",at:"right top",offset:"1 0",collision:"flip",boundaryOffset:"0 0",boundary:this._rowsView.element(),of:r},onPositioned:this._positionedHandler.bind(this)};this._revertTooltip=new j.A(f,u)}},_hideFixedGroupCell(r,v){var f,s,t=this._rowsView.isFixedColumns(),u=this._editingController.isFormOrPopupEditMode();if(t&&!u){var y=r.closest(".dx-row").next().data("options");y&&"group"===y.rowType&&(f=(0,be.A)(this._rowsView.getRowElement(y.rowIndex)).last(),(s=f.find(".".concat("dx-group-cell"))).length&&"hidden"!==s.get(0).style.visibility&&(s.css("visibility","hidden"),v.onDisposing=function(){s.css("visibility","")}))}},_positionedHandler(r,v){if(!r.component.__skipPositionProcessing){var f=(0,be.A)(r.element).hasClass(this.addWidgetPrefix(xe)),s=!f&&this._rowsView.updateFreeSpaceRowHeight(),t=this._normalizeValidationMessagePositionAndMaxWidth(r,f,v);r.component.__skipPositionProcessing=!(!s&&!t),t?r.component.option(t):s&&r.component.repaint()}},_showValidationMessage(r,v,f){var s,t=r.find(".dx-dropdowneditor-overlay").data("dxPopup"),u=t&&t.option("visible"),y=u?"top right":"top ".concat(f),K=u?"top left":"bottom ".concat(f),we=(null===(s=this._columnsController.getFixedColumns())||void 0===s?void 0:s.length)>0?this.getView("rowsView").element():r.closest(".".concat(this.addWidgetPrefix(C))),R="";v&&v.forEach(ze=>{R+=(R.length?"<br/>":"")+(0,ae.o4)(ze)});var z=this.addWidgetPrefix(B);this._rowsView.element().find(".".concat(z)).remove();var fe=(0,be.A)("<div>").addClass(Pe).addClass(n).addClass(z).html(R).appendTo(r),Me={container:we,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{id:Ie,class:"".concat(Pe," ").concat(n," ").concat(z)},position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:!u&&k.A.mozilla?-1:0},my:y,at:K,of:r},onPositioned:ze=>{this._positionedHandler(ze,u),this._shiftValidationMessageIfNeed(ze.component.$content(),r)}};this._hideFixedGroupCell(r,Me),new j.A(fe,Me)},_hideValidationMessage(){var r,v=null===(r=this._rowsView.element())||void 0===r?void 0:r.find(this._getValidationMessagesSelector());v?.remove()},_normalizeValidationMessagePositionAndMaxWidth(r,v,f){var tt,ht,St,s=this._columnsController.getFixedColumns();if(s&&s.length){var t,pe,we,u=!v&&(pe=(0,be.A)(r.element).closest("tr").index(),we=(0,be.A)(this._rowsView.getRowElement(pe)).first().children().filter(":not(.dx-hidden-cell)"),this._rowsView._getWidths(we).reduce((tt,ht)=>tt+ht,0)),R=r.component.$content(),z=(0,le.Ot)(R,!0),fe=!v&&z>u,Me=this._rowsView.getCellIndex((0,be.A)(r.element).closest("td")),ze=((tt=s).some((xt,Tt)=>{if("transparent"===xt.command)return ht=0===Tt?-1:Tt,St=Tt===tt.length-1?-1:Tt+xt.colspan-1,!0}),{startColumnIndex:ht,endColumnIndex:St});return v||Me!==ze.startColumnIndex&&!fe?Me===ze.endColumnIndex&&(t={collision:"none flip",my:"top right",at:v||f?"top left":"bottom right"},v&&(t.offset="-1 0")):t={collision:"none flip",my:"top left",at:f?"top right":"bottom left"},t&&{position:t,maxWidth:fe?u-2:void 0}}},_shiftValidationMessageIfNeed(r,v){var f=this._revertTooltip&&this._revertTooltip.$content();if(f){var s=r.offset(),t=f.offset();if(s.top===t.top&&s.left+(0,le.RG)(r)>t.left){var u=(0,le.RG)(f)+2;r.css("left",t.left<v.offset().left?-u:u)}}},_getRevertTooltipsSelector(){var r=this.addWidgetPrefix(xe);return".dx-editor-cell .".concat(r)},_getValidationMessagesSelector(){var r=this.addWidgetPrefix(B);return".dx-editor-cell .".concat(r,", .dx-cell-modified .").concat(r)},init(){this.callBase(),this._editingController=this.getController("editing"),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView")},loseFocus(r){r||this.getController("validating").setValidator(null),this.callBase()},updateCellState(r,v,f){var s,t=r?.closest(this._getFocusCellSelector()),u=t?.is("td")?t:null,y=t?.closest(".dx-row").data("options"),K=y?this.getController("editing").getChangeByKey(y.key):null,pe=u&&this.getController("columns").getVisibleColumns()[u.index()],we=void 0!==(null===(s=K?.data)||void 0===s?void 0:s[pe?.name])&&!this._editingController.isSaving(),R=[];if(this._editingController.getEditMode()===Z&&("invalid"===v?.status||we?(this._showRevertButton(t),R.push(o)):this._revertTooltip&&this._revertTooltip.$element().remove()),v&&"invalid"===v.status&&u&&pe&&v&&v.brokenRules){var fe=[];v.brokenRules.forEach(Me=>{Me.message&&fe.push(Me.message)}),fe.length&&(this._showValidationMessage(t,fe,pe.alignment||"left"),R.push(Ie))}this._updateAriaValidationAttributes(t,R),!f&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()},_updateAriaValidationAttributes(r,v){if(0!==v.length){var f=this._editingController.getEditMode();if([Z,He,X].includes(f)){var t=this._getCurrentFocusElement(r);t.attr("aria-labelledby",v.join(" ")),t.attr("aria-invalid",!0)}}},_getCurrentFocusElement(r){return this._editingController.isEditing()?r.find(m.CN).first():r},focus(r,v){if(!arguments.length)return this.callBase();if(this._hideValidationMessage(),r?.hasClass("dx-row")||r?.hasClass("dx-master-detail-cell"))return this.callBase(r,v);var we,f=r?.closest(this._getFocusCellSelector()),{callBase:s}=this,t=f&&(f.data("dxValidator")||r.find(".".concat(this.addWidgetPrefix(l))).eq(0).data("dxValidator")),u=f&&f.closest(".dx-row").data("options"),y=this.getController("editing"),K=u?y.getChangeByKey(u.key):null,pe=this.getController("validating");if(t){pe.setValidator(t);var R=t.option("adapter").getValue();if(Te(R,u)||pe._rowIsValidated(K))return y.waitForDeferredOperations().done(()=>{(0,_e.z7)(pe.validateCell(t)).done(z=>{we=z;var{column:fe}=we.validator.option("dataGetter")();K&&fe&&!pe.isCurrentValidatorProcessing({rowKey:K.key,columnIndex:fe.index})||(!(0,ue.Ft)((0,ue.ss)())&&"invalid"===we.status&&(v=!0),this.updateCellState(r,we,v),s.call(this,r,v))})}),this.callBase(r,v)}return this.updateCellState(r,we,v),this.callBase(r,v)},getEditorInstance(r){var v=r.find(".dx-texteditor").eq(0);return I.A.getWidgetInstance(v)}},data:{_getValidationStatus:r=>(de(r)?r.status:r)||"valid",_isCellChanged(r,v,f,s,t){var u,y,K=null===(u=r.cells)||void 0===u?void 0:u[s],pe=this._getValidationStatus({status:K?.validationStatus}),we=this.getController("validating"),R=we.getCellValidationResult({rowKey:r.key,columnIndex:s}),z=we._getValidationData(r.key),fe=this._getValidationStatus(R),Me=JSON.stringify(v.modifiedValues)!==JSON.stringify(r.modifiedValues),ze=pe!==fe&&Me,tt=(0,be.A)(K?.cellElement).hasClass(this.addWidgetPrefix(N)),ht=null===(y=K?.column.validationRules)||void 0===y?void 0:y.length;return!!(r.isEditing!==v.isEditing&&ht||ze||z.isValid&&tt)||this.callBase.apply(this,arguments)}}},views:{rowsView:{updateFreeSpaceRowHeight(r){var v,f,s,t=this.element(),u=t&&t.find(".".concat(this.addWidgetPrefix(B)," .dx-overlay-content"));if(this.callBase(r),u&&u.length&&(v=this._getRowElements(),(f=(s=this._getFreeSpaceRowElements(r)).first())&&1===v.length&&(!f.is(":visible")||(0,le.P$)(u)>(0,le.P$)(f))))return s.show(),(0,le.k$)(s,(0,le.P$)(u)),!0},_formItemPrepared(r,v){this.callBase.apply(this,arguments),(0,se.OX)(()=>{var f=v.find(".dx-widget").first();f.length&&!f.children().length||this.getController("validating").createValidator(r,f)})},_cellPrepared(r,v){this.getController("editing").isFormOrPopupEditMode()||this.getController("validating").createValidator(v,r),this.callBase.apply(this,arguments)},_restoreErrorRow(r){var v=this.getController("editing");v&&v.hasChanges()&&this._getRowElements(r).each((f,s)=>{var t=(0,be.A)(s).data("options");if(t){var u=v.getChangeByKey(t.key);u&&v._showErrorRow(u)}})}}}}}},5101:(Mt,dt,i)=>{i.d(dt,{n:()=>Te,W:()=>ye});var be=i(7669),k=i(181),se=i(8332),_e=i(3992),he=i(4292),Ce=i(9263),le=i(5042),ae=i(2984),oe=i(7951),ee=i(2101),q=i(448),P=i(186),Y=i(5918),Ee=i(9900),re=i(2463),j=i(4435),ue=i(8060),b=i(1269),c=i(3501),a=i(4159),d=i(675),m="dx-column-indicators";const I={_applyColumnState(Ne){var T,r=this.option("rtlEnabled"),v=this._getColumnAlignment(Ne.column.alignment,r),f=(0,oe.X)(!0,{columnAlignment:v},Ne),s=f.rootElement.hasClass("dx-group-panel-item"),t=this._createIndicatorContainer(f,s),u=(0,he.A)("<span>").addClass(this._getIndicatorClassName(Ne.name)),y=null===(T=this.component)||void 0===T?void 0:T.getController("columns"),K=y?.getHeaderContentAlignment(v)||v;return f.container=t,f.indicator=u,this._renderIndicator(f),t[!s&&Ne.showColumnLines||"left"!==K?"prependTo":"appendTo"](Ne.rootElement),u},_getIndicatorClassName:le.lQ,_getColumnAlignment(Ne,T){return T=T||this.option("rtlEnabled"),Ne&&"center"!==Ne?Ne:(0,q.n)(T)},_createIndicatorContainer(Ne,T){var r=this._getIndicatorContainer(Ne.rootElement),v="left"===Ne.columnAlignment?"right":"left";return r.length||(r=(0,he.A)("<div>").addClass(m)),this.setAria("role","presentation",r),r.css("float",Ne.showColumnLines&&!T?v:null)},_getIndicatorContainer:Ne=>Ne&&Ne.find(".".concat(m)),_getIndicatorElements(Ne){var T=this._getIndicatorContainer(Ne);return T&&T.children()},_renderIndicator(Ne){var T=Ne.container,r=Ne.indicator;T&&r&&T.append(r)},_updateIndicators(Ne){var v,T=this.getColumns(),r=this.getColumnElements();if(r&&T.length===r.length)for(var f=0;f<T.length;f++){v=r.eq(f),this._updateIndicator(v,T[f],Ne);var s=v.parent().data("options");s&&s.cells&&(s.cells[v.index()].column=T[f])}},_updateIndicator(Ne,T,r){if(!T.command)return this._applyColumnState({name:r,rootElement:Ne,column:T,showColumnLines:this.option("showColumnLines")})}};var N=i(4895),xe=i(5207),Pe="scroll-container",_="dx-row",h="dx-group-row",F="dx-master-detail-row",He="0.0001px",Z="dxCellHintVisible",U={render(Ne){Ne.container.append(Ne.content)}},w=function(Ne){return"auto"===Ne?"":(0,re.kf)(Ne)?"".concat(Ne,"px"):Ne},V=function(Ne,T,r){Ne.style.width=Ne.style.maxWidth="auto"===T.width?"":r},$=function(Ne){Ne.resolve()},ye=Ne=>"number"==typeof Ne?"".concat(Ne.toFixed(3),"px"):"adaptiveHidden"===Ne?He:Ne,de=N.A.View.inherit(I);class Te extends de{_createScrollableOptions(){var T=this.option("scrolling"),r=this.option("scrolling.useNative"),v=(0,oe.X)({},T,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return void 0===r&&(r=!0),"auto"===r?(delete v.useNative,delete v.useSimulatedScrollbar):(v.useNative=!!r,v.useSimulatedScrollbar=!r),v}_updateCell(T,r){r.rowType&&this._cellPrepared(T,r)}_createCell(T){var{column:r}=T,v=r.alignment||(0,q.n)(this.option("rtlEnabled")),f=be.A.createElement("td");f.style.textAlign=v;var s=(0,he.A)(f);return"data"===T.rowType&&r.headerId&&!r.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",r.headerId,s),r.cssClass&&s.addClass(r.cssClass),Array.isArray(r.elementAttr)&&r.elementAttr.forEach(t=>{var{name:u,value:y}=t;s.attr(u,y)}),"expand"===r.command&&(s.addClass(r.cssClass),s.addClass(this.addWidgetPrefix("group-space"))),r.colspan>1?s.attr("colSpan",r.colspan):!r.isBand&&"auto"!==r.visibleWidth&&this.option("columnAutoWidth")&&((r.width||r.minWidth)&&(f.style.minWidth=w(r.minWidth||r.width)),r.width&&V(f,r,w(r.width))),s}_createRow(T,r){var v=(0,he.A)("<".concat(r=r||"tr",">")).addClass(_);return this.setAria("role","row",v),v}_isAltRow(T){return T&&T.dataIndex%2==1}_createTable(T,r){var v=(0,he.A)("<table>").addClass(this.addWidgetPrefix("table")).addClass(this.addWidgetPrefix("table-fixed"));if(T&&!r?(v.attr("id","dx-".concat(new _e.A)).append(this._createColGroup(T)),Ce.A.safari&&v.append((0,he.A)("<thead>").append("<tr>")),this.setAria("role","presentation",v)):this.setAria("hidden",!0,v),this.setAria("role","presentation",(0,he.A)("<tbody>").appendTo(v)),r)return v;Ce.A.mozilla&&b.A.on(v,"mousedown","td",s=>{s.ctrlKey&&s.preventDefault()}),this.option("cellHintEnabled")&&b.A.on(v,"mousemove",".dx-row > td",this.createAction(s=>{var t=s.event,u=(0,he.A)(t.target),y=(0,he.A)(t.currentTarget),K=y.parent(),pe=this._columnsController.getVisibleColumns(),we=K.data("options"),R=y.index(),z=we&&we.cells&&we.cells[R],fe=z?z.column:pe[R],Me=K.hasClass("dx-header-row"),ze=K.hasClass("dx-data-row"),tt=K.hasClass(F),ht=K.hasClass(h),St=K.hasClass(this.addWidgetPrefix("filter-row")),xt=ze&&(!fe||fe.cellTemplate);tt||St||ze&&z&&(we.isEditing||z.isEditing||fe?.showEditorAlways)||xt||Me&&(!fe||fe.headerCellTemplate)||ht&&(!fe||fe.groupIndex&&fe.groupCellTemplate)||(u.data(Z)&&(u.removeAttr("title"),u.data(Z,!1)),u[0].scrollWidth-u[0].clientWidth>0&&!(0,re.O9)(u.attr("title"))&&(u.attr("title",u.text()),u.data(Z,!0)))}));var f=s=>{var t=(0,he.A)(s.currentTarget),u=(0,he.A)(s.target).closest(".".concat("dx-field-item-content")),y=t.parent(),K=y.data("options"),pe=K&&K.cells&&K.cells[t.index()];if(t.closest("table").is(s.delegateTarget)){var we=(0,oe.X)({},pe,{cellElement:(0,k.c)(t),event:s,eventType:s.type});if(we.rowIndex=this.getRowIndex(y),u.length){var R=u.data("dx-form-item");R.column&&(we.column=R.column,we.columnIndex=this._columnsController.getVisibleIndex(we.column.index))}return we}};return b.A.on(v,"mouseover",".dx-row > td",s=>{var t=f(s);t&&this.executeAction("onCellHoverChanged",t)}),b.A.on(v,"mouseout",".dx-row > td",s=>{var t=f(s);t&&this.executeAction("onCellHoverChanged",t)}),b.A.on(v,ue.U,".dx-row > td",s=>{var t=f(s);t&&this.executeAction("onCellClick",t)}),b.A.on(v,c.U,".dx-row > td",s=>{var t=f(s);t&&this.executeAction("onCellDblClick",t)}),function(Ne,T){var r,v,f;function s(t){return setTimeout(()=>{r=v=null},t)}b.A.on(T,"touchstart touchend",".dx-row",t=>{clearTimeout(f),"touchstart"===t.type?(r=t.target,v=t.currentTarget,f=s(1e3)):f=s()}),b.A.on(T,[ue.U,c.U,a.A.down].join(" "),".dx-row",Ne.createAction(t=>{var{event:u}=t;r&&(u.target=r,u.currentTarget=v),(0,he.A)(u.target).closest("a").length||(t.rowIndex=Ne.getRowIndex(u.currentTarget),t.rowIndex>=0&&(t.rowElement=(0,k.c)((0,he.A)(u.currentTarget)),t.columns=Ne.getColumns(),u.type===a.A.down?Ne._rowPointerDown(t):u.type===ue.U?Ne._rowClick(t):Ne._rowDblClick(t)))}))}(this,v),v}_rowPointerDown(){}_rowClick(){}_rowDblClick(){}_createColGroup(T){for(var r=(0,he.A)("<colgroup>"),v=0;v<T.length;v++)for(var f=T[v].colspan||1,s=0;s<f;s++)r.append(this._createCol(T[v]));return r}_createCol(T){var r=T.visibleWidth||T.width;"adaptiveHidden"===r&&(r=He);var v=(0,he.A)("<col>");return(0,Y.zj)(v,r),v}renderDelayedTemplates(T){var r=this._delayedTemplates,v=r.filter(s=>!s.async),f=r.filter(s=>s.async);this._delayedTemplates=[],this._renderDelayedTemplatesCore(v,!1,T),this._renderDelayedTemplatesCoreAsync(f)}_renderDelayedTemplatesCoreAsync(T){if(T.length){var r=(0,j.zk)().setTimeout(()=>{this._templateTimeouts.delete(r),this._renderDelayedTemplatesCore(T,!0)});this._templateTimeouts.add(r)}}_renderDelayedTemplatesCore(T,r,v){for(var f=new Date;T.length;){var s=T.shift(),{options:t}=s,u=be.A.getRootNode((0,he.A)(t.container).get(0)),y=this.needWaitAsyncTemplates();if((!r||(0,he.A)(t.container).closest(u).length||y)&&(v&&(t.change=v),s.template.render(t)),r&&new Date-f>30){this._renderDelayedTemplatesCoreAsync(T);break}}!T.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()}_processTemplate(T,r){var v;if(T&&T.render&&!(0,re.Kb)(T))v={allowRenderToDetachedContainer:T.allowRenderToDetachedContainer,render(s){T.render(s.container,s.model,s.change),s.deferred&&s.deferred.resolve()}};else if((0,re.Tn)(T))v={render(s){var t=T((0,k.c)(s.container),s.model,s.change);t&&(t.nodeType||(0,re.Kb)(t))&&s.container.append(t),s.deferred&&s.deferred.resolve()}};else{var f=(0,re.Kg)(T)?T:(0,he.A)(T).attr("id");f?(this._templatesCache[f]||(this._templatesCache[f]=this.getTemplate(T)),v=this._templatesCache[f]):v=this.getTemplate(T)}return v}renderTemplate(T,r,v,f,s){var t,u=this._processTemplate(r,v),{column:y}=v,K="data"===v.rowType,pe=new ae.cY,we={container:T,model:v,deferred:pe,onRendered:()=>{this.isDisposed()?pe.reject():pe.resolve()}};if(u){v.component=this.component;var R=y&&(y.renderAsync&&K||this.option("renderAsync")&&(!1!==y.renderAsync&&(y.command||y.showEditorAlways)&&K||"filter"===v.rowType)),z=null!==(t=v.renderAsync)&&void 0!==t?t:R;!u.allowRenderToDetachedContainer&&!f||z?this._delayedTemplates.push({template:u,options:we,async:z}):u.render(we),this._templateDeferreds.add(pe),b.A.on(T,d.N,$.bind(null,pe))}else pe.reject();return pe.promise().always(()=>{this._templateDeferreds.delete(pe)})}_getBodies(T){return(0,he.A)(T).children("tbody").not(".dx-header").not(".dx-footer")}_needWrapRow(T){var r;return!!this.option().rowTemplate&&!(null===(r=this._getBodies(T))||void 0===r||!r.filter(".".concat(_)).length)}_wrapRowIfNeed(T,r,v){if(this._needWrapRow(v?T||this._tableElement:this._tableElement||T)){var t=(0,he.A)("<tbody>").addClass(r.attr("class"));return this.setAria("role","presentation",t),t.append(r)}return r}_appendRow(T,r,v){(v=v||U).render({content:r,container:T})}_resizeCore(){var T=this._scrollLeft;T>=0&&(this._scrollLeft=0,this.scrollTo({left:T}))}_renderCore(T){var r=this.element().parent();(!r||r.parent().length)&&this.renderDelayedTemplates(T)}_renderTable(T){(T=T||{}).columns=this._columnsController.getVisibleColumns();var r=T.change&&T.change.changeType,v=this._createTable(T.columns,"append"===r||"prepend"===r||"update"===r);return this._renderRows(v,T),v}_renderRows(T,r){for(var v=this._getRows(r.change),f=r.change&&r.change.columnIndices||[],s=r.change&&r.change.changeTypes||[],t=0;t<v.length;t++)this._renderRow(T,(0,oe.X)({row:v[t],columnIndices:f[t],changeType:s[t]},r))}_renderRow(T,r){r.columnIndices||(r.row.cells=[]);var v=this._createRow(r.row),f=this._wrapRowIfNeed(T,v);"remove"!==r.changeType&&this._renderCells(v,r),this._appendRow(T,f);var s=(0,oe.X)({columns:r.columns},r.row);this._addWatchMethod(s,r.row),this._rowPrepared(f,s,r.row)}_needRenderCell(T,r){return!r||r.indexOf(T)>=0}_renderCells(T,r){for(var v=0,{row:f}=r,{columns:s}=r,t=0;t<s.length;t++)this._needRenderCell(t,r.columnIndices)&&this._renderCell(T,(0,oe.X)({column:s[t],columnIndex:v,value:f.values&&f.values[v],oldValue:f.oldValues&&f.oldValues[v]},r)),s[t].colspan>1?v+=s[t].colspan:v++}_updateCells(T,r,v){var f=T.children(),s=r.children(),t=this.option("highlightChanges"),u=this.addWidgetPrefix("cell-updated-animation");v.forEach((y,K)=>{var pe=f.eq(y),we=s.eq(K);pe.replaceWith(we),t&&!we.hasClass("dx-command-expand")&&we.addClass(u)}),function(Ne,T){if(Ne&&T){var f,r=Ne.attributes,v=T.attributes;for(f=0;f<r.length;f++){var s=r[f].nodeName;T.hasAttribute(s)||Ne.removeAttribute(s)}for(f=0;f<v.length;f++)Ne.setAttribute(v[f].nodeName,v[f].nodeValue)}}(T.get(0),r.get(0))}_setCellAriaAttributes(T,r){if("freeSpace"!==r.rowType){this.setAria("role","gridcell",T);var v=this._columnsController.getColumnIndexOffset();this.setAria("colindex",r.columnIndex+v+1,T)}}_renderCell(T,r){var v=this._getCellOptions(r);if(r.columnIndices){if(r.row.cells){var f=r.row.cells.findIndex(t=>t.columnIndex===v.columnIndex);r.row.cells[f]=v}}else r.row.cells.push(v);var s=this._createCell(v);return this._setCellAriaAttributes(s,v),this._renderCellContent(s,v,r),T.get(0).appendChild(s.get(0)),s}_renderCellContent(T,r,v){var f=this._getCellTemplate(r);(0,ae.z7)(!f||this.renderTemplate(T,f,r,void 0,v.change)).done(()=>{this._updateCell(T,r)})}_getCellTemplate(T){}_getRows(T){return[]}_getCellOptions(T){var r={column:T.column,columnIndex:T.columnIndex,rowType:T.row.rowType,isAltRow:this._isAltRow(T.row)};return this._addWatchMethod(r),r}_addWatchMethod(T,r){if(this.option("repaintChangesOnly")){var v=[];return(r=r||T).watch=r.watch||function(f,s,t){var u=f(r.data),y=function(K){K&&t&&t(K);var pe=f(r.data);JSON.stringify(u)!==JSON.stringify(pe)&&(K&&s(pe),u=pe)};return v.push(y),function(){var K=v.indexOf(y);K>=0&&v.splice(K,1)}},r.update=r.update||function(f,s){f&&(this.data=T.data=f.data,this.rowIndex=T.rowIndex=f.rowIndex,this.dataIndex=T.dataIndex=f.dataIndex,this.isExpanded=T.isExpanded=f.isExpanded,T.row&&!s&&(T.row=f)),v.forEach(t=>{t(f)})},r!==T&&(T.watch=r.watch.bind(r)),T}}_cellPrepared(T,r){r.cellElement=(0,k.c)((0,he.A)(T)),this.executeAction("onCellPrepared",r)}_rowPrepared(T,r,v){(0,se.p)(T.get(0),"options",r),r.rowElement=(0,k.c)(T),this.executeAction("onRowPrepared",r)}_columnOptionChanged(T){var{optionNames:r}=T;if(xe.A.checkChanges(r,["width","visibleWidth"])){var f=this._columnsController.getVisibleColumns().map(s=>s.visibleWidth||s.width);this.setColumnWidths({widths:f,optionNames:r})}else this._requireReady||this.render()}getCellIndex(T){return T.length?T[0].cellIndex:-1}getTableElements(){return this._tableElement||(0,he.A)()}getTableElement(T){return this._tableElement}setTableElement(T,r){this._tableElement=T}optionChanged(T){switch(super.optionChanged(T),T.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":case"keyboardNavigation":this._invalidate(!0,!0),T.handled=!0}}init(){this._scrollLeft=-1,this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._delayedTemplates=[],this._templateDeferreds=new Set,this._templatesCache={},this._templateTimeouts=new Set,this.createAction("onCellClick"),this.createAction("onRowClick"),this.createAction("onCellDblClick"),this.createAction("onRowDblClick"),this.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:T=>{this._afterRowPrepared(T)}}),this._columnsController.columnsChanged.add(this._columnOptionChanged.bind(this)),this._dataController&&this._dataController.changed.add(this._handleDataChanged.bind(this))}_afterRowPrepared(T){}_handleDataChanged(){}callbackNames(){return["scrollChanged"]}_updateScrollLeftPosition(){var T=this._scrollLeft;T>=0&&(this._scrollLeft=0,this.scrollTo({left:T}))}scrollTo(T){var r=this.element(),v=r&&r.children(".".concat(this.addWidgetPrefix(Pe))).not(".".concat(this.addWidgetPrefix("content-fixed")));(0,re.O9)(T)&&(0,re.O9)(T.left)&&this._scrollLeft!==T.left&&(this._scrollLeft=T.left,v&&v.scrollLeft(T.left))}_getContent(T){var r;return null===(r=this._tableElement)||void 0===r?void 0:r.parent()}_removeContent(T){var r=this._getContent(T);r?.length&&r.remove()}_wrapTableInScrollContainer(T,r){var v=(0,he.A)("<div>"),f=this.option("scrolling.useNative");return(!1===f||"auto"===f&&!Ee.nativeScrolling)&&v.addClass(this.addWidgetPrefix("scrollable-simulated")),b.A.on(v,"scroll",()=>{var s=v.scrollLeft();s!==this._scrollLeft&&this.scrollChanged.fire({left:s},this.name)}),v.addClass(this.addWidgetPrefix("content")).addClass(this.addWidgetPrefix(Pe)).append(T).appendTo(this.element()),this.setAria("role","presentation",v),v}needWaitAsyncTemplates(){return this.option("templatesRenderAsynchronously")&&!1===this.option("renderAsync")}waitAsyncTemplates(){var T=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=new ae.cY;if(!T&&!this.needWaitAsyncTemplates())return r.resolve();var f=()=>ae.z7.apply(this,Array.from(this._templateDeferreds)).done(()=>{this.isDisposed()?r.reject():this._templateDeferreds.size>0?f():r.resolve()}).fail(r.reject);return f(),r.promise()}_updateContent(T,r,v){return this.waitAsyncTemplates().done(()=>{this._removeContent(v),this.setTableElement(T,v),this._wrapTableInScrollContainer(T,v)})}_findContentElement(){}_getWidths(T){if(!T)return[];var r=[];return T.toArray().forEach(f=>{var s=f.offsetWidth;if(f.getBoundingClientRect){var t=(0,q.N)(f);t.width>f.offsetWidth-1&&(s=t.width)}r.push(s)}),r}getColumnWidths(T){if((this.option("forceApplyBindings")||le.lQ)(),T=T??this.getTableElement())for(var r=T.children("tbody:not(.dx-header)").children(),v=0;v<r.length;v++){var f=r.eq(v),s=f.hasClass(h),t=f.hasClass(F),u=f.hasClass("dx-error-row");if(!("none"===f.get(0).style.display||f.hasClass("dx-state-invisible")||s||t||u)){var pe=f.children("td");return this._getWidths(pe)}}return[]}getVisibleColumnIndex(T,r){return T}setColumnWidths(T){var{widths:r}=T,f=this.getTableElement();if(f?.length&&r){var s=this.getColumns(),t=this.option("columnAutoWidth"),u=f.children("colgroup").children("col");u.toArray().forEach(y=>y.removeAttribute("style")),s.forEach((y,K)=>{if(t&&y.width&&!y.command)for(var pe=w(y.visibleWidth||y.width),we=w(y.minWidth||pe),R=f.children().children(".dx-row").not(".".concat(F)),z=0;z<R.length;z++){var fe=this.getVisibleColumnIndex(K,z);if(fe>=0){var Me=R.eq(z),ze=Me.hasClass(h)?Me.find("td[aria-colindex='".concat(fe+1,"']:not(.").concat("dx-group-cell",")")):Me.find("td").eq(fe);if(ze.length){var tt=ze.get(0);V(tt,y,pe),tt.style.minWidth=we}}}var ht=ye(r[K]);(0,re.O9)(ht)&&(0,Y.zj)(u.eq(K),ht)})}}getCellElements(T){return this._getCellElementsCore(T)}_getCellElementsCore(T){if(!(T<0))return this._getRowElements().eq(T).children()}_getCellElement(T,r){var v=this.getCellElements(T),f=this._getVisibleColumnIndex(v,T,r);if(v?.length&&!(f<0)){var s=v.eq(f);return s.length>0?s:void 0}}_getRowElement(T){var r=this,v=(0,he.A)(),f=r.getTableElements();if(ee.__(f,(s,t)=>{v=v.add(r._getRowElements((0,he.A)(t)).eq(T))}),v.length)return v}getCellElement(T,r){var v=this._getCellElement(T,r);if(v)return(0,k.c)(v)}getRowElement(T){var r=this._getRowElement(T),v=[];if(r&&!(0,k.c)(r).get)for(var f=0;f<r.length;f++)v.push(r[f]);else v=r;return v}_getVisibleColumnIndex(T,r,v){if((0,re.Kg)(v)){var f=this._columnsController.columnOption(v,"index");return this._columnsController.getVisibleIndex(f)}return v}getColumnElements(){}getColumns(T){return this._columnsController.getVisibleColumns(T)}getCell(T,r,v){var s,f=r||this._getRowElements();if(f.length>0&&T.rowIndex>=0&&("virtual"!==this.option("scrolling.mode")&&"virtual"!==this.option("scrolling.rowRenderingMode")&&(T.rowIndex=T.rowIndex<f.length?T.rowIndex:f.length-1),s=v||this.getCellElements(T.rowIndex),s?.length>0))return s.eq(s.length>T.columnIndex?T.columnIndex:s.length-1)}getRowsCount(){var T=this.getTableElement();return T&&1===T.length?T[0].rows.length:0}_getRowElementsCore(T){if(T=T||this.getTableElement()){var v=(this.option().rowTemplate||this.option("dataRowTemplate"))&&T.find("> tbody.".concat(_));return v&&v.length?v:T.find("> tbody > "+".".concat(_,", > .").concat(_))}return(0,he.A)()}_getRowElements(T){return this._getRowElementsCore(T)}getRowIndex(T){return this._getRowElements().index(T)}getBoundingRect(){}getName(){}setScrollerSpacing(T){var r=this.element(),v=this.option("rtlEnabled");r&&r.css({paddingLeft:v?T:"",paddingRight:v?"":T})}isScrollbarVisible(T){var r=this.element(),v=this._tableElement;return!(!r||!v)&&(T?(0,P.Ot)(v)-(0,P.RG)(r)>0:(0,P.P$)(v)-(0,P.Oq)(r)>0)}isDisposed(){var T;return null===(T=this.component)||void 0===T?void 0:T._disposed}dispose(){var T,r;if((0,j.Vd)()){var v=(0,j.zk)();null===(T=this._templateTimeouts)||void 0===T||T.forEach(f=>v.clearTimeout(f)),null===(r=this._templateTimeouts)||void 0===r||r.clear()}}}},255:(Mt,dt,i)=>{i.d(dt,{m:()=>g});var be=i(7669),k=i(4292),se=i(9263),_e=i(5042),he=i(2984),Ce=i(2101),le=i(448),ae=i(186),oe=i(2463),ee=i(4435),q=i(736),P=i(2328),Y=i(4895),Ee=i(5207),re="borders",b="dx-gridbase-container",a="adaptiveHidden",d=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],m=function(o){return(0,oe.Kg)(o)&&o.endsWith("%")},I=function(o,l){var _=o._rowsView.contentWidth();return _-o._getTotalWidth(l,_)},g={defaultOptions:()=>({showBorders:!1,renderAsync:!1}),controllers:{resizing:Y.A.ViewController.inherit({_initPostRenderHandlers(){this._refreshSizesHandler||(this._refreshSizesHandler=o=>{var l=(new he.cY).resolve(null),_=o?.changeType,h=o?.isDelayed,C=_&&"updateSelection"!==_&&"updateFocusedRow"!==_&&"pageIndex"!==_&&!h;this._dataController.changed.remove(this._refreshSizesHandler),this._checkSize()&&(l=this._refreshSizes(o)),C&&(0,he.z7)(l).done(()=>{this._setAriaLabel(),this.fireContentReadyAction()})},this._dataController.changed.add(()=>{this._dataController.changed.add(this._refreshSizesHandler)}))},_refreshSizes(o){var l,_=(new he.cY).resolve(null),h=o?.changeType,C=o?.isDelayed,F=this._dataController.items();if(o&&"refresh"!==h&&"prepend"!==h&&"append"!==h){if("update"===h){if(0===(null===(l=o.changeTypes)||void 0===l?void 0:l.length))return _;!(F.length>1||"insert"!==o.changeTypes[0])||0===F.length&&"remove"===o.changeTypes[0]||o.needUpdateDimensions?_=this.resize():(_=new he.cY,this._waitAsyncTemplates().done(()=>{(0,_e.OX)(()=>(0,_e.zE)(()=>(0,_e.OX)(()=>{this._setScrollerSpacing(),this._rowsView.resize(),_.resolve()})))}).fail(_.reject))}}else C||(_=this.resize());return _},fireContentReadyAction(){this.component._fireContentReadyAction()},_getWidgetAriaLabel:()=>"dxDataGrid-ariaDataGrid",_setAriaLabel(){var o=Math.max(0,this._dataController.totalItemsCount());this.component.setAria("label",q.A.format(this._getWidgetAriaLabel(),o,this.component.columnCount()),this.component.$element().children(".".concat(b)))},_getBestFitWidths(){var o,l=this._rowsView,_=this._columnHeadersView,h=l.getColumnWidths();if(!h?.length){var C=_.getTableElement();_.setTableElement(null===(o=l.getTableElement())||void 0===o?void 0:o.children(".dx-header")),h=_.getColumnWidths(),_.setTableElement(C)}return h},_setVisibleWidths(o,l){var _=this._columnsController;_.beginUpdate(),(0,Ce.__)(o,(h,C)=>{var F=_.getColumnId(C);_.columnOption(F,"visibleWidth",l[h])}),_.endUpdate()},_toggleBestFitModeForView(o,l,_){if(o&&o.isVisible()){var h=this._rowsView.getTableElements(),C=o.getTableElements();(0,Ce.__)(h,(F,te)=>{var X,ge=(0,k.A)(te),He=C.eq(F);He&&He.length&&((X=_?He.children("tbody").appendTo(ge):ge.children(".".concat(l)).appendTo(He)).toggleClass(l,_),X.toggleClass(this.addWidgetPrefix("best-fit"),_))})}},_toggleBestFitMode(o){var l=this._rowsView.getTableElement(),_=this._rowsView.getTableElements().eq(1);l&&(l.css("tableLayout",o?"auto":"fixed"),l.children("colgroup").css("display",o?"none":""),(0,Ce.__)(_.find("tr.dx-group-row"),(h,C)=>{(0,k.A)(C).css("display",o?"none":"")}),_.toggleClass(this.addWidgetPrefix("table-fixed"),!o),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",o),this._toggleBestFitModeForView(this._footerView,"dx-footer",o),this._needStretch()&&(l.get(0).style.width=o?"auto":""))},_toggleContentMinHeight(o){var l=this._rowsView.getScrollable(),_=this._rowsView._findContentElement();!1===l?.option("useNative")&&_.css({minHeight:o?Ee.A.getContentHeightLimit(se.A):""})},_synchronizeColumns(){var X,Z,D,o=this._columnsController,l=o.getVisibleColumns(),_=this.option("columnAutoWidth"),h=this.option("wordWrapEnabled"),C=l.some(p=>!(0,oe.O9)(p.width)),F=this._needBestFit(),te=!1,ge=!1,He=[];!F&&(0,Ce.__)(l,(p,w)=>{if("auto"===w.width)return F=!0,!1}),(0,Ce.__)(l,(p,w)=>{if(w.minWidth)return te=!0,!1}),this._setVisibleWidths(l,[]);var U=this.component.$element();F&&(Z=be.A.getActiveElement(U.get(0)),D=Ee.A.getSelectionRange(Z),this._toggleBestFitMode(!0),X=!0),this._toggleContentMinHeight(h),U&&U.get(0)&&this._maxWidth&&(delete this._maxWidth,U[0].style.maxWidth=""),(0,_e.OX)(()=>{var w;F?(He=this._getBestFitWidths(),(0,Ce.__)(l,(w,V)=>{var J=o.getColumnId(V);o.columnOption(J,"bestFitWidth",He[w],!0)})):te&&(He=this._getBestFitWidths()),(0,Ce.__)(l,function(w){var{width:V}=this;"auto"!==V&&((0,oe.O9)(V)?He[w]=(0,oe.kf)(V)||function(o){return(0,oe.Kg)(o)&&o.endsWith("px")}(V)?parseFloat(V):V:_||(He[w]=void 0))}),X&&(this._toggleBestFitMode(!1),X=!1,Z&&Z!==be.A.getActiveElement())&&((0,le.N)(Z).bottom<0||function(o,l){P.zY(o,!0),Ee.A.setSelectionRange(o,l)}(Z,D)),ge=this._correctColumnWidths(He,l),_&&((0,Ce.__)(l,(V,J)=>{"groupExpand"===J.type&&(w=He[V])}),(0,Ce.__)(l,(V,J)=>{"groupExpand"===J.type&&w&&(He[V]=w)}),this._needStretch()&&this._processStretch(He,l)),(0,_e.zE)(()=>{(F||ge||C)&&this._setVisibleWidths(l,He),h&&this._toggleContentMinHeight(!1)})})},_needBestFit(){return this.option("columnAutoWidth")},_needStretch(){return this._columnsController.getVisibleColumns().some(o=>"auto"===o.width&&!o.command)},_getAverageColumnsWidth(o){return I(this,o)/o.filter(h=>void 0===h).length},_correctColumnWidths(o,l){var h,_=this,C=!1,F=!1,te=!1,X=_.component.$element(),ge=_._hasWidth,He=function(){var J=h,$=l[J],ye=o[J]===a,de=o[J],{minWidth:Te}=$;if(Te)if(void 0===de){var Ne=_._getAverageColumnsWidth(o);de=Ne}else if(m(de)){var T=function(o,l,_,h){return I(o,h.map((C,F)=>F===l?_:C))}(_,J,Te,o);T<0&&(de=-1)}var r=_._getRealColumnWidth(J,o.map((v,f)=>J===f?de:v));Te&&!ye&&r<Te&&(o[J]=Te,te=!0,h=-1),(0,oe.O9)($.width)||(F=!0),m($.width)&&(C=!0)};for(h=0;h<l.length;h++)He();if(!F&&o.length){var Z=_._rowsView.element(),D=_._rowsView.contentWidth(),U=_._rowsView.getScrollbarWidth(),p=_._getTotalWidth(o,D);if(p<D){var w=Ee.A.getLastResizableColumnIndex(l,o);if(w>=0&&(o[w]="auto",te=!0,!1===ge&&!C)){var V=_.option("showBorders")?Math.ceil((0,ae.Ot)(Z)-(0,ae.hh)(Z)):0;_._maxWidth=p+U+V,X.css("maxWidth",_._maxWidth)}}}return te},_processStretch(o,l){var _=this._rowsView.contentWidth(),h=this._getTotalWidth(o,_),C={length:0};if(o.length){(0,Ce.__)(l,function(He){(this.width||o[He]===a)&&(C[He]=!0,C.length++)});var F=_-h,te=Math.floor(F/(o.length-C.length)),X=F-te*(o.length-C.length);if(F>=0)for(var ge=0;ge<o.length;ge++)C[ge]||(o[ge]+=te,X>0&&(X<1?(o[ge]+=X,X=0):(o[ge]++,X--)))}},_getRealColumnWidth(o,l,_){var h=1,C=l[o];if(!m(C))return parseFloat(C);var F=l.reduce((He,Z,D)=>m(Z)?He+parseFloat(Z):He,0),te=l.reduce((He,Z)=>!Z||Z===a||m(Z)?He:He+parseFloat(Z),0),X=(_=_||this._rowsView.contentWidth())-te,ge=F*_/100;return te>0&&ge+te>=_&&(h=ge>X?X/ge:1),parseFloat(C)*_*h/100},_getTotalWidth(o,l){for(var _=0,h=0;h<o.length;h++){var C=o[h];C&&C!==a&&(_+=this._getRealColumnWidth(h,o,l))}return Math.ceil(_)},_getGroupElement(){return this.component.$element().children().get(0)},updateSize(o){var l=(0,k.A)(o),_=this.addWidgetPrefix("important-margin");if(void 0===this._hasHeight&&l&&l.is(":visible")&&(0,ae.RG)(l)){var h=l.children(".".concat(this.getWidgetContainerClass()));h.length&&h.detach(),this._hasHeight=!!(0,ae.Oq)(l);var C=(0,ae.RG)(l);l.addClass(_),this._hasWidth=(0,ae.RG)(l)===C,l.removeClass(_),h.length&&h.appendTo(l)}},publicMethods:()=>["resize","updateDimensions"],_waitAsyncTemplates(){var o,l,_;return(0,he.z7)(null===(o=this._columnHeadersView)||void 0===o?void 0:o.waitAsyncTemplates(!0),null===(l=this._rowsView)||void 0===l?void 0:l.waitAsyncTemplates(!0),null===(_=this._footerView)||void 0===_?void 0:_.waitAsyncTemplates(!0))},resize(){if(!this.component._requireResize){var o=new he.cY;return this._waitAsyncTemplates().done(()=>{(0,he.z7)(this.updateDimensions()).done(o.resolve).fail(o.reject)}).fail(o.reject),o.promise()}},updateDimensions(o){var l=this;if(l._initPostRenderHandlers(),l._checkSize(o)){var _=l._resizeDeferred,h=l._resizeDeferred=new he.cY;return(0,he.z7)(_).always(()=>{(0,_e.zE)(()=>{l._dataController.isLoaded()&&l._synchronizeColumns(),l._resetGroupElementHeight(),(0,_e.OX)(()=>{(0,_e.zE)(()=>{(0,_e.OX)(()=>{l._updateDimensionsCore()})})})}).done(h.resolve).fail(h.reject)}),h.promise()}},_resetGroupElementHeight(){var o=this._getGroupElement(),l=this._rowsView.getScrollable();o&&o.style.height&&(!l||!l.scrollTop())&&(o.style.height="")},_checkSize(o){var l=this.component.$element(),_=l.is(":visible"),h=this._lastWidth!==(0,ae.RG)(l)||this._lastHeight!==(0,ae.Oq)(l)||this._devicePixelRatio!==(0,ee.zk)().devicePixelRatio;return _&&(!o||h)},_setScrollerSpacingCore(){var o=this,l=o._rowsView.getScrollbarWidth(),_=o._rowsView.getScrollbarWidth(!0);(0,_e.zE)(()=>{o._columnHeadersView&&o._columnHeadersView.setScrollerSpacing(l),o._footerView&&o._footerView.setScrollerSpacing(l),o._rowsView.setScrollerSpacing(l,_)})},_setScrollerSpacing(){var o=this._rowsView.getScrollable(),l=!0===this.option("scrolling.useNative");!o||l?(0,_e.zE)(()=>{(0,_e.OX)(()=>{this._setScrollerSpacingCore()})}):this._setScrollerSpacingCore()},_setAriaOwns(){var o,l,_,h=null===(o=this._columnHeadersView)||void 0===o?void 0:o.getTableElement(),C=null===(l=this._footerView)||void 0===l?void 0:l.getTableElement();null===(_=this._rowsView)||void 0===_||_.setAriaOwns(h?.attr("id"),C?.attr("id"))},_updateDimensionsCore(){var o=this,l=o._dataController,_=o.getController("editorFactory"),h=o._rowsView,C=o.component.$element(),F=this._getGroupElement(),te=(0,ae.Oq)(C),X=o.option("height")||C.get(0).style.height,ge=!!X&&"auto"!==X,He=parseInt(C.css("maxHeight")),Z=He&&te>=He,D=F&&F.scrollHeight===F.offsetHeight;o.updateSize(C),(0,_e.zE)(()=>{h.hasHeight(o._hasHeight||!!He||ge),this._setAriaOwns(),Z&&!D&&(0,k.A)(F).css("height",He),l.isLoaded()?(0,_e.OX)(()=>{o._updateLastSizes(C),o._setScrollerSpacing(),(0,Ce.__)(d,(p,w)=>{var V=o.getView(w);V&&V.resize()}),_&&_.resize()}):h.setLoading(l.isLoading())})},_updateLastSizes(o){this._lastWidth=(0,ae.RG)(o),this._lastHeight=(0,ae.Oq)(o),this._devicePixelRatio=(0,ee.zk)().devicePixelRatio},optionChanged(o){switch(o.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"renderAsync":return void(o.handled=!0);default:this.callBase(o)}},init(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView")}}),synchronizeScrolling:Y.A.ViewController.inherit({_scrollChangedHandler(o,l,_){for(var h=0;h<o.length;h++)o[h]&&o[h].name!==_&&o[h].scrollTo({left:l.left,top:l.top})},init(){for(var o=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],l=0;l<o.length;l++){var _=o[l];_&&_.scrollChanged.add(this._scrollChangedHandler.bind(this,o))}}})},views:{gridView:Y.A.View.inherit({_endUpdateCore(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},init(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")},getView(o){return this.component._views[o]},element(){return this._groupElement},optionChanged(o){(0,oe.O9)(this._groupElement)&&"showBorders"===o.name?(this._groupElement.toggleClass(this.addWidgetPrefix(re),!!o.value),o.handled=!0):this.callBase(o)},_renderViews(o){var l=this;(0,Ce.__)(d,(_,h)=>{var C=l.getView(h);C&&C.render(o)})},_getTableRoleName:()=>"group",render(o){var l=!this._groupElement,_=this._groupElement||(0,k.A)("<div>").addClass(this.getWidgetContainerClass());_.addClass(b),_.toggleClass(this.addWidgetPrefix(re),!!this.option("showBorders")),this.setAria("role","presentation",o),this.component.setAria("role",this._getTableRoleName(),_),this._rootElement=o||this._rootElement,l&&(this._groupElement=_,(0,ee.Vd)()&&this.getController("resizing").updateSize(o),_.appendTo(o)),this._renderViews(_)},update(){var o=this._rootElement,l=this._groupElement,_=this.getController("resizing");o&&l&&(_.resize(),this._dataController.isLoaded()&&this._resizingController.fireContentReadyAction())}})},VIEW_NAMES:d}},9644:(Mt,dt,i)=>{i.d(dt,{E:()=>ge});var be=i(8168),k=i(4292),se=i(9263),_e=i(5042),he=i(9407),Ce=i(7951),le=i(2101),ae=i(448),oe=i(186),ee=i(370),q=i(5918),P=i(2463),Y=i(4435),Ee=i(1269),re=i(675),j=i(736),ue=i(9057),b=i(5207),c=i(5101),S="dx-group-row",I="dx-group-cell",xe="dx-freespace-row",Ie="dx-column-lines",B="dx-row-alt",n="dx-last-row-border";function _(He){return He?Math.round(He.scrollWidth()-He.clientWidth()):0}function h(He){var{rowType:Z,column:D}=He;return"group"===Z&&(0,P.O9)(D.groupIndex)&&!D.showWhenGrouped&&!D.command}function C(He){var{element:Z,watch:D,getter:U,callBack:p}=He;if(D){var w=D(U,p);Ee.A.on(Z,re.N,w)}}var F=function(He,Z){var D=(0,ee.Im)(Z.text)&&"data"===Z.rowType,{text:U}=Z,p=He.get(0);D?b.A.setEmptyText(He):Z.column.encodeHtml?p.textContent=U:p.innerHTML=U},ge={defaultOptions:()=>({hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:j.A.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},dataRowTemplate:null,columnAutoWidth:!1,noDataText:j.A.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}),views:{rowsView:class X extends c.n{_getDefaultTemplate(Z){return"empty"===Z.command?function(D){D.html("&nbsp;")}:F}_getDefaultGroupTemplate(Z){var D=this.option("summary.texts");return function(U,p){var{data:w}=p,V="".concat(p.column.caption,": ").concat(p.text),J=U.get(0);p.summaryItems&&p.summaryItems.length&&(V+=" ".concat(b.A.getGroupRowSummaryText(p.summaryItems,D))),w&&(p.groupContinuedMessage&&p.groupContinuesMessage?V+=" (".concat(p.groupContinuedMessage,". ").concat(p.groupContinuesMessage,")"):p.groupContinuesMessage?V+=" (".concat(p.groupContinuesMessage,")"):p.groupContinuedMessage&&(V+=" (".concat(p.groupContinuedMessage,")"))),Z.encodeHtml?J.textContent=V:J.innerHTML=V}}_update(Z){}_updateCell(Z,D){h(D)&&Z.addClass(I),super._updateCell.apply(this,arguments)}_getCellTemplate(Z){var{column:D}=Z;return h(Z)?D.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultGroupTemplate(D)}:("data"===Z.rowType||D.command)&&D.cellTemplate?D.cellTemplate:{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(D)}}_createRow(Z,D){var U=super._createRow.apply(this,arguments);if(Z){var p="group"===Z.rowType,w="data"===Z.rowType;w&&U.addClass("dx-data-row"),w&&this.option("showRowLines")&&U.addClass("dx-row-lines"),this.option("showColumnLines")&&U.addClass(Ie),!1===Z.visible&&U.hide(),p&&(U.addClass(S),this.setAria("role","row",U),this.setAriaExpandedAttribute(U,Z))}return U}_rowPrepared(Z,D,U){"data"===D.rowType&&(this.option("rowAlternationEnabled")&&(this._isAltRow(U)&&Z.addClass(B),C({element:Z.get(0),watch:D.watch,getter:()=>this._isAltRow(U),callBack:p=>{Z.toggleClass(B,p)}})),this._setAriaRowIndex(D,Z),C({element:Z.get(0),watch:D.watch,getter:()=>D.rowIndex,callBack:()=>this._setAriaRowIndex(D,Z)})),super._rowPrepared.apply(this,arguments)}_setAriaRowIndex(Z,D){var{component:U}=this,p="standard"===U.option("scrolling.mode")&&!b.A.isVirtualRowRendering(U),w=Z.rowIndex+1;p?w=U.pageIndex()*U.pageSize()+w:w+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",w,D)}setAriaExpandedAttribute(Z,D){var U=this.localize(D.isExpanded?"dxDataGrid-ariaExpandedRow":"dxDataGrid-ariaCollapsedRow");this.setAria("roledescription",U,Z)}_afterRowPrepared(Z){var D=Z.args[0],U=this._dataController,p=U.getVisibleRows()[D.rowIndex],w=this.option("integrationOptions.watchMethod");if(D.data&&"data"===D.rowType&&!D.isNewRow&&this.option("twoWayBindingEnabled")&&w&&p){var V=w(()=>U.generateDataValues(D.data,D.columns),()=>{U.repaintRows([p.rowIndex],this.option("repaintChangesOnly"))},{deep:!0,skipImmediate:!0});Ee.A.on(D.rowElement,re.N,V)}}_renderScrollable(Z){var D=this.element();if(D.children().length||D.append("<div>"),(Z||!this._loadPanel)&&this._renderLoadPanel(D,D.parent(),this._dataController.isLocalStore()),(Z||!this.getScrollable())&&this._dataController.isLoaded()){for(var U=this.getColumns(),p=!0,w=0;w<U.length;w++)if(!U[w].width&&!U[w].minWidth){p=!1;break}(this.option("columnAutoWidth")||this._hasHeight||p||this._columnsController._isColumnFixing())&&this._renderScrollableCore(D)}}_handleScroll(Z){var D=this.option("rtlEnabled"),U=Z.component.option("useNative");this._scrollTop=Z.scrollOffset.top,this._scrollLeft=Z.scrollOffset.left;var p=Z.scrollOffset.left;D&&(this._scrollRight=_(Z.component)-this._scrollLeft,U&&(p=-this._scrollRight),this.isScrollbarVisible(!0)||(this._scrollLeft=-1)),this.scrollChanged.fire((0,be.A)((0,be.A)({},Z.scrollOffset),{left:p}),this.name)}_renderScrollableCore(Z){var D=this._createScrollableOptions(),U=this._handleScroll.bind(this);D.onScroll=U,this._scrollable=this._createComponent(Z,ue.A,D),this._scrollableContainer=this._scrollable&&(0,k.A)(this._scrollable.container())}_renderLoadPanel(){for(var Z=arguments.length,D=new Array(Z),U=0;U<Z;U++)D[U]=arguments[U];return b.A.renderLoadPanel.apply(this,arguments)}_renderContent(Z,D,U){return Z.empty().append(D),this._findContentElement()}_updateContent(Z,D,U){return this._contentChanges.push({newTableElement:Z,change:D,isFixedTableRendering:U}),this.waitAsyncTemplates().done(()=>{var p=this._contentChanges;this._contentChanges=[],p.forEach(w=>{var{newTableElement:V,change:J,isFixedTableRendering:$}=w,ye=this.getTableElement($),de=this._findContentElement($),Te=J?.changeType,Ne=[],T=this.option("highlightChanges"),r=this.addWidgetPrefix("row-inserted-animation");"update"===Te?((0,le.__)(J.rowIndices,(v,f)=>{var s,t=this._getRowElements(V).eq(v),u=null===(s=J.changeTypes)||void 0===s?void 0:s[v],y=J.items&&J.items[v];Ne.push(()=>{var K,pe=this._getRowElements(ye),we=pe.eq(f);switch(u){case"update":if(y){var R=null===(K=J.columnIndices)||void 0===K?void 0:K[v];(0,P.O9)(y.visible)&&y.visible!==we.is(":visible")?we.toggle(y.visible):R?this._updateCells(we,t,R):we.replaceWith(t)}break;case"insert":if(pe.length)we.length?t.insertBefore(we):t.insertAfter(pe.last());else if(ye){var z=t.is("tbody")?ye:ye.children("tbody");t.prependTo(z)}T&&J.isLiveUpdate&&t.addClass(r);break;case"remove":we.remove()}})}),(0,le.__)(Ne,function(){this()}),V.remove()):(this.setTableElement(V,$),de.addClass(this.addWidgetPrefix("content")),this._setGridRole(de),this._renderContent(de,V,$))})}).fail(()=>{this._contentChanges=[]})}_getGridRoleName(){return"grid"}_setGridRole(Z){var D,U=!(null!==(D=this._dataController)&&void 0!==D&&D.isEmpty()),p=this._getGridRoleName();Z?.length&&U&&this.setAria("role",p,Z)}_createEmptyRow(Z,D,U){var p,w=this._createRow(),V=D?this.getFixedColumns():this.getColumns();w.addClass(Z).toggleClass(Ie,this.option("showColumnLines"));for(var J=0;J<V.length;J++)p=this._createCell({column:V[J],rowType:"freeSpace",columnIndex:J,columns:V}),(0,P.kf)(U)&&p.css("height",U),w.append(p);return this.setAria("role","presentation",w),w}getFixedColumns(){throw new Error("Method not implemented.")}_appendEmptyRow(Z,D,U){var p=this._getBodies(Z),w=!p.length||D.is("tbody"),V=w?Z:p;if("top"===U){if(V.first().prepend(D),w){var J=V.children("colgroup");V.prepend(J)}}else V.last().append(D)}_renderFreeSpaceRow(Z,D){var U=this._createEmptyRow(xe);U=this._wrapRowIfNeed(Z,U,"refresh"===D?.changeType),this._appendEmptyRow(Z,U)}_checkRowKeys(Z){var D=this,U=D._getRows(Z),p=D._dataController.store()&&D._dataController.store().key();p&&U.some(w=>{if("data"===w.rowType&&void 0===w.key)return D._dataController.fireError("E1046",p),!0})}_needUpdateRowHeight(Z){return Z>0&&!this._rowHeight}_getRowsHeight(Z){return(Z=Z||this._tableElement).children("tbody").children().not(".dx-virtual-row").not(".".concat(xe)).toArray().reduce((U,p)=>U+(0,ae.N)(p).height,0)}_updateRowHeight(){var Z=this.getTableElement(),D=this._dataController.items().length;if(Z&&this._needUpdateRowHeight(D)){var U=this._getRowsHeight(Z);this._rowHeight=U/D}}_findContentElement(Z){var D=this.element(),U=this.getScrollable();if(D)return U&&(D=(0,k.A)(U.content())),D.children().first()}_getRowElements(Z){var D=super._getRowElements(Z);return D&&D.not(".".concat(xe))}_getFreeSpaceRowElements(Z){var D=Z||this.getTableElements();return D&&D.children("tbody").children(".".concat(xe))}_getNoDataText(){return this.option("noDataText")}_rowClick(Z){var D=this._dataController.items()[Z.rowIndex]||{};this.executeAction("onRowClick",(0,Ce.X)({evaluate:U=>(0,he.Hz)(U)(D.data)},Z,D))}_rowDblClick(Z){var D=this._dataController.items()[Z.rowIndex]||{};this.executeAction("onRowDblClick",(0,Ce.X)({},Z,D))}_getColumnsCountBeforeGroups(Z){for(var D=0;D<Z.length;D++)if("groupExpand"===Z[D].type)return D;return 0}_getGroupCellOptions(Z){var D=this._getColumnsCountBeforeGroups(Z.columns),U=(Z.row.groupIndex||0)+D;return{columnIndex:U,colspan:Z.columns.length-U-1}}_needWrapRow(){return super._needWrapRow.apply(this,arguments)||!!this.option("dataRowTemplate")}_renderCells(Z,D){"group"===D.row.rowType?this._renderGroupedCells(Z,D):D.row.values&&super._renderCells(Z,D)}_renderGroupedCells(Z,D){for(var p,J,{row:U}=D,{columns:w}=D,{rowIndex:V}=U,$=this._getGroupCellOptions(D),ye=0;ye<=$.columnIndex;ye++)ye===$.columnIndex&&w[ye].allowCollapsing&&"infinite"!==D.scrollingMode?(J=!!U.isExpanded,p=w[ye]):(J=null,p={command:"expand",cssClass:w[ye].cssClass}),this._needRenderCell(ye,D.columnIndices)&&this._renderCell(Z,{value:J,row:U,rowIndex:V,column:p,columnIndex:ye,columnIndices:D.columnIndices,change:D.change});var de=(0,ae.n)(this.option("rtlEnabled")),Te=(0,Ce.X)({},w[$.columnIndex],{command:null,type:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:de});$.colspan>1&&(Te.colspan=$.colspan),this._needRenderCell($.columnIndex+1,D.columnIndices)&&this._renderCell(Z,{value:U.values[U.groupIndex],row:U,rowIndex:V,column:Te,columnIndex:$.columnIndex+1,columnIndices:D.columnIndices,change:D.change})}_renderRows(Z,D){var U=this.option("scrolling.mode");super._renderRows(Z,(0,Ce.X)({scrollingMode:U},D)),this._checkRowKeys(D.change),this._renderFreeSpaceRow(Z,D.change),this._hasHeight||this.updateFreeSpaceRowHeight(Z)}_renderDataRowByTemplate(Z,D,U){var{row:p}=D,w=(0,Ce.X)({columns:D.columns},p),V=this._createRow(p,"tbody");V.appendTo(Z),this.renderTemplate(V,U,w,!0,D.change),this._rowPrepared(V,w,D.row)}_renderRow(Z,D){var{row:U}=D,{rowTemplate:p}=this.option(),w=this.option("dataRowTemplate");"data"===U.rowType&&w?this._renderDataRowByTemplate(Z,D,w):"data"!==U.rowType&&"group"!==U.rowType||(0,P.O9)(U.groupIndex)||!p?super._renderRow(Z,D):this.renderTemplate(Z,p,(0,Ce.X)({columns:D.columns},U),!0)}_renderTable(Z){var D=this,U=super._renderTable(Z);return(0,P.O9)(D.getTableElement())?D._renderScrollable():(D.setTableElement(U),D._renderScrollable(!0),D.resizeCompleted.add(function p(){var w=D.getScrollable();w&&D.element().closest((0,Y.zk)().document).length&&(D.resizeCompleted.remove(p),w._visibilityChanged(!0))})),U}_createTable(){var Z=super._createTable.apply(this,arguments);return(this.option().rowTemplate||this.option().dataRowTemplate)&&Z.appendTo(this.component.$element()),Z}_renderCore(Z){var D=this.element();D.addClass(this.addWidgetPrefix("rowsview")).toggleClass(this.addWidgetPrefix("nowrap"),!this.option("wordWrapEnabled")),D.toggleClass("dx-empty",this._dataController.isEmpty()),this.setAria("role","presentation",D);var U=this._renderTable({change:Z}),p=this._updateContent(U,Z);return super._renderCore(Z),this._lastColumnWidths=null,p}_getRows(Z){return Z&&Z.items||this._dataController.items()}_getCellOptions(Z){var{column:D}=Z,{row:U}=Z,{data:p}=U,w=U&&U.summaryCells,{value:V}=Z,J=b.A.getDisplayValue(D,V,p,U.rowType),$=super._getCellOptions(Z);if($.value=V,$.oldValue=Z.oldValue,$.displayValue=J,$.row=U,$.key=U.key,$.data=p,$.rowType=U.rowType,$.values=U.values,$.text=D.command?"":b.A.formatValue(J,D),$.rowIndex=U.rowIndex,$.summaryItems=w&&w[Z.columnIndex],$.resized=D.resizedCallbacks,(0,P.O9)(D.groupIndex)&&!D.command){var ye=this.option("grouping.texts"),de=this.option("scrolling.mode");"virtual"!==de&&"infinite"!==de&&($.groupContinuesMessage=p&&p.isContinuationOnNextPage&&ye&&ye.groupContinuesMessage,$.groupContinuedMessage=p&&p.isContinuation&&ye&&ye.groupContinuedMessage)}return $}_setRowsOpacityCore(Z,D,U,p){var w=this._columnsController,V=w.getColumns(),J=V&&V[U],$=J&&J.isBand&&J.index;(0,le.__)(Z,(ye,de)=>{if(!(0,k.A)(de).hasClass(S))for(var Te=0;Te<D.length&&(!((0,P.kf)($)&&w.isParentBandColumn(D[Te].index,$)||D[Te].index===U)||(Z.eq(ye).children().eq(Te).css({opacity:p}),(0,P.kf)($)));Te++);})}_getDevicePixelRatio(){return(0,Y.zk)().devicePixelRatio}renderNoDataText(){return b.A.renderNoDataText.apply(this,arguments)}getCellOptions(Z,D){var p,w,U=this._dataController.items()[Z];return U&&(w=(0,P.Kg)(D)?this._columnsController.columnOption(D):this._columnsController.getVisibleColumns()[D])&&(p=this._getCellOptions({value:w.calculateCellValue(U.data),rowIndex:U.rowIndex,row:U,column:w})),p}getRow(Z){if(Z>=0){var D=this._getRowElements();if(D.length>Z)return(0,k.A)(D[Z])}}updateFreeSpaceRowHeight(Z){var D=this._dataController,U=D.items(!0).length,p=this._findContentElement(),w=this._getFreeSpaceRowElements(Z);if(w&&p&&D.totalCount()>=0){var V=!1;if(U>0)if(this._hasHeight)w.hide(),(0,_e.OX)(()=>{var ye=this.getScrollbarWidth(!0),de=(0,oe.Oq)(this.element())-ye,Ne=de-(0,oe.P$)(p)>0,T=this._getRowsHeight(p.children().first()),r=Z||this.getTableElements(),s=de-T-Math.ceil(parseFloat(r.css("borderTopWidth")))-this._getHeightCorrection();Ne&&(0,_e.zE)(()=>{w.css("height",s),V=!0,w.show()}),(0,_e.zE)(()=>this._updateLastRowBorder(V))});else{var J=D.pageSize()-U,$=this.option("scrolling.mode");J>0&&D.pageCount()>1&&"virtual"!==$&&"infinite"!==$&&((0,q.k$)(w,J*this._rowHeight),V=!0),!V&&Z?(0,q.k$)(w,0):w.toggle(V),this._updateLastRowBorder(V)}else w.css("height",0),w.show(),this._updateLastRowBorder(!0)}}_getHeightCorrection(){var Z=se.A.webkit&&this._getDevicePixelRatio()>=2,D=se.A.chrome&&se.A.version>=91,U=se.A.mozilla&&se.A.version>=70&&!this.option("showRowLines");return Z||U||D?1:0}_columnOptionChanged(Z){var{optionNames:D}=Z;Z.changeTypes.grouping||(D.width||D.visibleWidth)&&(super._columnOptionChanged(Z),this._fireColumnResizedCallbacks())}getScrollable(){return this._scrollable}init(){var Z=this,D=Z.getController("data");super.init(),Z._editorFactoryController=Z.getController("editorFactory"),Z._rowHeight=0,Z._scrollTop=0,Z._scrollLeft=-1,Z._scrollRight=0,Z._hasHeight=void 0,Z._contentChanges=[],D.loadingChanged.add((U,p)=>{Z.setLoading(U,p)}),D.dataSourceChanged.add(()=>{this._scrollLeft>=0&&!this._dataController.isLoading()&&this._handleScroll({component:this.getScrollable(),forceUpdateScrollPosition:!0,scrollOffset:{top:this._scrollTop,left:this._scrollLeft}})})}_handleDataChanged(Z){switch(Z.changeType){case"refresh":case"prepend":case"append":case"update":this.render(null,Z);break;default:this._update(Z)}}publicMethods(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]}contentWidth(){return(0,oe.RG)(this.element())-this.getScrollbarWidth()}getScrollbarWidth(Z){var D=this._scrollableContainer&&this._scrollableContainer.get(0),U=0;return D&&(Z?(U=D.clientHeight?D.offsetHeight-D.clientHeight:0,U+=function(He){var Z=He.getScrollable();return Z?Math.ceil(parseFloat((0,k.A)(Z.content()).css("paddingBottom"))):0}(this)):U=D.clientWidth?D.offsetWidth-D.clientWidth:0),U>0?U:0}_fireColumnResizedCallbacks(){for(var Z=this._lastColumnWidths||[],D=[],U=this.getColumns(),p=0;p<U.length;p++)D[p]=U[p].visibleWidth,U[p].resizedCallbacks&&!(0,P.O9)(U[p].groupIndex)&&Z[p]!==D[p]&&U[p].resizedCallbacks.fire(D[p]);this._lastColumnWidths=D}_updateLastRowBorder(Z){this.option("showBorders")&&this.option("showRowLines")&&!Z?this.element().addClass(n):this.element().removeClass(n)}_updateScrollable(){var Z=ue.A.getInstance(this.element());Z&&(Z.update(),(Z.option("useNative")||!Z?.isRenovated())&&this._updateHorizontalScrollPosition())}_updateHorizontalScrollPosition(){var Z=this.getScrollable(),D=Z&&Z.scrollOffset().left;if(this.option("rtlEnabled")){var p=_(Z);p-D!==this._scrollRight&&(this._scrollLeft=p-this._scrollRight)}this._scrollLeft>=0&&D!==this._scrollLeft&&Z.scrollTo({x:this._scrollLeft})}_resizeCore(){var Z=this;Z._fireColumnResizedCallbacks(),Z._updateRowHeight(),(0,_e.zE)(()=>{Z._renderScrollable(),Z.renderNoDataText(),Z.updateFreeSpaceRowHeight(),(0,_e.OX)(()=>{Z._updateScrollable()})})}scrollTo(Z){var D=this.element(),U=D&&ue.A.getInstance(D);U&&U.scrollTo(Z)}height(Z){var D=this.element();if(0===arguments.length)return D?(0,oe.P$)(D,!0):0;(0,P.O9)(Z)&&D&&(this.hasHeight("auto"!==Z),(0,q.k$)(D,Z))}hasHeight(Z){if(0===arguments.length)return!!this._hasHeight;this._hasHeight=Z}setLoading(Z,D){var U=this._loadPanel,p=this._dataController,w=this.option("loadPanel")||{},V=p.isLoaded()?w.animation:null,J=this.element();if((0,Y.Vd)()&&(!U&&void 0!==D&&p.isLocalStore()&&"auto"===w.enabled&&J&&(this._renderLoadPanel(J,J.parent()),U=this._loadPanel),U)){var $={message:D||w.text,animation:V,visible:Z};Z&&($.position=b.A.calculateLoadPanelPosition(J)),clearTimeout(this._hideLoadingTimeoutID),U.option("visible")&&!Z?this._hideLoadingTimeoutID=setTimeout(()=>{U.option($)},200):U.option($)}}setRowsOpacity(Z,D){var U=this._getRowElements().not(".".concat(S))||[];this._setRowsOpacityCore(U,this.getColumns(),Z,D)}_getCellElementsCore(Z){var D=super._getCellElementsCore.apply(this,arguments);if(D){var U=D.filter(".".concat(I)).index();if(U>=0&&D.length>U+1)return D.slice(0,U+1)}return D}_getBoundaryVisibleItemIndex(Z,D){var U=0,p=0,w=0,V=this._scrollTop,J=this._findContentElement(),$=J&&J.offset().top,de=this.getController("data").items(),Te=this.getTableElement();if(de.length&&Te){var Ne=this._getRowElements(Te).filter(":visible");for(Z||(V+=(0,oe.P$)(this._hasHeight?this.element():(0,Y.zk)())),U=0;U<de.length;U++){p=w;var r=(0,k.A)(Ne).eq(U);if(r.length&&(w=r.offset(),(w=(Z?w.top:w.top+(0,oe.P$)(r))-$)>V)){U&&(D||2*V<Math.round(w+p))&&U--;break}}U&&U===de.length&&U--}return U}getTopVisibleItemIndex(Z){return this._getBoundaryVisibleItemIndex(!0,Z)}getBottomVisibleItemIndex(Z){return this._getBoundaryVisibleItemIndex(!1,Z)}getTopVisibleRowData(){var Z=this.getTopVisibleItemIndex(),D=this._dataController.items();if(D[Z])return D[Z].data}_scrollToElement(Z,D){var U=this.getScrollable();U&&U.scrollToElement(Z,D)}optionChanged(Z){switch(super.optionChanged(Z),Z.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"dataRowTemplate":case"twoWayBindingEnabled":this._invalidate(!0,!0),Z.handled=!0;break;case"scrolling":this._rowHeight=null,this._tableElement=null,Z.handled=!0;break;case"rtlEnabled":this._rowHeight=null,this._tableElement=null;break;case"loadPanel":this._tableElement=null,this._invalidate(!0,"loadPanel.enabled"!==Z.fullName),Z.handled=!0;break;case"noDataText":this.renderNoDataText(),Z.handled=!0}}setAriaOwns(Z,D){var U,p=this._findContentElement(),w=this.getTableElement();w?.length&&this.setAria("owns","".concat(Z??""," ").concat(null!==(U=w.attr("id"))&&void 0!==U?U:""," ").concat(D??"").trim(),p)}dispose(){super.dispose(),clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()}setScrollerSpacing(){}_restoreErrorRow(){}}}}},56:(Mt,dt,i)=>{i.d(dt,{j:()=>q});var be=i(186),k=i(2463),se=i(4435),_e=i(7951);function he(P,Y,Ee,re,j,ue){ue=ue||[],(re=re||[])[Ee=Ee||0]=re[Ee]||0;var d,b=P[Ee],a=0;if(b){for(d=ue[Ee]+1||0;d<b.length;d++){var m=b[d],S=d+re[Ee],I=m.colspan||1;if(he(P,Y,Ee+(m.rowspan||1),re,I,ue),re[Ee]+=I-1,a+=I,m.rowspan)for(var N=Ee+1;N<Ee+m.rowspan;N++)re[N]=re[N]||0,re[N]+=m.colspan||1;if(!1===Y(m,S,Ee,d)||void 0!==j&&a>=j)break}ue[Ee]=d}}function Ce(P,Y,Ee){var re=[];he(P,(ue,b,c)=>{var d,a=ue,m=a.colspan||1,S=b+m-1>=Y&&b<Ee;if(re[c]=re[c]||[],S)b<Y?(d=m-(Y-b),b=Y):d=m,b+d>Ee&&(d=Ee-b),d!==m&&(a=(0,_e.X)({},a,{colspan:d})),re[c].push(a);else if(b>Ee)return!1});for(var j=0;j<re.length;j++)re[j]=re[j]||[];return re}var ae={_resizeCore(){this.callBase.apply(this,arguments),this._columnsController.resize()},_handleScroll(P){var Y=this.getScrollable(),{left:Ee}=P.scrollOffset;this.callBase.apply(this,arguments),this.option("rtlEnabled")&&Y&&(Ee=(0,be.RG)(Y.$content())-(0,be.RG)(Y.$element())-Ee),this._columnsController.setScrollPosition(Ee)},_restoreScrollTop(){var P=this.getScrollable(),Y=P?.scrollTop();this._scrollTop>0&&Y!==this._scrollTop&&P.scrollTo({y:this._scrollTop})},_renderCore(P){if(P?.virtualColumnsScrolling){var Y=()=>{this.resizeCompleted.remove(Y),this._restoreScrollTop()};this.resizeCompleted.add(Y)}return this.callBase.apply(this,arguments)}},oe={_renderCore(){var P=this.callBase.apply(this,arguments);return this._columnsController.isVirtualMode()&&this._updateScrollLeftPosition(),P}},q={defaultOptions:()=>({scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}),extenders:{controllers:{columns:function(){var P=function(Ee){return Ee.map(re=>re.visibleWidth||parseFloat(re.width)||50)},Y={init(){this.callBase.apply(this,arguments),this._beginPageIndex=null,this._endPageIndex=null,this._position=0,this._virtualVisibleColumns={}},resetColumnsCache(){this.callBase(),this._virtualVisibleColumns={}},getBeginPageIndex(Ee){for(var re=this.getVisibleColumns(void 0,!0),j=P(re),ue=0,b=0;b<j.length;b++){if(ue>=Ee)return Math.floor(b/this.getColumnPageSize());ue+=j[b]}return 0},getTotalWidth(){var Ee=this.option("width");return"number"==typeof Ee?Ee:this.getController("resizing")._lastWidth||(0,be.Ot)(this.component.$element())},getEndPageIndex(Ee){var re=this.getVisibleColumns(void 0,!0),j=P(re),ue=0;Ee+=this.getTotalWidth();for(var b=0;b<j.length;b++){if(ue>=Ee)return Math.ceil(b/this.getColumnPageSize());ue+=j[b]}return Math.ceil(j.length/this.getColumnPageSize())},getColumnPageSize(){return this.option("scrolling.columnPageSize")},_fireColumnsChanged(){var Ee=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,virtualColumnsScrolling:!0,length:2}}),this._renderTime=new Date-Ee},getScrollingTimeout(){var Ee=this.option("scrolling.columnRenderingThreshold"),re=this.option("scrolling.renderAsync"),j=0;return(!(0,k.O9)(re)&&this._renderTime>Ee||re)&&(j=this.option("scrolling.timeout")),j},setScrollPosition(Ee){var re=this.getScrollingTimeout();re>0?(clearTimeout(this._changedTimeout),this._changedTimeout=setTimeout(()=>{this._setScrollPositionCore(Ee)},re)):this._setScrollPositionCore(Ee)},isVirtualMode(){return(0,se.Vd)()&&"virtual"===this.option("scrolling.columnRenderingMode")},resize(){this._setScrollPositionCore(this._position)},_setScrollPositionCore(Ee){if(this.isVirtualMode()){var re=this.getBeginPageIndex(Ee),j=this.getEndPageIndex(Ee),ue=Ee<this._position?this._beginPageIndex>re:this._endPageIndex<j;this._position=Ee,ue&&(this._beginPageIndex=re,this._endPageIndex=j,this._fireColumnsChanged())}},getFixedColumns(Ee,re){var j=this.callBase(Ee);if(this.isVirtualMode()&&!re&&j.length){var ue=j.map(b=>b.command).indexOf("transparent");return j[ue].colspan=this.getVisibleColumns().length-this.callBase().length+1,j}return j},_compileVisibleColumns(Ee,re){var j;if(re||!this.isVirtualMode()||!this._shouldReturnVisibleColumns())return this.callBase(Ee);null!==(j=this._columns)&&void 0!==j&&j.length&&!(0,k.O9)(this._beginPageIndex)&&!(0,k.O9)(this._endPageIndex)&&(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));var ue=this._beginPageIndex,b=this._endPageIndex,c="".concat(Ee,"-").concat(ue,"-").concat(b);if(this._virtualVisibleColumns[c])return this._virtualVisibleColumns[c];var a=this.callBase(),d=this.getRowCount(),m=this.getColumnPageSize(),S=ue*m,I=b*m,N=this.getFixedColumns(void 0,!0),xe=N.map(F=>F.command).indexOf("transparent"),Pe=N.length?xe:0,Ie=a.slice(0,Pe),B=a.slice(Pe,S),n=P(B).reduce((F,te)=>F+te,0);n||(S=0);var g=N.length?N.length-xe-1:0,o=a.slice(a.length-g),l=a.slice(I,a.length-g),_=P(l).reduce((F,te)=>F+te,0);if(_||(I=a.length),d>1&&"number"==typeof Ee){for(var h=[],C=0;C<=d;C++)h.push(this.callBase(C));Ie=Ce(h,0,Ie.length)[Ee]||[],o=Ce(h,a.length-o.length,a.length)[Ee]||[],a=Ce(h,S,I)[Ee]||[]}else a=a.slice(S,I);return n&&(a.unshift({command:"virtual",width:n}),a=Ie.concat(a)),_&&(a.push({command:"virtual",width:_}),a=a.concat(o)),this._virtualVisibleColumns[c]=a,a},getColumnIndexOffset(){var Ee=0;if(this._beginPageIndex>0){var j=this.getFixedColumns().map(b=>b.command).indexOf("transparent"),ue=j>=0?j:0;Ee=this._beginPageIndex*this.getColumnPageSize()-ue-1}return Ee>0?Ee:0},dispose(){clearTimeout(this._changedTimeout),this.callBase.apply(this,arguments)}};return Y}()},views:{columnHeadersView:oe,rowsView:ae}}}},5965:(Mt,dt,i)=>{i.d(dt,{f:()=>v});var be=i(4292),k=i(9263),se=i(2984),_e=i(7963),he=i(2101),Ce=i(448),le=i(186),ae=i(2463),oe=i(4435),ee=i(1100),q=i(7310),P=i(5207),Y=i(4441),Ee=i(6221),re=i(4423),j=i(1269),ue="scrolling.legacyMode",b=f=>f.option("scrolling.loadTwoPagesOnStart")||f._controller.isVirtual()||f._controller.getViewportItemIndex()>0,c=f=>f._cache.length?f._cache[0].pageIndex:-1,a=f=>f._cache.length?f._cache[f._cache.length-1].pageIndex:-1,d=(f,s,t)=>{f._isChangedFiring=!0,s(t),f._isChangedFiring=!1},m=(f,s,t)=>{if(f._isDelayChanged)return f._isDelayChanged=!1,d(f,s,t),!0},I=(f,s)=>{var t=f.option("scrolling.preloadEnabled"),u=(f=>{var s=f._dataOptions.pageSize();if(f.option("scrolling.preventPreload"))return 0;var u=f._controller.viewportSize();if(f._controller.isVirtualMode()&&f.option("scrolling.removeInvisiblePages")){u=0;for(var y=f._controller.viewportSize()*f._controller.viewportItemSize(),K=f._controller.getContentOffset(),pe=f._controller.getViewportPosition(),we=f._controller.virtualItemsCount(),R=f._dataOptions.totalItemsCount(),z=we.begin;z<R&&!(K>=pe+y);z++)(K+=f._controller.getItemSizes()[z]||f._controller.viewportItemSize())>=pe&&u++}return s&&u>0?Math.ceil(u/s):1})(f),y=f._controller.isAppendMode();return u&&(s?u=t?1:0:(t&&u++,(y||!b(f))&&u--)),u},Pe=(f,s,t,u,y)=>{var K=f._dataOptions,pe=K.items().slice(),we=(0,ae.Gv)(t)?t:void 0,R="prepend"===t,z=K.viewportItems();t&&(0,ae.Kg)(t)&&!f._isDelayChanged&&(we={changeType:t,items:pe},y&&(we.removeCount=y.itemsCount,we.removeCount&&K.correctCount&&(we.removeCount=K.correctCount(z,we.removeCount,R))));var fe=y?y.itemsLength:0;fe&&K.correctCount&&(fe=K.correctCount(z,fe,R)),"append"===t?(z.push.apply(z,pe),y&&z.splice(0,fe)):R?(z.unshift.apply(z,pe),y&&z.splice(-fe)):f._dataOptions.viewportItems(pe),K.updateLoading(),f._lastPageIndex=f.pageIndex(),f._isDelayChanged=u,u||d(f,s,we)};class Ie{constructor(s,t){this._dataOptions=t,this._controller=s,this._pageIndex=this._lastPageIndex=t.pageIndex(),this._cache=[],this._loadingPageIndexes={}}option(){return this._controller.option.apply(this._controller,arguments)}viewportItemIndexChanged(s){var we,t=this._dataOptions.pageSize(),u=this._dataOptions.pageCount(),y=this._controller.isVirtualMode(),K=this._controller.isAppendMode(),pe=this._dataOptions.totalItemsCount();if(t&&(y||K)&&pe>=0){var R=this._controller.viewportSize();if(R&&s+R>=pe&&!this._controller.isVirtual())if(this._dataOptions.hasKnownLastPage()){var z=pe%t;(we=u-1)>0&&z>0&&z<R&&we--}else we=u;else{we=Math.floor(s/t);var fe=u-1;we=Math.max(we,0),we=Math.min(we,fe)}return this.pageIndex(we),this.load()}}pageIndex(s){var t=this._controller.isVirtualMode(),u=this._controller.isAppendMode();return!1!==this.option(ue)&&(t||u)?(void 0!==s&&(this._pageIndex=s),this._pageIndex):this._dataOptions.pageIndex(s)}beginPageIndex(s){var t=c(this);return t<0&&(t=void 0!==s?s:this.pageIndex()),t}endPageIndex(){var s=a(this);return s>0?s:this._lastPageIndex}pageSize(){return this._dataOptions.pageSize()}load(){var t,s=this._dataOptions,u=this._controller.isVirtualMode(),y=this._controller.isAppendMode();if(!1!==this.option(ue)&&(u||y)){var K=(f=>{var s=-1,t=c(f),u=f._dataOptions;return t<0?s=f._pageIndex:f._cache[f._pageIndex-t]?t>=0&&f._controller.viewportSize()>=0&&(t>0&&(a(f)+1===u.pageCount()&&f._cache.length<I(f)+1||f._pageIndex===t&&I(f,!0))&&(s=t-1),s<0&&t+f._cache.length<=f._pageIndex+I(f)&&(s=t+f._cache.length)):s=f._pageIndex,f._loadingPageIndexes[s]&&(s=-1),s})(this);if(K>=0){var pe=((f,s)=>{var t=f._dataOptions;if(s===f.pageIndex()||!t.isLoading()&&s<t.pageCount()||!t.hasKnownLastPage()&&s===t.pageCount())return t.pageIndex(s),f._loadingPageIndexes[s]=!0,(0,se.z7)(t.load()).always(()=>{f._loadingPageIndexes[s]=!1})})(this,K);pe&&(t=new se.cY,pe.done(()=>{var we=this._delayDeferred;we?we.done(t.resolve).fail(t.reject):t.resolve()}).fail(t.reject),s.updateLoading())}}else t=s.load();return!t&&this._lastPageIndex!==this.pageIndex()&&this._dataOptions.onChanged({changeType:"pageIndex"}),t||(new se.cY).resolve()}loadIfNeed(){var s=this._controller.isVirtualMode(),t=this._controller.isAppendMode();if((s||t)&&!this._dataOptions.isLoading()&&(!this._isChangedFiring||this._controller.isVirtual())){var u=this._controller.getViewportPosition();u>0?this._controller._setViewportPositionCore(u):this.load()}}handleDataChanged(s,t){var K,pe,u=this._dataOptions,y=this._cache.length,we=this._controller.isVirtualMode(),R=this._controller.isAppendMode();if(t&&t.changes)d(this,s,t);else if(!1!==this.option(ue)&&(we||R)){var z=c(this);if(z>=0&&(we&&z+this._cache.length!==u.pageIndex()&&z-1!==u.pageIndex()&&(y=0,this._cache=[]),R))if(0===u.pageIndex())this._cache=[];else if(u.pageIndex()<a(this))return void d(this,s,{changeType:"append",items:[]});var Me,fe={pageIndex:u.pageIndex(),itemsLength:u.items(!0).length,itemsCount:this.itemsCount(!0)};this.option("scrolling.removeInvisiblePages")&&we?pe=this._cache.length>Math.max(I(this)+(this.option("scrolling.preloadEnabled")?1:0),2):m(this,s,{isDelayed:!0}),z===u.pageIndex()+1?(pe&&(Me=this._cache.pop()),K="prepend",this._cache.unshift(fe)):(pe&&(Me=this._cache.shift()),K="append",this._cache.push(fe));var ze=we&&0===y&&b(this);Pe(this,s,this._cache.length>1?K:void 0,ze,Me),this._delayDeferred=this.load().done(()=>{m(this,s)&&this.load()})}else Pe(this,s,t)}getDelayDeferred(){return this._delayDeferred}itemsCount(s){var t=0,u=this._controller.isVirtualMode();return!s&&u?this._cache.forEach(y=>{t+=y.itemsCount}):t=this._dataOptions.itemsCount(),t}virtualItemsCount(){var s=c(this);s<0&&(s=this._dataOptions.pageIndex());var t=s*this._dataOptions.pageSize(),u=this._cache.length*this._dataOptions.pageSize();return{begin:t,end:Math.max(0,this._dataOptions.totalItemsCount()-u-t)}}reset(){this._loadingPageIndexes={},this._cache=[]}}var n="virtual",g="scrolling.legacyMode",o=f=>f.option("scrolling.mode")===n||f._isVirtual;function _(f,s,t){var u,y=[],K=[],pe=[];function we(Me){var ze=Me.element?Me.$element():Me,tt=Y.A.offset(ze);return tt?Me.scrollTop()-(tt.top-f.offset().top):f.offset().top}var Me,ze,R={on(Me,ze,tt){Me.on("scroll",tt)},off(Me,ze,tt){Me.off("scroll",tt)}};function z(Me){var ze="#document"===Me.get(0).nodeName,tt=Me.get(0).nodeType===(0,oe.zk)().Node.ELEMENT_NODE,ht=Me.data("dxScrollable"),St=R;if(ht||(ht=ze&&(0,be.A)((0,oe.zk)())||tt&&"auto"===Me.css("overflowY")&&Me,St=j.A,ht)){var xt=function(Tt){return function(){var Pt=Tt.scrollTop()-we(Tt);s(Pt=Pt>0?Pt:0)}}(ht);St.on(ht,"scroll",xt),K.push(Tt=>{var Pt=we(ht);Tt-Pt>=0&&ht[ht.scrollTo?"scrollTo":"scrollTop"](Tt+Pt)}),y.push(ht),pe.push(()=>{St.off(ht,"scroll",xt)})}}for(u=(t=t||f).parent();u.length;void 0,u=(0,be.A)(null!==(ze=(Me=u).get(0).parentNode)&&void 0!==ze?ze:Me.get(0).host))z(u);return{scrollTo(Me){(0,he.__)(K,(ze,tt)=>{tt(Me)})},dispose(){(0,he.__)(pe,(Me,ze)=>{ze()})}}}var f,h=Ee.A.inherit((f={ctor(s,t,u){this._dataOptions=t,this.component=s,this._viewportSize=!1===s.option(g)?15:0,this._viewportItemSize=20,this._viewportItemIndex=0,this._position=0,this._isScrollingBack=!1,this._contentSize=0,this._itemSizes={},this._sizeRatio=1,this._isVirtual=u,this.positionChanged=(0,re.A)(),this._dataLoader=new Ie(this,this._dataOptions)},getItemSizes(){return this._itemSizes},option(){return this.component.option.apply(this.component,arguments)},isVirtual(){return this._isVirtual},virtualItemsCount(){if(o(this)){var s=this._dataOptions,t=s.totalItemsCount();if(!1===this.option(g)&&-1!==t){var u=this.getViewportParams(),y=s.loadedOffset(),K=s.loadedItemCount(),pe=Math.max(u.skip,y),we=Math.min(u.take,K);return{begin:pe,end:Math.max(t-(pe+we),0)}}return this._dataLoader.virtualItemsCount.apply(this._dataLoader,arguments)}},getScrollingTimeout(){var s,t=this.option("scrolling.renderAsync"),u=0;return(0,ae.O9)(t)?t&&(u=null!==(s=this.option("scrolling.timeout"))&&void 0!==s?s:0):(u=Math.min(this.option("scrolling.timeout")||0,this._dataOptions.changingDuration()))<this.option("scrolling.renderingThreshold")&&(u=this.option("scrolling.minTimeout")||0),u},setViewportPosition(s){var t=new se.cY,u=this.getScrollingTimeout();return clearTimeout(this._scrollTimeoutID),u>0?this._scrollTimeoutID=setTimeout(()=>{this._setViewportPositionCore(s),t.resolve()},u):(this._setViewportPositionCore(s),t.resolve()),t.promise()},getViewportPosition(){return this._position},getItemIndexByPosition(s,t,u){s=s??this._position;for(var y=this.getItemSize(),K=0,pe=0,we=Object.keys(this._itemSizes).concat(-1),R=0;R<we.length&&K<s;R++){var z=parseInt(we[R]),fe=(s-K)/y;if(z<0||pe+fe<z){pe+=fe,this._sizeRatio<1&&(0,ae.O9)(t)&&(pe=t+u/this._viewportItemSize);break}K+=(fe=z-pe)*y,pe+=fe;var Me=this._itemSizes[z];pe+=(K+=Me)<s?1:(s-K+Me)/Me}return Math.round(50*pe)/50},isScrollingBack(){return this._isScrollingBack},_setViewportPositionCore(s){var t=this._position||0;this._position=s,t!==this._position&&(this._isScrollingBack=this._position<t);var u=this.getItemIndexByPosition(),y=this.setViewportItemIndex(u);return this.positionChanged.fire(),y},setContentItemSizes(s){var t=this.virtualItemsCount();if(this._contentSize=s.reduce((K,pe)=>K+pe,0),t){s.forEach((K,pe)=>{this._itemSizes[t.begin+pe]=K});var u=(t.begin+t.end+this.itemsCount())*this._viewportItemSize,y=P.A.getContentHeightLimit(k.A);this._sizeRatio=u>y?y/u:1}},getItemSize(){return this._viewportItemSize*this._sizeRatio},getItemOffset(s,t){var u=this.virtualItemsCount(),y=s;if(!u)return 0;var K=0,pe=this._dataOptions.totalItemsCount();return Object.keys(this._itemSizes).forEach(we=>{y&&(t?we>=pe-s:we<s)&&(K+=this._itemSizes[we],y--)}),Math.floor(K+y*this._viewportItemSize*this._sizeRatio)},getContentOffset(s){var t="end"===s,u=this.virtualItemsCount();return u?this.getItemOffset(t?u.end:u.begin,t):0},getVirtualContentSize(){return this.virtualItemsCount()?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0},getViewportItemIndex(){return this._viewportItemIndex},setViewportItemIndex(s){if(this._viewportItemIndex=s,!1!==this.option(g))return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader,arguments)},viewportItemSize(s){return void 0!==s&&(this._viewportItemSize=s),this._viewportItemSize},viewportSize(s){return void 0!==s&&(this._viewportSize=s),this._viewportSize},viewportHeight(s,t){var u=t??this._position,y=this.getItemIndexByPosition(u),K=this.getItemIndexByPosition(u+s,y,s);this.viewportSize(Math.ceil(K-y)),!(0,ae.O9)(t)&&this._viewportItemIndex!==y&&this._setViewportPositionCore(u)},reset(s){this._dataLoader.reset(),s||(this._itemSizes={})},subscribeToWindowScrollEvents(s){this._windowScroll=this._windowScroll||_(s,t=>{this.viewportItemSize()&&this.setViewportPosition(t)})},dispose(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo(s){this._windowScroll&&this._windowScroll.scrollTo(s)},isVirtualMode(){return o(this)},isAppendMode(){return(f=>"infinite"===f.option("scrolling.mode")&&!f._isVirtual)(this)},getViewportParams(){var s,t=this.option("scrolling.mode")===n,u=this._dataOptions.totalItemsCount(),K=this._dataOptions.hasKnownLastPage()&&this._viewportItemIndex>u?u:this._viewportItemIndex,pe=this._viewportSize+K,we=this.option("scrolling.prerenderedRowChunkSize")||1,R=this.isScrollingBack(),z=null!==(s=this.option("scrolling.prerenderedRowCount"))&&void 0!==s?s:1,Me=R?0:z,ze=Math.floor(Math.max(0,K-(R?z:0))/we)*we,tt=Math.ceil((pe+Me-ze)/we)*we;if(t){var ht=Math.max(0,u-ze);tt=Math.min(tt,ht)}return{skip:ze,take:tt}},itemsCount(){return this.option(g)?this._dataLoader.itemsCount.apply(this._dataLoader,arguments):this._dataOptions.itemsCount()}},["pageIndex","beginPageIndex","endPageIndex","pageSize","load","loadIfNeed","handleDataChanged","getDelayDeferred"].forEach(s=>{f[s]=function(){return this._dataLoader[s].apply(this._dataLoader,arguments)}}),f)),F="bottom-load-panel",X="dx-freespace-row",He="dx-virtual-row",w="scrolling.legacyMode",V="paging.pageIndex",J=function(f){return"virtual"===f.option("scrolling.mode")},$=function(f){return"infinite"===f.option("scrolling.mode")},ye=function(f){return J(f)||$(f)},de=function(f,s,t,u){for(var y=0;y<s+1;y++){var K=f[t?f.length-1-y:y];K&&!u(K,y===s,t)&&s++}return s},Te=function(f,s){return"data"===f.rowType&&!f.isNewRow||"group"===f.rowType&&s.isGroupItemCountable(f.data)},T=function(){var f=function(t){var u=t._virtualScrollController.beginPageIndex(-1);J(t)&&(u<0||t.viewportSize()>=0&&t.getViewportItemIndex()>=0&&(u*t.pageSize()>t.getViewportItemIndex()||u*t.pageSize()+t.itemsCount()<t.getViewportItemIndex()+t.viewportSize())&&t._dataSource.isLoading()?t._isLoading||(t._isLoading=!0,t.loadingChanged.fire(!0)):t._isLoading&&(t._isLoading=!1,t.loadingChanged.fire(!1)))},s={init(){this.callBase.apply(this,arguments),this._items=[],this._totalCount=-1,this._isLoaded=!0,this._loadPageCount=1,this._virtualScrollController=new h(this.component,this._getVirtualScrollDataOptions())},_getVirtualScrollDataOptions(){var t=this;return{pageSize:()=>t.pageSize(),totalItemsCount:()=>t.totalItemsCount(),hasKnownLastPage:()=>t.hasKnownLastPage(),pageIndex:u=>t._dataSource.pageIndex(u),isLoading:()=>t._dataSource.isLoading()&&!t.isCustomLoading(),pageCount:()=>t.pageCount(),load:()=>t._dataSource.load(),updateLoading(){f(t)},itemsCount:()=>t.itemsCount(!0),items:()=>t._dataSource.items(),viewportItems:u=>(u&&(t._items=u),t._items),onChanged(u){t.changed.fire(u)},changingDuration:()=>t.isLoading()?300:t._renderTime||0}},_handleLoadingChanged(t){!1!==this.option(w)?((!J(this)||this._isLoadingAll)&&(this._isLoading=t,this.callBase.apply(this,arguments)),this._startLoadTime=t?new Date:void 0):this.callBase.apply(this,arguments)},_handleLoadError(){!1!==this.option(w)&&(this._isLoading=!1,this.loadingChanged.fire(!1)),this.callBase.apply(this,arguments)},_handleDataChanged(t){if(!1===this.option(w))return this._items=this._dataSource.items().slice(),this._totalCount=this._dataSourceTotalCount(!0),void this.callBase.apply(this,arguments);var u=this.callBase.bind(this);this._virtualScrollController.handleDataChanged(u,t)},_customizeRemoteOperations(t,u){var y=!1===this.option(w),K=this.option("scrolling.renderAsync");(0,ae.O9)(K)||(K=this._renderTime>=this.option("scrolling.renderingThreshold")),(J(this)||$(this)&&y)&&!u.reload&&(u.skip||y)&&!K&&(t.delay=void 0),this.callBase.apply(this,arguments)},items(){return this._items},_dataSourceTotalCount(t){return!1===this.option(w)&&J(this)&&!t?this._totalCount:this.callBase()},itemsCount(t){return t||!1===this.option(w)?this.callBase():this._virtualScrollController.itemsCount()},load(t){return!1===this.option(w)||t?this.callBase(t):this._virtualScrollController.load()},isLoading(){return!1===this.option(w)?this._dataSource.isLoading():this._isLoading},isLoaded(){return this._dataSource.isLoaded()&&this._isLoaded},resetPagesCache(t){t||this._virtualScrollController.reset(!0),this.callBase.apply(this,arguments)},_changeRowExpandCore(){var t=this.callBase.apply(this,arguments);return!1===this.option(w)||(this.resetPagesCache(),f(this)),t},reload(){this._dataSource.pageIndex(this.pageIndex());var t=this._virtualScrollController;if(!1!==this.option(w)&&t){var u=new se.cY;return this.callBase.apply(this,arguments).done(y=>{var K=t.getDelayDeferred();K?K.done(u.resolve).fail(u.reject):u.resolve(y)}).fail(u.reject),u}return this.callBase.apply(this,arguments)},refresh(t,u){if(!1!==this.option(w)){var{storeLoadOptions:y}=t,K=this._dataSource;u.reload?(this._virtualScrollController.reset(),K.items().length=0,this._isLoaded=!1,f(this),this._isLoaded=!0,$(this)?(this.pageIndex(0),K.pageIndex(0),y.pageIndex=0,t.pageIndex=0,y.skip=0):(K.pageIndex(this.pageIndex()),K.paginate()&&(t.pageIndex=this.pageIndex(),y.skip=this.pageIndex()*this.pageSize()))):$(this)&&y.skip&&this._totalCountCorrection<0&&(y.skip+=this._totalCountCorrection)}return this.callBase.apply(this,arguments)},dispose(){this._virtualScrollController.dispose(),this.callBase.apply(this,arguments)},loadPageCount(t){if(!(0,ae.O9)(t))return this._loadPageCount;this._loadPageCount=t},_handleDataLoading(t){var u=this.loadPageCount(),y=this.pageSize(),K=!1===this.option(w),{storeLoadOptions:pe}=t,we=(0,ae.O9)(pe.take);t.loadPageCount=u,!t.isCustomLoading&&K&&we&&u>1&&y>0&&(pe.take=u*y),this.callBase.apply(this,arguments)},_loadPageSize(){return this.callBase.apply(this,arguments)*this.loadPageCount()}};return["beginPageIndex","endPageIndex","pageIndex"].forEach(t=>{s[t]=function(){if(!1===this.option(w)){var u=this._dataSource;return u.pageIndex.apply(u,arguments)}var y=this._virtualScrollController;return y[t].apply(y,arguments)}}),["virtualItemsCount","getContentOffset","getVirtualContentSize","setContentItemSizes","setViewportPosition","getViewportItemIndex","setViewportItemIndex","getItemIndexByPosition","viewportSize","viewportItemSize","getItemSize","getItemSizes","loadIfNeed"].forEach(t=>{s[t]=function(){var u=this._virtualScrollController;return u[t].apply(u,arguments)}}),s}(),r=function(){var f=function(s,t){var u=s.toArray().map(pe=>(0,be.A)(pe).parent(".".concat(t)).get(0)).filter(pe=>pe);u.length&&(s=(0,be.A)(u));for(var y=t===X?s.length-1:s.length,K=0;K<y;K++)s.eq(K).remove()};return{init(){var s,t=this.getController("data");this.callBase(),t.pageChanged.add(u=>{var y=this._scrollTop;this.scrollToPage(u??t.pageIndex()),!1===this.option(w)&&this._scrollTop===y&&t.updateViewport()}),t.dataSourceChanged.add(()=>{!this._scrollTop&&this._scrollToCurrentPageOnResize()}),null===(s=t.stateLoaded)||void 0===s||s.add(()=>{this._scrollToCurrentPageOnResize()}),this._scrollToCurrentPageOnResize()},_scrollToCurrentPageOnResize(){var s=this.getController("data");if(s.pageIndex()>0){var t=()=>{this.resizeCompleted.remove(t),this.scrollToPage(s.pageIndex())};this.resizeCompleted.add(t)}},scrollToPage(s){var y,t=this._dataController,u=t?t.pageSize():0;if(J(this)||$(this)){var K=t.getItemSize(),pe=t.getItemSizes(),we=s*u;for(var R in y=we*K,pe)parseInt(R)<we&&(y+=pe[R]-K)}else y=0;this.scrollTo({y,x:this._scrollLeft})},renderDelayedTemplates(){this.waitAsyncTemplates().done(()=>{this._updateContentPosition(!0)}),this.callBase.apply(this,arguments)},_renderCore(s){var t=new Date,u=this.callBase.apply(this,arguments),y=this._dataController._dataSource;if(y&&s){var K=s.items?s.items.length:20,pe=this._dataController.viewportSize()||20;y._renderTime=P.A.isVirtualRowRendering(this)&&K>0&&!1!==this.option(w)?(new Date-t)*pe/K:new Date-t}return u},_getRowElements(s){var t=this.callBase(s);return t&&t.not(".".concat(He))},_removeRowsElements(s,t,u){var y=this._getRowElements(s).toArray();y="append"===u?y.slice(0,t):y.slice(-t);var K=this.getController("errorHandling");y.map(pe=>{var we=(0,be.A)(pe);K&&K.removeErrorRow(we.next()),we.remove()})},_updateContent(s,t){var u,y=this._findContentElement(),K=t&&t.changeType,pe=(0,se.cY)(),we=y.children().first();return"append"===K||"prepend"===K?this.waitAsyncTemplates().done(()=>{var R=this._getBodies(s);1===R.length?this._getBodies(we)["append"===K?"append":"prepend"](R.children()):R["append"===K?"appendTo":"prependTo"](we),s.remove(),u=this._getFreeSpaceRowElements(we),f(u,X),t.removeCount&&this._removeRowsElements(we,t.removeCount,K),this._restoreErrorRow(we),pe.resolve()}).fail(pe.reject):this.callBase.apply(this,arguments).done(()=>{"update"===K&&this._restoreErrorRow(we),pe.resolve()}).fail(pe.reject),pe.promise().done(()=>{this._updateBottomLoading()})},_addVirtualRow(s,t,u,y){if(y){var K=this._createEmptyRow(He,t,y);K=this._wrapRowIfNeed(s,K),this._appendEmptyRow(s,K,u)}},_updateContentItemSizes(){var s=this._getRowHeights(),t=this._correctRowHeights(s);this._dataController.setContentItemSizes(t)},_updateViewportSize(s,t){(0,ae.O9)(s)||(s=(0,le.P$)(this._hasHeight?this.element():(0,oe.zk)())),this._dataController.viewportHeight(s,t)},_getRowHeights(){var s,t,u=null===(t=null===(s=this.getController("editing"))||void 0===s?void 0:s.isPopupEditMode)||void 0===t?void 0:t.call(s),y=this._getRowElements(this._tableElement).toArray();return u&&(y=y.filter(K=>!(0,be.A)(K).hasClass("dx-row-inserted"))),y.map(K=>(0,Ce.N)(K).height)},_correctRowHeights(s){for(var t=this._dataController,u=t._dataSource,y=[],K=t.getVisibleRows(),pe=0,we=!0,R=-1,z=0;z<s.length;z++){var fe=K[z];(0,ae.O9)(fe)&&(!1===this.option(w)?(R>=0&&R!==fe.loadIndex&&(y.push(pe),pe=0),R=fe.loadIndex):Te(fe,u)&&(we?we=!1:(y.push(pe),pe=0)),pe+=s[z])}return pe>0&&y.push(pe),y},_updateContentPosition(s){var t=this._dataController;if(t.viewportItemSize(this._rowHeight||20),J(this)||P.A.isVirtualRowRendering(this)){s||this._updateContentItemSizes();var y=t.getContentOffset("begin"),K=t.getContentOffset("end"),pe=this.getTableElements(),we=pe.children("tbody").children(".".concat(He));f(we,He),pe.each((R,z)=>{var fe=R>0,Me=this._isFixedTableRendering;this._isFixedTableRendering=fe,this._addVirtualRow((0,be.A)(z),fe,"top",y),this._addVirtualRow((0,be.A)(z),fe,"bottom",K),this._isFixedTableRendering=Me})}},_isTableLinesDisplaysCorrect(s){return s.find(".".concat("dx-column-lines")).length>0===this.option("showColumnLines")},_isColumnElementsEqual(s,t){var u=s.length===t.length;return u&&(0,he.__)(s,(y,K)=>{if(K.style.width!==t[y].style.width)return u=!1}),u},_getCellClasses(s){var t=[],{cssClass:u}=s,y="expand"===s.command;return u&&t.push(u),y&&t.push(this.addWidgetPrefix("group-space")),t},_findBottomLoadPanel(s){var t=s||this.element(),u=t&&t.find(".".concat(this.addWidgetPrefix(F)));if(u&&u.length)return u},_updateBottomLoading(){var s=J(this),t=$(this),u=!this._dataController.hasKnownLastPage()&&this._dataController.isLoaded()&&(s||t),y=this._findContentElement(),K=this._findBottomLoadPanel(y);u?K||(0,be.A)("<div>").addClass(this.addWidgetPrefix(F)).append(this._createComponent((0,be.A)("<div>"),ee.A).$element()).appendTo(y):K&&K.remove()},_handleScroll(s){var t=!0===this.option(w);(this._scrollTop!==s.scrollOffset.top||s.forceUpdateScrollPosition)&&(this._hasHeight||!t&&0===s.scrollOffset.top)&&this._rowHeight&&(this._scrollTop=s.scrollOffset.top,(J(this)||"standard"!==this.option("scrolling.rowRenderingMode"))&&!1===this.option(w)&&(this._updateContentItemSizes(),this._updateViewportSize(null,this._scrollTop)),this._dataController.setViewportPosition(s.scrollOffset.top)),this.callBase.apply(this,arguments)},_needUpdateRowHeight(s){return this.callBase.apply(this,arguments)||s>0&&$(this)&&!P.A.isVirtualRowRendering(this)},_updateRowHeight(){if(this.callBase.apply(this,arguments),this._rowHeight){this._updateContentPosition();var s=(0,le.P$)(this._hasHeight?this.element():(0,oe.zk)()),t=this._dataController;!1===this.option(w)?(this._updateViewportSize(s),t.updateViewport()):t.viewportSize(Math.ceil(s/this._rowHeight))}},updateFreeSpaceRowHeight(){var s=this.callBase.apply(this,arguments);return s&&this._updateContentPosition(),s},setLoading(s,t){var u=this._dataController,y=u.pageIndex()>0&&u.isLoaded()&&!!this._findBottomLoadPanel();!1===this.option(w)&&s&&u.isViewportChanging()||(y&&(s=!1),this.callBase.call(this,s,t))},throwHeightWarningIfNeed(){void 0!==this._hasHeight&&!this._hasHeight&&ye(this)&&!this._heightWarningIsThrown&&(this._heightWarningIsThrown=!0,q.A.log("W1025"))},_resizeCore(){var s=this,t=s.element();s.callBase(),this.throwHeightWarningIfNeed(),s.component.$element()&&!s._windowScroll&&(0,_e.A1)(t)&&(s._windowScroll=_(t,u=>{!s._hasHeight&&s._rowHeight&&s._dataController.setViewportPosition(u)},s.component.$element()),s.on("disposing",()=>{s._windowScroll.dispose()})),!1!==this.option(w)&&s.loadIfNeed()},loadIfNeed(){var s,t=this._dataController;null===(s=t?.loadIfNeed)||void 0===s||s.call(t)},_restoreErrorRow(){if(!1===this.option(w)){var s=this.getController("errorHandling");s?.removeErrorRow()}this.callBase.apply(this,arguments)},dispose(){clearTimeout(this._scrollTimeoutID),this.callBase()}}}(),v={defaultOptions:()=>({scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,prerenderedRowChunkSize:1,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1,legacyMode:!1,prerenderedRowCount:1}}),extenders:{dataSourceAdapter:T,controllers:{data:function(){var f={_refreshDataSource(){var s=this.callBase.apply(this,arguments)||(new se.cY).resolve().promise();return s.done(this.initVirtualRows.bind(this)),s},_loadDataSource(){var s;if(this._rowsScrollController&&ye(this)){var{loadPageCount:t}=(0,ae.O9)(this._loadViewportParams)?this.getLoadPageParams():{loadPageCount:void 0};t>=1&&(null===(s=this._dataSource)||void 0===s||s.loadPageCount(t))}return this.callBase.apply(this,arguments)},getRowPageSize(){var s=this.option("scrolling.rowPageSize"),t=this.pageSize();return t&&t<s?t:s},reload(){var s=this._rowsScrollController||this._dataSource,t=s&&s.getItemIndexByPosition(),u=this.callBase.apply(this,arguments);return u&&u.done(()=>{var y;if(J(this)||P.A.isVirtualRowRendering(this)){var K=this.getRowIndexOffset(),pe=Math.floor(t)-K,{component:we}=this,R=we.getScrollable&&we.getScrollable(),z=this.dataSource().operationTypes().sorting;if(R&&!z&&pe>=0){var fe=we.getRowElement(pe),Me=fe&&fe[0]&&(0,be.A)(fe[0]),ze=Me&&Me.position().top,tt=k.A.chrome&&Number(null!==(y=k.A.version)&&void 0!==y?y:0)>=91;ze>(k.A.mozilla||tt?1:0)&&(ze=Math.round(ze+(0,le.P$)(Me)*(t%1)),R.scrollTo({y:ze}))}}})},initVirtualRows(){var s=P.A.isVirtualRowRendering(this);if(this._allItems=null,this._loadViewportParams=null,"virtual"!==this.option("scrolling.mode")&&!s||!s||!1!==this.option(w)&&!this.option("scrolling.rowPageSize"))return this._visibleItems=null,void(this._rowsScrollController=null);var t=!J(this)&&this.pageIndex()>=this.pageCount()?this.pageCount()-1:this.pageIndex();this._rowPageIndex=Math.ceil(t*this.pageSize()/this.getRowPageSize()),this._visibleItems=!1===this.option(w)?null:[],this._viewportChanging=!1,this._needUpdateViewportAfterLoading=!1,this._rowsScrollController||(this._rowsScrollController=new h(this.component,this._getRowsScrollDataOptions(),!0),this._rowsScrollController.positionChanged.add(()=>{var u;if(!1===this.option(w))return this._viewportChanging=!0,this.loadViewport(),void(this._viewportChanging=!1);null===(u=this._dataSource)||void 0===u||u.setViewportItemIndex(this._rowsScrollController.getViewportItemIndex())})),!1===this.option(w)&&this._updateLoadViewportParams(),this.isLoaded()&&!1!==this.option(w)&&this._rowsScrollController.load()},isViewportChanging(){return this._viewportChanging},_getRowsScrollDataOptions(){var s=this,t=function(u){return Te(u,s._dataSource)};return{pageSize:()=>s.getRowPageSize(),loadedOffset(){var u;return J(s)&&(null===(u=s._dataSource)||void 0===u?void 0:u.lastLoadOptions().skip)||0},loadedItemCount:()=>s._itemCount,totalItemsCount:()=>ye(s)?s.totalItemsCount():!1===s.option(w)?s._itemCount:s._items.filter(t).length,hasKnownLastPage:()=>!1!==s.option(w)||s.hasKnownLastPage(),pageIndex:u=>(void 0!==u&&(s._rowPageIndex=u),s._rowPageIndex),isLoading:()=>s.isLoading(),pageCount(){return Math.ceil(this.totalItemsCount()/this.pageSize())||1},load(){s._rowsScrollController.pageIndex()>=this.pageCount()&&(s._rowPageIndex=this.pageCount()-1,s._rowsScrollController.pageIndex(s._rowPageIndex)),(this.items().length||!this.totalItemsCount())&&s._rowsScrollController.handleDataChanged(u=>{(u=u||{}).changeType=u.changeType||"refresh",u.items=u.items||s._visibleItems,s._visibleItems.forEach((y,K)=>{y.rowIndex=K}),s._fireChanged(u)})},updateLoading(){},itemsCount(){return this.items(!0).length},correctCount:(u,y,K)=>de(u,y,K,(pe,we,R)=>pe.isNewRow?we&&!R:we&&R?!pe.isNewRow:t(pe)),items(u){var y=s._items;if(s.option(w)){var K=s.dataSource(),pe=K?.virtualItemsCount(),we=pe?pe.begin:0,R=s.getRowPageSize(),z=s._rowPageIndex*R-we,fe=R;if(z<0)return[];z&&(z=this.correctCount(y,z),y=y.slice(z)),fe&&(fe=this.correctCount(y,fe),y=y.slice(0,fe))}return u?y.filter(t):y},viewportItems:u=>(u&&!1!==s.option(w)&&(s._visibleItems=u),s._visibleItems),onChanged(){},changingDuration(){var u=s.dataSource();return u?.isLoading()&&!1!==s.option(w)?300:u?._renderTime||0}}},_updateItemsCore(s){var t=this.getRowIndexDelta();if(this.callBase.apply(this,arguments),!1===this.option(w)&&P.A.isVirtualRowRendering(this))"update"===s.changeType&&0===s.rowIndices.length&&s.cancelEmptyChanges&&(s.cancel=!0);else{var u=this._rowsScrollController;if(u){var y=this._visibleItems,K="refresh"===s.changeType||s.isLiveUpdate;if("append"===s.changeType&&s.items&&!s.items.length)return;K||"append"===s.changeType||"prepend"===s.changeType?(s.cancel=!0,K&&u.reset(!0),u.load()):("update"===s.changeType?s.rowIndices.forEach((pe,we)=>{var R=s.changeTypes[we],z=s.items[we];"update"===R?y[pe]=z:"insert"===R?y.splice(pe,0,z):"remove"===R&&y.splice(pe,1)}):(y.forEach((pe,we)=>{y[we]=this._items[we+t]||y[we]}),s.items=y),function(f){f.forEach((s,t)=>{s.rowIndex=t})}(y))}}},_updateLoadViewportParams(){var s=this._rowsScrollController.getViewportParams(),t=this.pageSize();if(s&&!ye(this)&&t>0){var u=this.pageIndex()*t;s.skip+=u}this._loadViewportParams=s},_processItems(){var s,t=this.callBase.apply(this,arguments);if(!1===this.option(w)){var K,pe,we,u=this._dataSource,y=null!==(s=u?.lastLoadOptions().skip)&&void 0!==s?s:0,R=!1,z=[];t.forEach(fe=>{var{rowType:Me}=fe,ze=Te(fe,u),tt="group"===Me&&(K||ze||"group"!==pe&&y>0),ht="data"===Me&&ze&&(K||"group"!==pe);!fe.isNewRow&&(0,ae.O9)(K)&&(tt||ht)&&(!we||R)&&y++,(tt||ht)&&(R=!0),fe.isNewRow?z.push(fe):(z.forEach(xt=>{xt.loadIndex=y}),z=[]),fe.loadIndex=y,K=ze,pe=Me,we=fe.isNewRow}),z.forEach(fe=>{fe.loadIndex=y})}return t},_afterProcessItems(s){if(this._itemCount=s.filter(pe=>Te(pe,this._dataSource)).length,(0,ae.O9)(this._loadViewportParams)){this._updateLoadViewportParams();var t=s;if(this._allItems=s,s.length){var{skipForCurrentPage:u}=this.getLoadPageParams(!0),y=s[0].loadIndex+u,{take:K}=this._loadViewportParams;t=s.filter(pe=>pe.loadIndex>=y&&(pe.loadIndex<y+K||pe.isNewRow&&pe.loadIndex===y&&0===K))}return t}return this.callBase.apply(this,arguments)},_applyChange(s){var t=this,{items:u}=s,{changeType:y}=s,{removeCount:K}=s;switch(K&&(K=de(t._items,K,"prepend"===y,(we,R)=>"data"===we.rowType&&!we.isNewRow||"group"===we.rowType&&(t._dataSource.isGroupItemCountable(we.data)||R)),s.removeCount=K),y){case"prepend":t._items.unshift.apply(t._items,u),K&&t._items.splice(-K);break;case"append":t._items.push.apply(t._items,u),K&&t._items.splice(0,K);break;default:t.callBase(s)}},items(s){return s?this._allItems||this._items:this._visibleItems||this._items},getRowIndexDelta(){var s=0;if(this.option(w)){var t=this._visibleItems;t&&t[0]&&(s=this._items.indexOf(t[0]))}return s<0?0:s},getRowIndexOffset(s,t){var u,y,K=0,pe=this.dataSource(),we=this._rowsScrollController,R=!1===this.option(w),z=ye(this);if(we&&!s)if(R&&(0,ae.O9)(this._loadViewportParams)){var{skipForCurrentPage:fe,pageIndex:Me}=this.getLoadPageParams(!0),ze=this.items(!0);if(K=z?Me*this.pageSize():0,ze.length){var tt=ze[0].loadIndex;K+=ze.filter(St=>St.loadIndex<tt+fe).length}}else K=we.beginPageIndex()*we.pageSize();else if(z&&R&&pe){var ht=pe.lastLoadOptions();K=t&&null!==(u=ht.skips)&&void 0!==u&&u.length?ht.skips.reduce((St,xt)=>St+xt,0):null!==(y=ht.skip)&&void 0!==y?y:0}else J(this)&&pe&&(K=pe.beginPageIndex()*pe.pageSize());return K},getDataIndex(){return!1===this.option(w)?this.getRowIndexOffset(!0,!0):this.callBase.apply(this,arguments)},viewportSize(){var s=this._rowsScrollController,t=this._dataSource,u=s?.viewportSize.apply(s,arguments);return!1===this.option(w)?u:t?.viewportSize.apply(t,arguments)},viewportHeight(s,t){var u;null===(u=this._rowsScrollController)||void 0===u||u.viewportHeight(s,t)},viewportItemSize(){var s=this._rowsScrollController,t=this._dataSource,u=s?.viewportItemSize.apply(s,arguments);return!1===this.option(w)?u:t?.viewportItemSize.apply(t,arguments)},setViewportPosition(){var s=this._rowsScrollController,t=this._dataSource;this._isPaging=!1,s?s.setViewportPosition.apply(s,arguments):t?.setViewportPosition.apply(t,arguments)},setContentItemSizes(s){var t=this._rowsScrollController,u=this._dataSource,y=t?.setContentItemSizes(s);return!1===this.option(w)?y:u?.setContentItemSizes(s)},getPreloadedRowCount(){var s=this.option("scrolling.preloadedRowCount"),t=this.option("scrolling.preloadEnabled");if((0,ae.O9)(s))return s;var u=this.viewportSize();return t?2*u:u},getLoadPageParams(s){var t,u,y=this.pageSize(),K=this._loadViewportParams,pe=null===(t=this._dataSource)||void 0===t?void 0:t.lastLoadOptions(),we=pe?.pageIndex||0,R=pe?.take||0,z=this._rowsScrollController.isScrollingBack(),fe=z?this.getPreloadedRowCount():0,Me=z?0:this.getPreloadedRowCount(),ze=(null===(u=this._dataSource)||void 0===u?void 0:u.totalCountCorrection())||0,tt=Math.max(0,K.skip-fe),ht=s?we:Math.floor(y?tt/y:0),xt=K.skip-ht*y,Ht=Math.ceil(y?(s?R:K.take+xt+Me-ze)/y:0);return{pageIndex:ht,loadPageCount:Math.max(1,Ht),skipForCurrentPage:Math.max(0,xt)}},_updateVisiblePageIndex(s){if(this._rowsScrollController){if((0,ae.O9)(s))return this._silentOption(V,s),void this.pageChanged.fire();var t=this._rowsScrollController.getViewportItemIndex(),u=Math.floor(t/this.pageSize());this.pageIndex()!==u&&(this._silentOption(V,u),this.updateItems({changeType:"pageIndex"}))}},_getChangedLoadParams(){var s=this.getLoadPageParams(!0),{pageIndex:t,loadPageCount:u}=this.getLoadPageParams(),y=this._pageIndexIsValid(t),K=null;return!this._isLoading&&y&&(t!==s.pageIndex||u!==s.loadPageCount)&&(K={pageIndex:t,loadPageCount:u}),K},_pageIndexIsValid(s){var t=!0;return($(this)&&this.hasKnownLastPage()||J(this))&&(t=s*this.pageSize()<this.totalItemsCount()),t},_loadItems(s,t){var u,y,K=ye(this),pe=this._dataSource,we=this._getChangedLoadParams(),R=null!==(u=pe?.loadPageCount())&&void 0!==u?u:0,z=this.pageSize()*R,fe=null!==(y=pe?.pageIndex())&&void 0!==y?y:0,Me=we?.pageIndex===fe,ze=$(this)&&this.totalItemsCount()<z,tt="repaint"===this.option("editing.refreshMode"),St=!1;if(!pe||K&&s&&(tt&&t||we?.pageIndex>fe||Me&&ze))return St;if(K&&this._isLoading&&(this._needUpdateViewportAfterLoading=!0),K&&we){St=!0,pe.pageIndex(we.pageIndex),pe.loadPageCount(we.loadPageCount),this._repaintChangesOnly=!0,this._needUpdateDimensions=!0;var xt=this._viewportChanging;this.load().always(()=>{this._repaintChangesOnly=void 0,this._needUpdateDimensions=void 0}).done(()=>{var Tt=this.pageCount()>0&&this.pageIndex()===this.pageCount()-1;(xt||Tt)&&this._updateVisiblePageIndex(),this._needUpdateViewportAfterLoading&&(this._needUpdateViewportAfterLoading=!1,this.loadViewport({checkLoadedParamsOnly:!0}))})}return St},loadViewport(s){var t,u,y,{checkLoadedParamsOnly:K,checkLoading:pe,viewportIsNotFilled:we}=s??{};if(ye(this)||P.A.isVirtualRowRendering(this)){this._updateLoadViewportParams();var z=this._loadItems(pe,!we),fe=null===(t=this._dataSource)||void 0===t?void 0:t.isCustomLoading();if(!(z||pe&&!fe&&this._isLoading||K)){var tt=!(null!==(y=null===(u=this.getController("editing"))||void 0===u?void 0:u.getChanges())&&void 0!==y&&y.length);this.updateItems({repaintChangesOnly:!0,needUpdateDimensions:!0,useProcessedItemsCache:tt,cancelEmptyChanges:!0})}}},updateViewport(){var s,t,u=this.viewportSize(),y=this.items().length,K=u>y,pe=null!==(t=null===(s=this._loadViewportParams)||void 0===s?void 0:s.take)&&void 0!==t?t:0,we=this._rowsScrollController,R=we?.getViewportParams().take;(K||pe<R)&&!this._isPaging&&y&&this.loadViewport({checkLoading:!0,viewportIsNotFilled:K})},loadIfNeed(){if(!1!==this.option(w)){var s=this._rowsScrollController;s&&s.loadIfNeed();var t=this._dataSource;return t&&t.loadIfNeed()}},getItemSize(){var s=this._rowsScrollController;if(s)return s.getItemSize.apply(s,arguments);var t=this._dataSource;return t&&t.getItemSize.apply(t,arguments)},getItemSizes(){var s=this._rowsScrollController;if(s)return s.getItemSizes.apply(s,arguments);var t=this._dataSource;return t&&t.getItemSizes.apply(t,arguments)},getContentOffset(){var s=this._rowsScrollController;if(s)return s.getContentOffset.apply(s,arguments);var t=this._dataSource;return t&&t.getContentOffset.apply(t,arguments)},refresh(s){var t=this._dataSource;return t&&s&&s.load&&$(this)&&t.resetCurrentTotalCount(),this.callBase.apply(this,arguments)},dispose(){var s=this._rowsScrollController;s&&s.dispose(),this.callBase.apply(this,arguments)},topItemIndex(){var s;return null===(s=this._loadViewportParams)||void 0===s?void 0:s.skip},bottomItemIndex(){var s=this._loadViewportParams;return s&&s.skip+s.take},virtualItemsCount(){var s=this._rowsScrollController;if(s)return s.virtualItemsCount.apply(s,arguments);var t=this._dataSource;return t?.virtualItemsCount.apply(t,arguments)},pageIndex(s){var t,u=ye(this),y=this._rowsScrollController;return!1===this.option(w)&&u&&y&&void 0===s?null!==(t=this.option(V))&&void 0!==t?t:0:this.callBase.apply(this,arguments)},_fireChanged(s){this.callBase.apply(this,arguments);var{operationTypes:t}=s;if(!1===this.option(w)&&ye(this)&&t){var{fullReload:u,pageIndex:y}=t;s.isDataChanged&&!u&&y&&this._updateVisiblePageIndex(this._dataSource.pageIndex())}},_getPagingOptionValue(s){var t=this.callBase.apply(this,arguments);return!1===this.option(w)&&ye(this)&&(t=this[s]()),t},isEmpty(){return!1===this.option(w)?!this.items(!0).length:this.callBase(this,arguments)},isLastPageLoaded(){var s=!1;if(!1===this.option(w)&&ye(this)){var{pageIndex:t,loadPageCount:u}=this.getLoadPageParams(!0);s=t+u>=this.pageCount()}else s=this.callBase.apply(this,arguments);return s},reset(){this._itemCount=0,this._allItems=null,this.callBase.apply(this,arguments)},_applyFilter(){var s;null===(s=this._dataSource)||void 0===s||s.loadPageCount(1),this.callBase.apply(this,arguments)}};return P.A.proxyMethod(f,"getVirtualContentSize"),P.A.proxyMethod(f,"setViewportItemIndex"),f}(),resizing:{_updateMasterDataGridCore(f){return(0,se.z7)(this.callBase.apply(this,arguments)).done(s=>{var t=J(f)&&!1===f.option(w);!s&&t&&f.getScrollable()&&f.updateDimensions()})},hasResizeTimeout(){return!!this._resizeTimeout},resize(){var s,{callBase:f}=this;if(J(this)||P.A.isVirtualRowRendering(this)){clearTimeout(this._resizeTimeout),this._resizeTimeout=null;var t=new Date-this._lastTime,u=this.option("scrolling.updateTimeout");this._lastTime&&t<u?(s=new se.cY,this._resizeTimeout=setTimeout(()=>{this._resizeTimeout=null,f.apply(this).done(s.resolve).fail(s.reject),this._lastTime=new Date},u),this._lastTime=new Date):(s=f.apply(this),this._dataController.isLoaded()&&(this._lastTime=new Date))}else s=f.apply(this);return s},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._resizeTimeout)}}},views:{rowsView:r}}}},3501:(Mt,dt,i)=>{i.d(dt,{U:()=>ae});var be=i(1269),k=i(7963),se=i(7669),_e=i(6221),he=i(396),Ce=i(8060),le=i(9104),ae="dxdblclick",ee=(0,le.b4)(Ce.U,"dxDblClick"),P=_e.A.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-300},add:function(){this._handlerCount<=0&&be.A.on(se.A.getDocument(),ee,this._clickHandler.bind(this)),this._handlerCount++},_clickHandler:function(Y){var Ee=Y.timeStamp||Date.now(),re=Ee-this._lastClickTimeStamp;!(re<0)&&re<300?((0,le.rC)({type:ae,target:(0,k.tc)(this._firstClickTarget,Y.target),originalEvent:Y}),this._forgetLastClick()):(this._firstClickTarget=Y.target,this._lastClickTimeStamp=Ee)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),be.A.off(se.A.getDocument(),ee))}});(0,he.A)(ae,new P)},45:(Mt,dt,i)=>{i.d(dt,{A:()=>le});var be=i(2463),k=i(1437),se=i(5655),_e=i(9259),he=i(7041);i(1364);const le=(0,he.A)({format:function(ae,oe){var ee=(0,be.Kg)(oe)&&""!==oe||(0,be.Qd)(oe)||(0,be.Tn)(oe),q=(0,be.kf)(ae)||(0,be.$P)(ae);return ee&&q?(0,be.Tn)(oe)?oe(ae):((0,be.Kg)(oe)&&(oe={type:oe}),(0,be.kf)(ae)?se.A.format(ae,oe):(0,be.$P)(ae)?_e.A.format(ae,oe):void 0):(0,be.O9)(ae)?ae.toString():""},getTimeFormat:function(ae){return ae?"longtime":"shorttime"},_normalizeFormat:function(ae){return Array.isArray(ae)?1===ae.length?ae[0]:function(oe){return ae.map(function(ee){return _e.A.format(oe,ee)}).join(" ")}:ae},getDateFormatByDifferences:function(ae,oe){var ee=[],q=oe&&ae.millisecond&&!(ae.year||ae.month||ae.day);return q?ee.push(function(P){return P.getSeconds()+P.getMilliseconds()/1e3+"s"}):ae.millisecond&&ee.push("millisecond"),(ae.hour||ae.minute||!q&&ae.second)&&ee.unshift(this.getTimeFormat(ae.second)),ae.year&&ae.month&&ae.day?oe&&"month"===oe?"monthandyear":(ee.unshift("shortdate"),this._normalizeFormat(ee)):ae.year&&ae.month?"monthandyear":ae.year&&ae.quarter?"quarterandyear":ae.year?"year":ae.quarter?"quarter":ae.month&&ae.day?(ee.unshift(oe?function(P){return _e.A.getMonthNames("abbreviated")[P.getMonth()]+" "+_e.A.format(P,"day")}:"monthandday"),this._normalizeFormat(ee)):ae.month?"month":ae.day?(ee.unshift(oe?"day":function(P){return _e.A.format(P,"dayofweek")+", "+_e.A.format(P,"day")}),this._normalizeFormat(ee)):this._normalizeFormat(ee)},getDateFormatByTicks:function(ae){var oe,ee,q;if(ae.length>1)for(oe=k.A.getDatesDifferences(ae[0],ae[1]),q=1;q<ae.length-1;q++)ee=k.A.getDatesDifferences(ae[q],ae[q+1]),oe.count<ee.count&&(oe=ee);else oe={year:!0,month:!0,day:!0,hour:ae[0].getHours()>0,minute:ae[0].getMinutes()>0,second:ae[0].getSeconds()>0,millisecond:ae[0].getMilliseconds()>0};return this.getDateFormatByDifferences(oe)},getDateFormatByTickInterval:function(ae,oe,ee){var q,P=function(re,j,ue){switch(j){case"year":case"quarter":re.month=ue;case"month":re.day=ue;case"week":case"day":re.hour=ue;case"hour":re.minute=ue;case"minute":re.second=ue;case"second":re.millisecond=ue}};ee=(0,be.Kg)(ee)?ee.toLowerCase():ee;var re,j,ue,Y=k.A.getDatesDifferences(ae,oe);return ae!==oe&&(re=Y,j=ae>oe?oe:ae,!(ue=ae>oe?ae:oe).getMilliseconds()&&ue.getSeconds()?ue.getSeconds()-j.getSeconds()==1&&(re.millisecond=!0,re.second=!1):!ue.getSeconds()&&ue.getMinutes()?ue.getMinutes()-j.getMinutes()==1&&(re.second=!0,re.minute=!1):!ue.getMinutes()&&ue.getHours()?ue.getHours()-j.getHours()==1&&(re.minute=!0,re.hour=!1):!ue.getHours()&&ue.getDate()>1?ue.getDate()-j.getDate()==1&&(re.hour=!0,re.day=!1):1===ue.getDate()&&ue.getMonth()?ue.getMonth()-j.getMonth()==1&&(re.day=!0,re.month=!1):!ue.getMonth()&&ue.getFullYear()&&ue.getFullYear()-j.getFullYear()==1&&(re.month=!0,re.year=!1)),P(Y,k.A.getDateUnitInterval(Y),!0),P(Y,q=k.A.getDateUnitInterval(ee||"second"),!1),Y[{week:"day"}[q]||q]=!0,this.getDateFormatByDifferences(Y)}})},458:(Mt,dt,i)=>{i.d(dt,{A:()=>V});var be=i(4292),k=i(7669),se=i(1269),_e=i(3992),he=i(4905),Ce=i(5042),le=i(2463),ae=i(7963),oe=i(181),ee=i(2101),q=i(7951),P=i(4435),Y=i(3930),Ee=i(4441),re=i(3862),j=i(9104),ue=i(6022),b=i(1542),c=i(2984),a=i(4935),d=i(4602),m="dx-menu",S=m+"-item",I=S+"-expanded",xe=m+"-items-container",Pe=S+"-wrapper",Ie="dx-submenu",l="dx-state-hover",C="down",X="first",He=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],Z=["up",C,X,"last"],D="dxcontextmenu",U=(0,P.zk)();class p extends b.A{getShowEvent($){var ye=null;return(0,le.Gv)($)?null!==$.name&&(ye=$.name||D):ye=$,ye}getShowDelay($){return(0,le.Gv)($)&&$.delay}_getDefaultOptions(){return(0,q.X)(super._getDefaultOptions(),{showEvent:D,hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!(0,P.Vd)(),options:{animation:null}}])}_setDeprecatedOptions(){super._setDeprecatedOptions(),(0,q.X)(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})}_initActions(){this._actions={},(0,ee.__)(He,($,ye)=>{this._actions[ye]=this._createActionByOption(ye)||Ce.lQ})}_setOptionsByReference(){super._setOptionsByReference(),(0,q.X)(this._optionsByReference,{animation:!0,selectedItem:!0})}_focusInHandler(){}_itemContainer(){return this._overlay?this._overlay.$content():(0,be.A)()}_eventBindingTarget(){return this._itemContainer()}itemsContainer(){return this._overlay?this._overlay.$content():void 0}_supportedKeys(){return(0,q.X)(super._supportedKeys(),{space:()=>{var $=(0,be.A)(this.option("focusedElement"));this.hide(),$.length&&this._isSelectionEnabled()&&this.selectItem($[0])},escape:this.hide})}_getActiveItem(){var $=this._getAvailableItems(),ye=$.filter(".".concat("dx-state-focused")),de=$.filter(".".concat(l));return de.closest(".".concat(xe)).find(".".concat(S)).index(ye)>=0?ye:de.length?de:super._getActiveItem()}_moveFocus($){var r,ye=this._getItemsByLocation($),de=this._getActiveItem(!0),Te=this.itemsContainer().find(".".concat(l)),T=!(!(0,be.A)(this.option("focusedElement")).length&&!Te.length);switch($){case"up":r=T?this._prevItem(ye):de,this._setFocusedElement(r),de.is(ye.first())&&this._actions.onLeftFirstItem(de);break;case C:r=T?this._nextItem(ye):de,this._setFocusedElement(r),de.is(ye.last())&&this._actions.onLeftLastItem(de);break;case"right":r=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(ye,$),this._setFocusedElement(r);break;case"left":r=this.option("rtlEnabled")?this._expandSubmenuHandler(ye,$):this._hideSubmenuHandler(),this._setFocusedElement(r);break;case X:r=ye.first(),this._setFocusedElement(r);break;case"last":r=ye.last(),this._setFocusedElement(r);break;default:return super._moveFocus($)}}_setFocusedElement($){$&&0!==$.length&&this.option("focusedElement",(0,oe.c)($))}_getItemsByLocation($){var de,ye=this._getActiveItem(!0);return Z.includes($)&&(de=ye.closest(".".concat(xe)).children().children()),this._getAvailableItems(de)}_getAriaTarget(){return this.$element()}_refreshActiveDescendant(){if((0,le.O9)(this._overlay)){var $=this._overlay.$content();super._refreshActiveDescendant($)}}_hideSubmenuHandler(){var $=this._getActiveItem(!0),ye=$.parents(".".concat(I)).first();return ye.length?(this._hideSubmenusOnSameLevel(ye),this._hideSubmenu($.closest(".".concat(Ie))),ye):(this._actions.onCloseRootSubmenu($),$)}_expandSubmenuHandler($,ye){var de=this._getActiveItem(!0),Te=this._getItemData(de),Ne=this._dataAdapter.getNodeByItem(Te),T=this._hasSubmenu(Ne),r=de.children(".".concat(Ie));if(T&&!de.hasClass("dx-state-disabled"))return(!r.length||"hidden"===r.css("visibility"))&&this._showSubmenu(de),this._nextItem(this._getItemsByLocation(ye));this._actions.onExpandLastSubmenu(de)}_clean(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),super._clean()}_initMarkup(){this.$element().addClass("dx-has-context-menu"),super._initMarkup()}_render(){super._render(),this._renderVisibility(this.option("visible")),this._addWidgetClass()}_renderContentImpl(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}_attachKeyboardEvents(){!this._keyboardListenerId&&this._focusTarget().length&&super._attachKeyboardEvents()}_renderContextMenuOverlay(){if(!this._overlay){var $=this._getOverlayOptions();this._overlay=this._createComponent((0,be.A)("<div>").appendTo(this._$element),ue.A,$);var ye=this._overlay.$content();ye.addClass("dx-context-menu"),this._addCustomCssClass(ye),this._addPlatformDependentClass(ye),this._attachContextMenuEvent()}}preventShowingDefaultContextMenuAboveOverlay(){var $=this._itemContainer(),ye=(0,j.b4)(a.U,this.NAME);se.A.off($,ye,".".concat(Ie)),se.A.on($,ye,".".concat(Ie),(de=>{de.stopPropagation(),de.preventDefault(),se.A.off($,ye,".".concat(Ie))}).bind(this))}_itemContextMenuHandler($){super._itemContextMenuHandler($),$.stopPropagation()}_addPlatformDependentClass($){re.A.current().phone&&$.addClass("dx-menu-phone-overlay")}_detachShowContextMenuEvents($){var ye=this.getShowEvent(this.option("showEvent"));if(ye){var de=(0,j.b4)(ye,this.NAME);this._showContextMenuEventHandler?se.A.off(k.A.getDocument(),de,$,this._showContextMenuEventHandler):se.A.off((0,be.A)($),de)}}_attachShowContextMenuEvents(){var $=this._getTarget(),ye=this.getShowEvent(this.option("showEvent"));if(ye){var de=(0,j.b4)(ye,this.NAME),Te=this._createAction(T=>{var r=this.getShowDelay(this.option("showEvent"));r?setTimeout(()=>this._show(T.event),r):this._show(T.event)},{validatingTargetName:"target"}),Ne=T=>Te({event:T,target:(0,be.A)(T.currentTarget)});Te=this._createAction(Te),(0,le.Kb)($)||$.nodeType||(0,le.l6)($)?(this._showContextMenuEventHandler=void 0,se.A.on($,de,Ne)):(this._showContextMenuEventHandler=Ne,se.A.on(k.A.getDocument(),de,$,this._showContextMenuEventHandler))}}_hoverEndHandler($){super._hoverEndHandler($),$.stopPropagation()}_renderDimensions(){}_renderContainer($,ye){var de=ye||this._itemContainer();($=(0,be.A)("<div>")).appendTo(de).addClass(Ie).css("visibility",ye?"hidden":"visible"),$.parent().hasClass("dx-overlay-content")||this._addCustomCssClass($);var Te=super._renderContainer($);return ye?Te:this.option("width")?Te.css("minWidth",this.option("width")):this.option("height")?Te.css("minHeight",this.option("height")):Te}_renderSubmenuItems($,ye){this._renderItems(this._getChildNodes($),ye),this._actions.onSubmenuCreated({itemElement:(0,oe.c)(ye),itemData:$.internalFields.item,submenuElement:(0,oe.c)(ye.children(".".concat(Ie)))})}_getOverlayOptions(){var $=this.option("position");return{focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:de=>this._hideOnOutsideClickHandler(de),propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:$.at,my:$.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:U}}_overlayShownActionHandler($){this._actions.onShown($)}_overlayHidingActionHandler($){this._actions.onHiding($),$.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}_overlayHiddenActionHandler($){this._actions.onHidden($)}_shouldHideOnOutsideClick($){var{closeOnOutsideClick:ye,hideOnOutsideClick:de}=this.option();return(0,le.Tn)(de)?de($):(0,le.Tn)(ye)?ye($):de||ye}_hideOnOutsideClickHandler($){if(!this._shouldHideOnOutsideClick($))return!1;if(k.A.isDocument($.target))return!0;var ye=this._getActiveItemsContainer($.target),de=this._getItemsContainers(),Te=this._searchActiveItem($.target),Ne=this.$element().parents(".".concat(S)),T=Te[0]===Ne[0]&&Te.length&&Ne.length;return!(this._isIncludeOverlay(ye,de)&&Te.length)&&!T||("onClick"===this._getShowSubmenuMode()&&this._hideAllShownChildSubmenus(Te),!1)}_getActiveItemsContainer($){return(0,be.A)($).closest(".".concat(xe))}_getItemsContainers(){return this._overlay.$content().find(".".concat(xe))}_searchActiveItem($){return(0,be.A)($).closest(".".concat(S)).eq(0)}_isIncludeOverlay($,ye){var de=!1;return(0,ee.__)(ye,(Te,Ne)=>{$.is(Ne)&&!de&&(de=!0)}),de}_hideAllShownChildSubmenus($){var ye=$.find(".".concat(Ie)),de=(0,q.X)([],this._shownSubmenus);ye.length>0&&(0,ee.__)(de,(Te,Ne)=>{var T=this._searchActiveItem(Ne.context).parent();T.parent().is($.parent().parent())&&!T.is($.parent())&&this._hideSubmenu(Ne)})}_showSubmenu($){var ye=this._dataAdapter.getNodeByItem(this._getItemData($));if(this._hideSubmenusOnSameLevel($),this._hasSubmenu(ye)){var de=$.children(".".concat(Ie)),Te=de.length;super._showSubmenu($),Te||this._renderSubmenuItems(ye,$),this._isSubmenuVisible(de)||this._drawSubmenu($)}}_hideSubmenusOnSameLevel($){var ye=$.parent(".".concat(Pe)).siblings().find(".".concat(I));ye.length&&(ye.removeClass(I),this._hideSubmenu(ye.find(".".concat(Ie))))}_hideSubmenuGroup($){this._isSubmenuVisible($)&&this._hideSubmenuCore($)}_isSubmenuVisible($){return"visible"===$.css("visibility")}_drawSubmenu($){var ye=this.option("animation")?this.option("animation").show:{},de=$.children(".".concat(Ie)),Te=this._getSubmenuPosition($);this._overlay&&this._overlay.option("visible")&&((0,le.O9)(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(de)||this._shownSubmenus.push(de),ye&&Y.A.stop(de),Ee.A.setup(de,Te),ye&&((0,le.Qd)(ye.to)&&(ye.to.position=Te),this._animate(de,ye)),de.css("visibility","visible"))}_animate($,ye){Y.A.animate($,ye)}_getSubmenuPosition($){var ye=this.option("submenuDirection").toLowerCase(),Te={collision:"flip",of:$.parent(".".concat(Pe)),offset:{h:0,v:-1}};switch(ye){case"left":Te.at="left top",Te.my="right top";break;case"right":Te.at="right top",Te.my="left top";break;default:this.option("rtlEnabled")?(Te.at="left top",Te.my="right top"):(Te.at="right top",Te.my="left top")}return Te}_updateSubmenuVisibilityOnClick($){if($.args.length){var ye=$.args[0].itemData,de=this._dataAdapter.getNodeByItem(ye);if(de){var Te=(0,be.A)($.args[0].itemElement),Ne=Te.find(".".concat(Ie));if(this._hasSubmenu(de)&&!Ne.length&&(this._renderSubmenuItems(de,Te),Ne=Te.find(".".concat(Ie))),(Te.context!==Ne.context||"visible"!==Ne.css("visibility"))&&(this._updateSelectedItemOnClick($),ye&&!ye.disabled&&(!ye||!1!==ye.closeMenuOnClick)))if(0===Ne.length){var v=(0,be.A)(Te.parents(".".concat(Ie))[0]);this._hideSubmenu(v),!$.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(Ne)&&this._hideSubmenu(Ne),this._showSubmenu(Te)}}}_hideSubmenu($){var ye=(0,q.X)([],this._shownSubmenus);(0,ee.__)(ye,(de,Te)=>{($.is(Te)||(0,ae.gR)($[0],Te[0]))&&(Te.parent().removeClass(I),this._hideSubmenuCore(Te))})}_hideSubmenuCore($){var ye=this._shownSubmenus.indexOf($),de=this.option("animation")?this.option("animation").hide:null;ye>=0&&this._shownSubmenus.splice(ye,1),this._stopAnimate($),de&&this._animate($,de),$.css("visibility","hidden")}_stopAnimate($){Y.A.stop($,!0)}_hideAllShownSubmenus(){var $=(0,q.X)([],this._shownSubmenus);this._overlay.$content().find(".".concat(I)).removeClass(I),(0,ee.__)($,(de,Te)=>{this._hideSubmenu(Te)})}_visibilityChanged($){$&&this._renderContentImpl()}_optionChanged($){if(He.includes($.name))this._initActions();else switch($.name){case"visible":this._renderVisibility($.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":$.previousValue&&this._detachShowContextMenuEvents($.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:super._optionChanged($)}}_renderVisibility($){return $?this._show():this._hide()}_toggleVisibility(){}_show($){var ye={jQEvent:$},de=(new c.cY).reject().promise();if(this._actions.onShowing(ye),ye.cancel)return de;var Ne,Te=this._positionContextMenu($);return Te&&(this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",Te),de=this._overlay.show(),$&&$.stopPropagation(),this._setAriaAttributes(),(null==$||null===(Ne=$.originalEvent)||void 0===Ne?void 0:Ne.type)===d.A.name&&this.preventShowingDefaultContextMenuAboveOverlay()),de}_setAriaAttributes(){this._overlayContentId="dx-".concat(new _e.A),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}_cleanAriaAttributes(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}_getTarget(){return this.option("target")||this.option("position").of||(0,be.A)(k.A.getDocument())}_getContextMenuPosition(){return(0,q.X)({},this.option("position"),{of:this._getTarget()})}_positionContextMenu($){var ye=this._getContextMenuPosition(),de=this._isInitialOptionValue("position"),Te=this._createActionByOption("onPositioning");$&&$.preventDefault&&de&&(ye.of=$);var Ne={position:ye,event:$};return Te(Ne),Ne.cancel?ye=null:Ne.event&&(Ne.event.cancel=!0,$.preventDefault()),ye}_refresh(){if((0,P.Vd)())if(this._overlay){var $=this._overlay.option("position");super._refresh(),this._overlay&&this._overlay.option("position",$)}else super._refresh();else super._refresh()}_hide(){var $;return this._overlay&&($=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),$||(new c.cY).reject().promise()}toggle($){var ye=this.option("visible");return this._renderVisibility($=void 0===$?!ye:$)}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}}(0,he.A)("dxContextMenu",p);const V=p},1542:(Mt,dt,i)=>{i.d(dt,{A:()=>C});var be=i(4292),k=i(5042),se=i(2463),_e=i(2101),he=i(7951),Ce=i(6115),le=i(219),ae=i(4407);const ee=class oe extends ae.A{_getPlainItems(){return(0,_e.Tj)(this._collectionWidget.option("items"),function te(X){return X.items?[X].concat((0,_e.Tj)(X.items,te)):X})}_stringifyItem(te){return JSON.stringify(te,(X,ge)=>"template"===X?this._getTemplateString(ge):ge)}_getTemplateString(te){return"object"==typeof te?(0,be.A)(te).text():te.toString()}};var q=i(3862),P=i(2338),Y="dx-menu",Ee=Y+"-no-icons",j=Y+"-item",ue=j+"-content",b=j+"-selected",c=j+"-wrapper",a=Y+"-items-container",d=j+"-expanded",m=Y+"-separator",S=Y+"-last-group-item",I=j+"-has-text",N=j+"-has-icon",xe=j+"-has-submenu",Pe=j+"-popout",Ie=Pe+"-container",B=j+"-text",g={show:50,hide:300},o="".concat(B,"-with-url");const C=(()=>{class F extends le.A{_getDefaultOptions(){return(0,he.X)(super._getDefaultOptions(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}_itemDataKey(){return"dxMenuItemDataKey"}_itemClass(){return j}_setAriaSelectionAttribute(){}_selectedItemClass(){return b}_widgetClass(){return"dx-menu-base"}_focusTarget(){return this._itemContainer()}_clean(){this.option("focusedElement",null),super._clean()}_supportedKeys(){return(0,he.X)(super._supportedKeys(),{space:()=>{var X=(0,be.A)(this.option("focusedElement"));!X.length||!this._isSelectionEnabled()||this.selectItem(X[0])},pageUp:k.lQ,pageDown:k.lQ})}_isSelectionEnabled(){return"single"===this.option("selectionMode")}_init(){this._activeStateUnit=".".concat(j),super._init(),this._renderSelectedItem(),this._initActions()}_getLinkContainer(X,ge,He){var{linkAttr:Z,url:D}=He;return X?.addClass("dx-icon-with-url"),ge?.addClass(o),super._getLinkContainer(X,ge,{linkAttr:Z,url:D})}_addContent(X,ge){var{html:He,url:Z}=ge;if(Z){X.html(He);var D=this._getLinkContainer(this._getIconContainer(ge),this._getTextContainer(ge),ge);X.append(D)}else super._addContent(X,ge);X.append(this._getPopoutContainer(ge)),this._addContentClasses(ge,X.parent())}_getTextContainer(X){var{text:ge}=X;if(ge){var He=(0,be.A)("<span>").addClass(B),Z=(0,se.Qd)(X)?ge:String(X);return He.text(Z)}}_getItemExtraPropNames(){return["url","linkAttr"]}_getPopoutContainer(X){var He,ge=X.items;if(ge&&ge.length){var Z=(0,be.A)("<div>").addClass(Pe);He=(0,be.A)("<span>").addClass(Ie).append(Z)}return He}_getDataAdapterOptions(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}_selectByItem(X){if(X){var ge=this._dataAdapter.getNodeByItem(X);this._dataAdapter.toggleSelection(ge.internalFields.key,!0)}}_renderSelectedItem(){var X=this._dataAdapter.getSelectedNodesKeys(),ge=X.length&&X[0],He=this.option("selectedItem");if(ge){var Z=this._dataAdapter.getNodeByKey(ge);if(!1!==Z.selectable){if(!He)return void this.option("selectedItem",Z.internalFields.item);He!==Z.internalFields.item&&(this._dataAdapter.toggleSelection(ge,!1),this._selectByItem(He))}}else this._selectByItem(He)}_initActions(){}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple()}_renderInkRipple(){this._inkRipple=(0,Ce.XX)()}_toggleActiveState(X,ge,He){if(super._toggleActiveState.apply(this,arguments),this._inkRipple){var Z={element:X,event:He};ge?this._inkRipple.showWave(Z):this._inkRipple.hideWave(Z)}}_getShowSubmenuMode(){var X=this.option("showSubmenuMode");return X=(0,se.Gv)(X)?X.name:X,this._isDesktopDevice()?X:"onClick"}_initSelectedItems(){}_isDesktopDevice(){return"desktop"===q.A.real().deviceType}_initEditStrategy(){this._editStrategy=new ee(this)}_addCustomCssClass(X){X.addClass(this.option("cssClass"))}_itemWrapperSelector(){return".".concat(c)}_hoverStartHandler(X){var ge=this._getItemElementByEventArgs(X);!ge||this._isItemDisabled(ge)||(X.stopPropagation(),"onHover"===this._getShowSubmenuMode()&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,ge),this._getSubmenuDelay("show"))))}_getAvailableItems(X){return super._getAvailableItems(X).filter(function(){return"hidden"!==(0,be.A)(this).css("visibility")})}_isItemDisabled(X){return this._disabledGetter(X.data(this._itemDataKey()))}_showSubmenu(X){this._addExpandedClass(X)}_addExpandedClass(X){(0,be.A)(X).addClass(d)}_getSubmenuDelay(X){var{delay:ge}=this.option("showSubmenuMode");return(0,se.O9)(ge)?(0,se.Gv)(ge)?ge[X]:ge:g[X]}_getItemElementByEventArgs(X){var ge=(0,be.A)(X.target);if(ge.hasClass(this._itemClass())||ge.get(0)===X.currentTarget)return ge;for(;!ge.hasClass(this._itemClass());)if((ge=ge.parent()).hasClass("dx-submenu"))return null;return ge}_hoverEndHandler(){clearTimeout(this._showSubmenusTimeout)}_hasSubmenu(X){return X&&X.internalFields.childrenKeys.length}_renderContentImpl(){this._renderItems(this._dataAdapter.getRootNodes())}_renderItems(X,ge){if(X.length){this.hasIcons=!1;var He=this._renderContainer(this.$element(),ge),Z=-1,D=-1;(0,_e.__)(X,(U,p)=>{var w=!1!==p.visible;w&&Z<0&&(Z=U),Z<U&&(p.beginGroup||U===D)&&(D=w?U:U+1),U===D&&Z<U&&this._renderSeparator(He),this._renderItem(U,p,He)}),this.hasIcons||He.addClass(Ee)}}_renderContainer(X){var ge=(0,be.A)("<ul>");return this.setAria("role","none",ge),ge.appendTo(X).addClass(a)}_createDOMElement(X){var ge=(0,be.A)("<li>");return this.setAria("role","none",ge),ge.appendTo(X).addClass(c)}_renderItem(X,ge,He,Z){var D=this.option("items"),U=Z||this._createDOMElement(He);D[X+1]&&D[X+1].beginGroup&&U.addClass(S);var p=super._renderItem(X,ge.internalFields.item,U);ge.internalFields.item===this.option("selectedItem")&&p.addClass(b),p.attr("tabIndex",-1),this._hasSubmenu(ge)&&this.setAria("haspopup","true",p)}_renderItemFrame(X,ge,He){var Z=He.children(".".concat(j));return Z.length?Z:super._renderItemFrame.apply(this,arguments)}_refreshItem(X,ge){var He=this._dataAdapter.getNodeByItem(ge),Z=X.data(this._itemIndexKey()),D=X.closest("ul"),U=X.closest("li");this._renderItem(Z,He,D,U)}_addContentClasses(X,ge){var Z=!!X.icon,D=!!X.items&&!!X.items.length;ge.toggleClass(I,!!X.text&&!!X.text.length),ge.toggleClass(N,Z),this.hasIcons||(this.hasIcons=Z),ge.toggleClass(xe,D)}_getItemContent(X){var ge=super._getItemContent(X);return ge.length||(ge=X.children(".".concat(ue))),ge}_postprocessRenderItem(X){var ge=(0,be.A)(X.itemElement),He=this._dataAdapter.getSelectedNodesKeys();He.length&&this._selectedGetter(X.itemData)&&this._isItemSelectable(X.itemData)&&this._dataAdapter.getNodeByItem(X.itemData).internalFields.key===He[0]?(ge.addClass(this._selectedItemClass()),this._setAriaSelectionAttribute(ge,"true")):this._setAriaSelectionAttribute(ge,"false")}_isItemSelectable(X){return!1!==X.selectable}_renderSeparator(X){(0,be.A)("<li>").appendTo(X).addClass(m)}_itemClickHandler(X){if(!X._skipHandling){var ge=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(X,"onItemClick",{},{beforeExecute:this._itemClick,afterExecute:ge.bind(this)}),X._skipHandling=!0}}_itemClick(X){var ge=X.args[0],He=ge.event.target.getElementsByClassName("dx-item-url")[0];ge.itemData.url&&He&&He.click()}_updateSubmenuVisibilityOnClick(X){this._updateSelectedItemOnClick(X),"onClick"===this._getShowSubmenuMode()&&this._addExpandedClass(X.args[0].itemElement)}_updateSelectedItemOnClick(X){var ge=X.args?X.args[0]:X;if(this._isItemSelectAllowed(ge.itemData)){var He=this._dataAdapter.getSelectedNodesKeys(),Z=He.length&&this._dataAdapter.getNodeByKey(He[0]);Z&&this._toggleItemSelection(Z,!1),Z&&Z.internalFields.item===ge.itemData?(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null)):this.selectItem(ge.itemData)}}_isItemSelectAllowed(X){var ge=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&ge&&this._isItemSelectable(X)&&!this._itemsGetter(X)}_isContainerEmpty(){return this._itemContainer().is(":empty")}_syncSelectionOptions(){return(0,k.TA)()}_optionChanged(X){switch(X.name){case"showSubmenuMode":break;case"selectedItem":var ge=this._dataAdapter.getNodeByItem(X.value),He=this._dataAdapter.getSelectedNodesKeys()[0];if(ge&&ge.internalFields.key!==He){if(!1===ge.selectable)break;He&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(He),!1),this._toggleItemSelection(ge,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:super._optionChanged(X)}}_toggleItemSelection(X,ge){var He=this._getElementByItem(X.internalFields.item);He&&(0,be.A)(He).toggleClass(b),this._dataAdapter.toggleSelection(X.internalFields.key,ge)}_getElementByItem(X){var ge;return(0,_e.__)(this._itemElements(),(He,Z)=>(0,be.A)(Z).data(this._itemDataKey())!==X||(ge=Z,!1)),ge}_updateSelectedItems(X,ge){(X||ge)&&this._fireSelectionChangeEvent(ge,X)}_fireSelectionChangeEvent(X,ge){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[X],removedItems:[ge]})}selectItem(X){var ge=X.nodeType?this._getItemData(X):X,He=this._dataAdapter.getSelectedNodesKeys()[0],Z=this.option("selectedItem"),D=this._dataAdapter.getNodeByItem(ge);D.internalFields.key!==He&&(He&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(He),!1),this._toggleItemSelection(D,!0),this._updateSelectedItems(Z,ge),this._setOptionWithoutOptionChange("selectedItem",ge))}unselectItem(X){var ge=X.nodeType?this._getItemData(X):X,He=this._dataAdapter.getNodeByItem(ge),Z=this.option("selectedItem");He.internalFields.selected&&(this._toggleItemSelection(He,!1),this._updateSelectedItems(Z,null),this._setOptionWithoutOptionChange("selectedItem",null))}}return F.ItemClass=P.A,F})()},4744:(Mt,dt,i)=>{i.d(dt,{B5:()=>s,M7:()=>ze,qB:()=>T,LH:()=>v,BF:()=>ve,GC:()=>Te,PQ:()=>$,WI:()=>At,yy:()=>Tt,GT:()=>M,D3:()=>de,PZ:()=>Ne,VI:()=>t,zk:()=>St,j_:()=>X,uN:()=>D,Bd:()=>p,JS:()=>Ye,fM:()=>Q,BK:()=>vt,NP:()=>tt,SK:()=>xt,Zh:()=>ye,tg:()=>Fe,G3:()=>y,IZ:()=>u,HO:()=>it,Ai:()=>r,rx:()=>We,rK:()=>Z,nJ:()=>O,d0:()=>_t});var be=i(4292),k=i(2984),se=i(1591),_e=i(2463),he=i(9407),Ce=i(7310),le=i(438),ae=i(45),oe=i(7951),ee=i(8745),q="dx-filterbuilder-range",P=q+"-start",Y=q+"-end",Ee=q+"-separator",re="\u2013";function j(L,ie){var me=(0,be.A)("<div>").addClass(P),ke=(0,be.A)("<div>").addClass(Y),Ze=L.value||[],st=function(yt){return yt&&yt.length>0?yt[0]:null},Et=function(yt){return yt&&2===yt.length?yt[1]:null};ie.append(me),ie.append((0,be.A)("<span>").addClass(Ee).text(re)),ie.append(ke),ie.addClass(q),this._editorFactory.createEditor.call(this,me,(0,oe.X)({},L.field,L,{value:st(Ze),parentType:"filterBuilder",setValue:function(yt){Ze=[yt,Et(Ze)],L.setValue(Ze)}})),this._editorFactory.createEditor.call(this,ke,(0,oe.X)({},L.field,L,{value:Et(Ze),parentType:"filterBuilder",setValue:function(yt){Ze=[st(Ze),yt],L.setValue(Ze)}}))}function ue(L,ie){return{name:"between",caption:L,icon:"range",valueSeparator:re,dataTypes:["number","date","datetime"],editorTemplate:j.bind(ie),notForLookup:!0}}var b=i(736),c=i(5333),a={"=":"equal","<>":"notequal","<":"less","<=":"lessorequal",">":"greater",">=":"greaterorequal",notcontains:"doesnotcontain",contains:"contains",startswith:"startswith",endswith:"endswith",isblank:"isblank",isnotblank:"isnotblank"},d={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",isblank:"isBlank",isnotblank:"isNotBlank",between:"between"};const m={getIconByFilterOperation:function(L){return a[L]},getNameByFilterOperation:function(L){return d[L]}};var S="string",I="icon-none",N="and",xe="=",Pe="<>",Ie={number:["=","<>","<",">","<=",">=","isblank","isnotblank"],string:["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"],date:["=","<>","<",">","<=",">=","isblank","isnotblank"],datetime:["=","<>","<",">","<=",">=","isblank","isnotblank"],boolean:["=","<>","isblank","isnotblank"],object:["isblank","isnotblank"]},B={date:"shortDate",datetime:"shortDateShortTime"},n=["=","<>","isblank","isnotblank"],g=["caption","customizeText","dataField","dataType","editorTemplate","falseText","editorOptions","filterOperations","format","lookup","trueText","calculateFilterExpression","name"],l="dx-filterbuilder-text",_=l+"-part",h=l+"-separator",C=h+"-empty";function te(L){return L&&L.length>1&&"!"===L[0]&&!y(L)}function X(L){return te(L)?L[1]:L}function Z(L,ie){var ke,Ze;return function He(L,ie){-1!==ie.indexOf("!")?te(L)||function(me){var ke=me.slice(0);me.length=0,me.push("!",ke)}(L):te(L)&&function(me){var ke=X(me);me.length=0,[].push.apply(me,ke)}(L)}(L,ie),function(Ze,st){for(ke=0;ke<Ze.length;ke++)Array.isArray(Ze[ke])||(Ze[ke]=st)}(X(L),ie=-1===(Ze=ie).indexOf("!")?Ze:Ze.substring(1)),L}function D(L,ie){var me=p(L);return ie.filter(function(ke){return ke.value===me})[0]}function U(L){if(y(L))return N;for(var ie="",me=0;me<L.length;me++){var ke=L[me];if(!Array.isArray(ke)){if(ie&&ie!==ke)throw new se.sO.Error("E4019");"!"!==ke&&(ie=ke)}}return ie}function p(L){var ie=X(L),me=U(ie);return me||(me=N),ie!==L&&(me="!"+me),me}function J(L){var ie=function V(L){return Array.isArray(L)&&L.length}(L.filterOperations)?L.filterOperations:function w(L){return L.lookup&&n||Ie[L.dataType||S]}(L);return(0,oe.X)([],ie)}function $(L,ie){var me=m.getNameByFilterOperation(L);return ie&&ie[me]?ie[me]:me}function ye(L,ie){for(var me=0;me<ie.length;me++)if(ie[me].value===L)return ie[me];throw new Ce.A.Error("E1048",L)}function de(L,ie){var me=L.filter(function(ke){return ke.name===ie});return me.length?me[0]:null}function Te(L,ie,me){var ke=J(L),Ze=!!L.lookup;return me.forEach(function(st){if(!L.filterOperations&&-1===ke.indexOf(st.name)){var Et=st&&st.dataTypes;(!Ze||!st.notForLookup)&&Et&&Et.indexOf(L.dataType||S)>=0&&ke.push(st.name)}}),ke.map(function(st){var Et=de(me,st);return Et?{icon:Et.icon||I,text:Et.caption||(0,ee.Bc)(Et.name),value:Et.name,isCustom:!0}:{icon:m.getIconByFilterOperation(st)||I,text:$(st,ie),value:st}})}function Ne(L){return L.defaultFilterOperation||J(L)[0]}function T(L,ie){var me=[L.dataField,"",""];return _t(me,Ne(L),ie),me}function r(L,ie){var me=X(L),ke=me.indexOf(ie);return me.splice(ke,1),1!==me.length&&me.splice(ke,1),L}function v(L){var ie=R(L),me=ie?z(L):L;return ie?["!",[me]]:[me]}function s(L,ie){var me=X(ie),ke=p(me);return 1===me.length?me.unshift(L):me.push(L,ke),ie}function t(L,ie){for(var me=0;me<ie.length;me++)if(ie[me].name===L||ie[me].dataField.toLowerCase()===L.toLowerCase())return ie[me];var ke=Ye(ie,!0).filter(function(Ze){return Ze.dataField.toLowerCase()===L.toLowerCase()});if(ke.length>0)return ke[0];throw new Ce.A.Error("E1047",L)}function u(L){return!!Array.isArray(L)&&(L.length<2||Array.isArray(L[0])||Array.isArray(L[1]))}function y(L){return!!Array.isArray(L)&&L.length>1&&!Array.isArray(L[0])&&!Array.isArray(L[1])}function K(L,ie,me){me=me||N;for(var ke=U(L).toLowerCase()||me,Ze=[],st=0;st<L.length;st++)u(L[st])?(Ze.push(ze(L[st],ie,me)),Ze=Me(Ze,ke)):y(L[st])&&(Ze.push(we(L[st],ie)),Ze=Me(Ze,ke));return 0===Ze.length&&(Ze=Me(Ze,ke)),Ze}function we(L,ie){return function pe(L,ie){var me=de(ie,L[1]);return me&&me.name===L[1]}(L,ie)||L.length<3&&(L[2]=L[1],L[1]=xe),L}function R(L){return-1!==L.indexOf("not")}function z(L){return L.substring(3).toLowerCase()}function fe(L,ie){var me=R(ie);return ie=me?z(ie):ie,me?["!",L,ie]:[L,ie]}function Me(L,ie){var me=R(ie);ie=me?z(ie):ie,L.push(ie);var ke=L;return me&&(ke=["!",ke]),ke}function ze(L,ie,me){return me=me||N,L?y(L=(0,oe.X)(!0,[],L))?fe(we(L,ie),me):te(L)?["!",y(L[1])?fe(we(L[1],ie),me):te(L[1])?fe(ze(L[1],ie),me):K(L[1],ie,me)]:K(L,ie,me):v(me)}function tt(L){return L.reduce(function(ie,me){if((0,_e.O9)(me.dataField)){var ke={};for(var Ze in me)me[Ze]&&g.indexOf(Ze)>-1&&(ke[Ze]=me[Ze]);ke.defaultCalculateFilterExpression=le.A.defaultCalculateFilterExpression,(0,_e.O9)(ke.dataType)||(ke.dataType=S),(0,_e.O9)(ke.trueText)||(ke.trueText=b.A.format("dxDataGrid-trueText")),(0,_e.O9)(ke.falseText)||(ke.falseText=b.A.format("dxDataGrid-falseText")),ie.push(ke)}return ie},[])}function ht(L,ie,me,ke){var Ze=t(L[0],ie),st=we(L,me),Et=me.length&&de(me,st[1]);return Et&&Et.calculateFilterExpression?Et.calculateFilterExpression.apply(Et,[st[2],Ze,ie]):Ze.createFilterExpression?Ze.createFilterExpression.apply(Ze,[st[2],st[1],ke]):Ze.calculateFilterExpression?Ze.calculateFilterExpression.apply(Ze,[st[2],st[1],ke]):Ze.defaultCalculateFilterExpression.apply(Ze,[st[2],st[1],ke])}function St(L,ie,me,ke){if(!(0,_e.O9)(L))return null;if(te(L))return["!",St(L[1],ie,me,ke)];var st=X(L);if(y(st))return ht(st,ie,me,ke)||null;for(var yt,Et=[],et=p(st),Wt=0;Wt<st.length;Wt++)u(st[Wt])?(yt=St(st[Wt],ie,me,ke))&&(Wt&&Et.push(et),Et.push(yt)):y(st[Wt])&&(yt=ht(st[Wt],ie,me,ke))&&(Et.length&&Et.push(et),Et.push(yt));return 1===Et.length&&(Et=Et[0]),Et.length?Et:null}function xt(L){var me,ie=X(L);if(0===ie.length)return null;var ke=[];for(me=0;me<ie.length;me++)if(u(ie[me])){var Ze=xt(ie[me]);Ze?ie[me]=Ze:ke.push(ie[me])}else y(ie[me])&&(Je(ie[me])||ke.push(ie[me]));for(me=0;me<ke.length;me++)r(ie,ke[me]);return 1===ie.length||(ie.splice(ie.length-1,1),1===ie.length&&(L=function ge(L,ie){return te(L)?L[1]=ie:L=ie,L}(L,ie[0])),0===L.length)?null:L}function Tt(L,ie,me){if(""!==ie){var ke=L.lookup;if(ke.items)me(ke.calculateCellValue(ie)||"");else{var Ze=(0,_e.Tn)(ke.dataSource)?ke.dataSource({}):ke.dataSource;new c.q(Ze).loadSingle(ke.valueExpr,ie).done(function(Et){var yt="";Et&&(yt=ke.displayExpr?(0,he.Hz)(ke.displayExpr)(Et):Et),L.customizeText&&(yt=L.customizeText({value:ie,valueText:yt})),me(yt)}).fail(function(){me("")})}}else me("")}function Pt(L,ie,me,ke,Ze){var st;return st=!0===ie?L.trueText||b.A.format("dxDataGrid-trueText"):!1===ie?L.falseText||b.A.format("dxDataGrid-falseText"):function F(L,ie){return ae.A.format(ie,L.format||B[L.dataType])}(L,ie),L.customizeText&&(st=L.customizeText.call(L,{value:ie,valueText:st,target:ke})),me&&me.customizeText&&(st=me.customizeText.call(me,{value:ie,valueText:st,field:L,target:ke},Ze)),st}function nt(L){return""===L||null===L}function M(L,ie,me){var ke=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"filterBuilder";if(nt(ie))return"";if(Array.isArray(ie)){var Ze=new k.cY;return k.z7.apply(this,function Ht(L,ie,me,ke){var Ze={values:ie};return ie.map(st=>Pt(L,st,me,ke,Ze))}(L,ie,me,ke)).done(function(){for(var st=arguments.length,Et=new Array(st),yt=0;yt<st;yt++)Et[yt]=arguments[yt];var et=Et.some(Wt=>!nt(Wt))?Et.map(Wt=>nt(Wt)?"?":Wt):"";Ze.resolve(et)}),Ze}return Pt(L,ie,me,ke)}function ce(L,ie){return L.some(function(me){return me.dataField===ie})}function Be(L,ie,me){var ke=me.dataField;Qe(ke)&&(me.parentId=pt(ke),!ce(ie,me.parentId)&&!ce(L,me.parentId)&&Be(L,ie,{id:me.parentId,dataType:"object",dataField:me.parentId,caption:Se(me.parentId,!0),filterOperations:["isblank","isnotblank"],defaultCalculateFilterExpression:le.A.defaultCalculateFilterExpression})),ie.push(me)}function Se(L,ie){var me="";if(ie)L=L.substring(L.lastIndexOf(".")+1);else if(Qe(L))return L.split(".").forEach(function(ke,Ze,st){me+=(0,ee.Bc)(ke),Ze!==st.length-1&&(me+=".")}),me;return(0,ee.Bc)(L)}function Ye(L,ie){for(var me=[],ke=0;ke<L.length;ke++){var Ze=(0,oe.X)(!0,{caption:Se(L[ke].dataField,ie)},L[ke]);Ze.id=Ze.name||Ze.dataField,ie?Be(L,me,Ze):me.push(Ze)}return me}function Qe(L){return-1!==L.lastIndexOf(".")}function pt(L){return L.substring(0,L.lastIndexOf("."))}function At(L,ie){if(Qe(L.dataField))for(var me=pt(L.dataField),ke=0;ke<ie.length;ke++)if(ie[ke].dataField===me)return At(ie[ke],ie)+"."+L.caption;return L.caption}function _t(L,ie,me){var ke=de(me,ie);return ke?(!1===ke.hasValue?(L[1]=ie,L.length=2):(L[1]=ie,L[2]=""),L):("isblank"===ie?(L[1]=xe,L[2]=null):"isnotblank"===ie?(L[1]=Pe,L[2]=null):(((ke=de(me,L[1]))||2===L.length||null===L[2])&&(L[2]=""),L[1]=ie),L)}function Fe(L){return null===L[2]?L[1]===xe?"isblank":"isnotblank":L[1]}function Je(L){return""!==L[2]}function vt(L,ie,me){var ke=(0,oe.X)(!0,[],L),Ze=-1;return ke.some(function(st,Et){if("between"===st.name)return Ze=Et,!0}),-1!==Ze?ke[Ze]=(0,oe.X)(ue(ie,me),ke[Ze]):ke.unshift(ue(ie,me)),ke}function Ot(L,ie){return L[0]===ie}function it(L,ie){return L&&0!==L.length?y(L)?Ot(L,ie)?null:L:De(L,[ie],!1):null}function De(L,ie,me){var ke=[];return L.forEach(function(Ze){y(Ze)?Ot(Ze,ie[0])?me?(ke.push(ie),me=!1):ke.splice(ke.length-1,1):ke.push(Ze):(ke.length||u(Ze))&&ke.push(Ze)}),0===ke.length?null:(me&&(ke.push(N),ke.push(ie)),1===ke.length?ke[0]:ke)}function O(L,ie){return null===L||0===L.length?ie:y(L)?Ot(L,ie[0])?ie:[L,N,ie]:p(L)!==N?[ie,"and",L]:De(L,ie,!0)}function Q(L,ie){return null===L||0===L.length?[]:y(L)?Ot(L,ie)?[L]:[]:p(L)!==N?[]:L.filter(function(Ze){return y(Ze)&&Ot(Ze,ie)})}function ve(L,ie){return null!==L&&0!==L.length&&(y(L)?L[0]===ie:L.some(function(me){return(y(me)||u(me))&&ve(me,ie)}))}var We=function(L,ie,me){if(Array.isArray(ie)){var ke=ie.length-1;L.empty(),ie.forEach((Ze,st)=>{(0,be.A)("<span>").addClass(_).text(Ze).appendTo(L),st!==ke&&(0,be.A)("<span>").addClass(h).text(me&&me.valueSeparator?me.valueSeparator:"|").addClass(C).appendTo(L)})}else L.text(ie||b.A.format("dxFilterBuilder-enterValueText"))}},219:(Mt,dt,i)=>{i.d(dt,{A:()=>Ie});var be=i(8168),k=i(4292),se=i(9407),_e=i(7951),he=i(2101),Ce=i(3862),le=i(6018),ae=i(6221),oe=i(5042),ee=i(2463),q=i(7310),P=i(638),Y=i(2934),Ee=i(9845),re=i(7514);const ue=ae.A.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(B,n){var g=this;(0,he.__)(B,function(o,l){var _=(0,ee.O9)(n)?n:g._getParentId(l),h=g._convertItemToNode(l,_);g._dataStructure.push(h),g._checkForDuplicateId(h.internalFields.key),g._indexByKey[h.internalFields.key]=g._dataStructure.length-1,g._itemHasChildren(l)&&g._convertItemsToNodes(g._dataAccessors.getters.items(l),h.internalFields.key)})},_checkForDuplicateId:function(B){if((0,ee.O9)(this._indexByKey[B]))throw q.A.Error("E1040",B)},_getParentId:function(B){return"plain"===this._dataType?this._dataAccessors.getters.parentKey(B):void 0},_itemHasChildren:function(B){if("plain"!==this._dataType){var n=this._dataAccessors.getters.items(B);return n&&n.length}},_getUniqueKey:function(B){var n=this._dataAccessors.getters.key,g=n(B);return n&&(g||0===g)&&(0,ee.sO)(g)?g:this.getItemsCount()},_convertItemToNode:function(B,n){this._itemsCount++,!1!==B.visible&&this._visibleItemsCount++;var g={internalFields:{disabled:this._dataAccessors.getters.disabled(B,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(B,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(B,{defaultValue:!1}),key:this._getUniqueKey(B),parentKey:(0,ee.O9)(n)?n:this._rootValue,item:this._makeObjectFromPrimitive(B),childrenKeys:[]}};return(0,_e.X)(g,B),delete g.items,g},setChildrenKeys:function(){var B=this;(0,he.__)(this._dataStructure,function(n,g){if(g.internalFields.parentKey!==B._rootValue){var o=B.getParentNode(g);o&&o.internalFields.childrenKeys.push(g.internalFields.key)}})},_makeObjectFromPrimitive:function(B){if((0,ee.sO)(B)){var n=B;this._dataAccessors.setters.key(B={},n)}return B},_convertToPublicNode:function(B,n){if(!B)return null;var g={text:this._dataAccessors.getters.display(B),key:B.internalFields.key,selected:B.internalFields.selected,expanded:B.internalFields.expanded,disabled:B.internalFields.disabled,parent:n||null,itemData:B.internalFields.item,children:[],items:[]};return g.parent&&(g.parent.children.push(g),g.parent.items.push(g)),g},convertToPublicNodes:function(B,n){if(!B.length)return[];var g=this,o=[];return(0,he.__)(B,function(l,_){_=(0,ee.sO)(_)?g._getByKey(_):_;var h=g._convertToPublicNode(_,n);h.children=g.convertToPublicNodes(_.internalFields.childrenKeys,h),o.push(h),_.internalFields.publicNode=h}),o},setDataAccessors:function(B){this._dataAccessors=B},_getByKey:function(B){return this._dataStructure[this.getIndexByKey(B)]||null},getParentNode:function(B){return this._getByKey(B.internalFields.parentKey)},getByKey:function(B,n){if(null==n)return null;var h,g=null,o=this;return h=n,(0,he.__)(B,function(C,F){if((F.internalFields&&F.internalFields.key||o._dataAccessors.getters.key(F)).toString()===h.toString())return g=F,!1}),g},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var B=this;this._indexByKey={},(0,he.__)(this._dataStructure,function(n,g){B._checkForDuplicateId(g.internalFields.key),B._indexByKey[g.internalFields.key]=n})},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},(0,he.__)(this._dataStructure,function(B,n){n.internalFields.childrenKeys=[]})},getIndexByKey:function(B){return this._indexByKey[B]},createPlainStructure:function(B,n,g){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=n,this._dataType=g,this._indexByKey={},this._convertItemsToNodes(B),this.setChildrenKeys(),this._dataStructure}});var b="expanded",c="selected";P.A.setEditorClass(Y.A);const m=ae.A.inherit({ctor:function(B){this.options={},(0,_e.X)(this.options,this._defaultOptions(),B),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(B,n){this.options[B]=n,"recursiveSelection"===B&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new ue,onNodeChanged:oe.lQ,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(c)},_updateExpansion:function(B){this.options.recursiveExpansion&&(B?this._updateOneBranch(B):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(b)},_updateNodesKeysArray:function(B){var n=this,g=[];return(0,he.__)(n._getDataBySelectionMode(),function(o,l){n._isNodeVisible(l)&&l.internalFields[B]&&(B===b||n.options.multipleSelection?g.push(l.internalFields.key):(g.length&&n.toggleSelection(g[0],!1,!0),g=[l.internalFields.key]))}),g},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(B){return!1!==B.internalFields.item.visible},_getByKey:function(B,n){return B===this._dataStructure?this.options.dataConverter._getByKey(n):this.options.dataConverter.getByKey(B,n)},_setChildrenSelection:function(){var B=this;(0,he.__)(this._dataStructure,function(n,g){if(g.internalFields.childrenKeys.length){var o=g.internalFields.selected;!0===o&&B._toggleChildrenSelection(g,o)}})},_setParentSelection:function(){var B=this;(0,he.__)(this._dataStructure,function(n,g){B.options.dataConverter.getParentNode(g)&&g.internalFields.parentKey!==B.options.rootValue&&B._iterateParents(g,function(l){var _=B._calculateSelectedState(l);B._setFieldState(l,c,_)})})},_setParentExpansion:function(){var B=this;(0,he.__)(this._dataStructure,function(n,g){g.internalFields.expanded&&B._updateOneBranch(g.internalFields.key)})},_updateOneBranch:function(B){var n=this,g=this.getNodeByKey(B);n._iterateParents(g,function(o){n._setFieldState(o,b,!0)})},_iterateChildren:function(B,n,g,o){if((0,ee.Tn)(g)){var l=this,_=B.internalFields.key;-1===(o=o||[]).indexOf(_)&&(o.push(_),(0,he.__)(B.internalFields.childrenKeys,function(h,C){var F=l.getNodeByKey(C);g(F),F.internalFields.childrenKeys.length&&n&&l._iterateChildren(F,n,g,o)}))}},_iterateParents:function(B,n,g){if(B.internalFields.parentKey!==this.options.rootValue&&(0,ee.Tn)(n)){var o=B.internalFields.key;if(-1===(g=g||[]).indexOf(o)){g.push(o);var l=this.options.dataConverter.getParentNode(B);l&&(n(l),l.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(l,n,g))}}},_calculateSelectedState:function(B){for(var n=B.internalFields.childrenKeys.length,g=0,o=0,l=!1,_=0;_<=n-1;_++){var h=this.getNodeByKey(B.internalFields.childrenKeys[_]),F=h.internalFields.selected;!1===h.internalFields.item.visible?o++:F?g++:void 0===F&&(g+=.5)}return g&&(l=g===n-o||void 0),l},_toggleChildrenSelection:function(B,n){var g=this;this._iterateChildren(B,!0,function(o){g._isNodeVisible(o)&&g._setFieldState(o,c,n)})},_setFieldState:function(B,n,g){B.internalFields[n]!==g&&(B.internalFields[n]=g,B.internalFields.publicNode&&(B.internalFields.publicNode[n]=g),this.options.dataAccessors.setters[n](B.internalFields.item,g),this.options.onNodeChanged(B))},_markChildren:function(B){var n=this;(0,he.__)(B,function(g,o){var l=n.getIndexByKey(o),_=n.getNodeByKey(o);n._dataStructure[l]=0,_.internalFields.childrenKeys.length&&n._markChildren(_.internalFields.childrenKeys)})},_removeNode:function(B){var n=this.getNodeByKey(B);this._dataStructure[this.getIndexByKey(B)]=0,this._markChildren(n.internalFields.childrenKeys);var g=this,o=0,l=(0,_e.X)([],this._dataStructure);(0,he.__)(l,function(_,h){h||(g._dataStructure.splice(_-o,1),o++)})},_addNode:function(B){var n=this.options.dataConverter,g=n._convertItemToNode(B,this.options.dataAccessors.getters.parentKey(B));this._dataStructure=this._dataStructure.concat(g),this._initialDataStructure=this._initialDataStructure.concat(g),n._dataStructure=n._dataStructure.concat(g)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(B){var n=null;return(0,he.__)(this._dataStructure,function(g,o){if(o.internalFields.item===B)return n=o,!1}),n},getNodesByItems:function(B){var n=this,g=[];return(0,he.__)(B,function(o,l){var _=n.getNodeByItem(l);_&&g.push(_)}),g},getNodeByKey:function(B,n){return this._getByKey(n||this._getDataBySelectionMode(),B)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(B){return B.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(B){return(0,Ee.A)(this._dataStructure,{langParams:this.options.langParams}).filter(["internalFields.parentKey",B]).toArray()},getIndexByKey:function(B){return this.options.dataConverter.getIndexByKey(B)},addItem:function(B){this._addNode(B),this._updateFields()},removeItem:function(B){this._removeNode(B),this._updateFields()},toggleSelection:function(B,n,g){var o=this._isSingleModeUnselect(n),l=this._getByKey(g||o?this._initialDataStructure:this._dataStructure,B);this._setFieldState(l,c,n),this.options.recursiveSelection&&!g&&(n?this._setChildrenSelection():this._toggleChildrenSelection(l,n),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(c)},_isSingleModeUnselect:function(B){return!this.options.multipleSelection&&!B},toggleNodeDisabledState:function(B,n){var g=this.getNodeByKey(B);this._setFieldState(g,"disabled",n)},toggleSelectAll:function(B){if((0,ee.O9)(B)){var n=this,g=n._selectedNodesKeys[n._selectedNodesKeys.length-1],o=n._isSingleModeUnselect(B)?this._initialDataStructure:this._dataStructure;(0,he.__)(o,function(l,_){n._isNodeVisible(_)&&n._setFieldState(_,c,B)}),n._selectedNodesKeys=n._updateNodesKeysArray(c),!B&&n.options.selectionRequired&&n.toggleSelection(g,!0)}},isAllSelected:function(){return!!this.getSelectedNodesKeys().length&&(this.getSelectedNodesKeys().length===this.getVisibleItemsCount()||void 0)},toggleExpansion:function(B,n){var g=this.getNodeByKey(B);this._setFieldState(g,b,n),n&&this._updateExpansion(B),this._expandedNodesKeys=this._updateNodesKeysArray(b)},isFiltered:function(B){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[B]).length},_createCriteria:function(B,n,g){var o=[];return Array.isArray(B)?((0,he.__)(B,function(l,_){o.push([_,g,n],"or")}),o.pop(),o):[B,g,n]},_filterDataStructure:function(B,n){var g=this.options.searchExpr||this.options.dataAccessors.getters.display,o=P.A.getOperationBySearchMode(this.options.searchMode),l=this._createCriteria(g,B,o);return(0,Ee.A)(n=n||this._initialDataStructure,{langParams:this.options.langParams}).filter(l).toArray()},search:function(B){var n=this,g=this._filterDataStructure(B),o=this.options.dataConverter;return function l(_,h){for(var C=_.length;h<C;){var F=_[h];if(F.internalFields.parentKey!==n.options.rootValue){var te=o.getParentNode(F);te?(te.internalFields.expanded||n._setFieldState(te,b,!0),_.includes(te)?h++:(_.splice(h,0,te),l(_,h))):(q.A.log("W1007",F.internalFields.parentKey,F.internalFields.key),h++)}else h++}}(g,0),this.options.sort&&(g=re.A.queryByOptions((0,Ee.A)(g),{sort:this.options.sort,langParams:this.options.langParams}).toArray()),o._indexByKey={},(0,he.__)(g,function(l,_){_.internalFields.childrenKeys=[],o._indexByKey[_.internalFields.key]=l}),o._dataStructure=g,o.setChildrenKeys(),o._dataStructure}});var S=i(4874),I=i(6311);const Ie=S.A.inherit({_getDefaultOptions:function(){return(0,_e.X)(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===Ce.A.real().deviceType&&!Ce.A.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var B=this._createDataAdapterAccessors();this._dataAdapter=new m((0,_e.X)({dataAccessors:{getters:B.getters,setters:B.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:oe.lQ,_getItemExtraPropNames:oe.lQ,_initDynamicTemplates:function(){var B=["text","html","items","icon"].concat(this._getItemExtraPropNames());this._templateManager.addDefaultTemplates({item:new I.U(this._addContent.bind(this),B,this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_addContent:function(B,n){B.html(n.html).append(this._getIconContainer(n)).append(this._getTextContainer(n))},_getLinkContainer:function(B,n,g){var{linkAttr:o,url:l}=g,_=(0,ee.Gv)(o)?o:{};return(0,k.A)("<a>").addClass("dx-item-url").attr((0,be.A)({},_,{href:l})).append(B).append(n)},_getIconContainer:function(B){if(B.icon){var g,n=(0,le.N)(B.icon);return n.is("img")&&n.attr("alt",null!==(g=B.text)&&void 0!==g?g:"".concat(this.NAME," item icon")),n}},_getTextContainer:function(B){return(0,k.A)("<span>").text(B.text)},_initAccessors:function(){var B=this;(0,he.__)(this._getAccessors(),function(n,g){B._compileAccessor(g)}),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(B){var n=this,g=[];return(0,he.__)(B.internalFields.childrenKeys,function(o,l){var _=n._dataAdapter.getNodeByKey(l);g.push(_)}),g},_hasChildren:function(B){return B&&B.internalFields.childrenKeys.length},_compileAccessor:function(B){var n="_"+B+"Getter",g="_"+B+"Setter",o=this.option(B+"Expr");return o?(0,ee.Tn)(o)?(this[g]=function(l,_){l[o()]=_},void(this[n]=function(l){return l[o()]})):(this[n]=(0,se.Hz)(o),void(this[g]=(0,se.vL)(o))):(this[n]=oe.lQ,void(this[g]=oe.lQ))},_createDataAdapterAccessors:function(){var B=this,n={getters:{},setters:{}};return(0,he.__)(this._getAccessors(),function(g,o){var _="_"+o+"Setter",h="parentId"===o?"parentKey":o;n.getters[h]=B["_"+o+"Getter"],n.setters[h]=B[_]}),n.getters.display=this._displayGetter?this._displayGetter:g=>g.text,n},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:oe.lQ,_renderItemFrame:function(B,n){var g=this.callBase.apply(this,arguments);return g.toggleClass("dx-state-disabled",!!this._disabledGetter(n)),g},_optionChanged:function(B){switch(B.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(B);break;default:this.callBase(B)}}})},9067:(Mt,dt,i)=>{var be=i(638),k=i(2934);be.A.setEditorClass(k.A)},7946:(Mt,dt,i)=>{i.d(dt,{J:()=>Ce});var be=i(186),k=i(4292),se=i(4435),_e=i(2463),Ce=(le,ae)=>{var q,oe=(0,k.A)((0,se.zk)()),{top:ee}=le.offset();if((0,_e.kf)(ae)){if(ae<ee)return ee-ae;q=(0,be.yV)(oe)-ae+oe.scrollTop()}else{var P=ee-oe.scrollTop(),Y=(0,be.yV)(oe)-P-(0,be.P$)(le);q=Math.max(P,Y)}return.9*q}},7969:(Mt,dt,i)=>{i.d(dt,{A:()=>w});var be=i(186),k=i(4292),se=i(4435),_e=i(181),he=i(7669),Ce=i(1269),le=i(4905),ae=i(7951),oe=i(2824),ee=i(4441),q=i(2463),P=i(2209),Y=i(9104),Ee=i(7310),re=i(4633),j=i(448),ue=i(1299),b=i(8168),c=i(8587),a=i(5042),d={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},B=i(7420),n=["shading","target","$arrow"],g={left:-1,top:-1,center:0,right:1,bottom:1},o={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}},l={h:10,v:10};class _ extends B.A{constructor(J){var{shading:$,target:ye,$arrow:de}=J;super((0,c.A)(J,n)),this._props=(0,b.A)({},this._props,{shading:$,target:ye}),this._$arrow=de,this._positionSide=void 0,this.updatePosition(this._props.position)}positionWrapper(){this._props.shading&&this._$wrapper.css({top:0,left:0})}updateTarget(J){this._props.target=J,this.updatePosition(this._props.position)}_renderBoundaryOffset(){}_getContainerPosition(){var J=(0,a.Li)(this._position.offset||""),{h:$,v:ye}=J,de=this._isVerticalSide(),Te=this._isHorizontalSide();if(de||Te){var f=(this._isPopoverInside()?-1:1)*g[this._positionSide]*((de?(0,be.Oq)(this._$arrow):(0,be.RG)(this._$arrow))-this._getContentBorderWidth(this._positionSide));de?ye+=f:$+=f}return(0,ae.X)({},this._position,{offset:$+" "+ye})}_getContentBorderWidth(J){var $=this._$content.css(d[J]);return parseInt($)||0}_isPopoverInside(){var J=ee.A.setup.normalizeAlign(this._position.my),$=ee.A.setup.normalizeAlign(this._position.at);return J.h===$.h&&J.v===$.v}_isVerticalSide(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._positionSide;return"top"===J||"bottom"===J}_isHorizontalSide(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._positionSide;return"left"===J||"right"===J}_getDisplaySide(J){var $=ee.A.setup.normalizeAlign(J.my),ye=ee.A.setup.normalizeAlign(J.at),de=g[$.h]===g[ye.h]&&g[$.v]===g[ye.v]?-1:1;return Math.abs(g[$.h]-de*g[ye.h])>Math.abs(g[$.v]-de*g[ye.v])?ye.h:ye.v}_normalizePosition(J){var ye,$={of:this._props.target,boundaryOffset:l};return ye=(0,q.O9)(J)?(0,ae.X)(!0,{},$,this._positionToObject(J)):$,this._positionSide=this._getDisplaySide(ye),ye}_positionToObject(J){return(0,q.Kg)(J)?(0,ae.X)({},o[J]):J}}var X={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},ge=function(V){return(0,q.Gv)(V)?V.name:V},He=function(V,J){var $=V.option(J);return ge($)},D=function(V,J){var{target:$,shading:ye,disabled:de,hideEvent:Te}=V.option(),Ne=(0,q.Kg)($),T=ye&&"hide"===J,r=T?null:He(V,"".concat(J,"Event"));if(T&&Te&&Ee.A.log("W1020"),r&&!de){var v=(0,Y.b4)(r,V.NAME),f=V._createAction(function(){var y=function(V,J){var $=V.option(J);return(0,q.Gv)($)&&$.delay}(V,J+"Event");this._clearEventsTimeouts(),y?this._timeouts[J]=setTimeout(function(){V[J]()},y):V[J]()}.bind(V),{validatingTargetName:"target"}),s=function(y){f({event:y,target:(0,k.A)(y.currentTarget)})},t="_"+J+"EventHandler";if(Ne)V[t]=s,Ce.A.on(he.A.getDocument(),v,$,s);else{var u=(0,_e.c)((0,k.A)($));V[t]=void 0,Ce.A.on(u,v,s)}}},U=function(V,J,$,ye){var de=ye||He(V,$+"Event");if(de){de=(0,Y.b4)(de,V.NAME);var Te="_"+$+"EventHandler";V[Te]?Ce.A.off(he.A.getDocument(),de,J,V[Te]):Ce.A.off((0,_e.c)((0,k.A)(J)),de)}},p=re.A.inherit({_getDefaultOptions:function(){return(0,ae.X)(this.callBase(),{target:void 0,shading:!1,position:(0,ae.X)({},o.bottom),hideOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",from:1,to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,hideOnParentScroll:!0,arrowPosition:"",arrowOffset:0,_fixWrapperPosition:!0})},_defaultOptionsRules:function(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}},{device:function(){return!(0,se.Vd)()},options:{animation:null}},{device:function(){return(0,ue.Nt)()},options:{useFlatToolbarButtons:!0}},{device:function(){return(0,ue.gx)()},options:{useDefaultToolbarButtons:!0,showCloseButton:!1}}]},_init:function(){var V;this.callBase(),this._renderArrow(),this._timeouts={},this.$element().addClass("dx-popover"),this.$wrapper().addClass("dx-popover-wrapper");var J=null===(V=this.option("toolbarItems"))||void 0===V?void 0:V.length;this.setAria("role",J?"dialog":"tooltip")},_render:function(){this.callBase.apply(this,arguments),this._detachEvents(this.option("target")),this._attachEvents()},_detachEvents:function(V){U(this,V,"show"),U(this,V,"hide")},_attachEvents:function(){D(this,"show"),D(this,"hide")},_renderArrow:function(){this._$arrow=(0,k.A)("<div>").addClass("dx-popover-arrow").prependTo(this.$overlayContent())},_documentDownHandler:function(V){return!this._isOutsideClick(V)||this.callBase(V)},_isOutsideClick:function(V){return!(0,k.A)(V.target).closest(this.option("target")).length},_animate:function(V){V&&V.to&&"object"==typeof V.to&&(0,ae.X)(V.to,{position:this._getContainerPosition()}),this.callBase.apply(this,arguments)},_stopAnimation:function(){this.callBase.apply(this,arguments)},_renderTitle:function(){this.$wrapper().toggleClass("dx-popover-without-title",!this.option("showTitle")),this.callBase()},_renderPosition:function(){var V=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.callBase(),this._renderOverlayPosition(V),this._actions.onPositioned()},_renderOverlayPosition:function(V){this._resetOverlayPosition(V),this._updateContentSize(V);var J=this._getContainerPosition(),$=ee.A.setup(this.$overlayContent(),J),ye=this._getSideByLocation($);this._togglePositionClass("dx-position-"+ye),this._toggleFlippedClass($.h.flip,$.v.flip),(this._isHorizontalSide()||this._isVerticalSide())&&this._renderArrowPosition(ye)},_resetOverlayPosition:function(V){this._setContentHeight(V),this._togglePositionClass("dx-position-"+this._positionController._positionSide),(0,oe.Cy)(this.$overlayContent(),{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})},_updateContentSize:function(V){if(this.$content()&&V){var J=ee.A.calculate(this.$overlayContent(),this._getContainerPosition());if(J.h.oversize>0&&this._isHorizontalSide()&&!J.h.fit){var $=(0,be.RG)(this.$overlayContent())-J.h.oversize;(0,be.zj)(this.$overlayContent(),$)}if(J.v.oversize>0&&this._isVerticalSide()&&!J.v.fit){var ye=(0,be.Oq)(this.$overlayContent())-J.v.oversize,de=(0,be.Oq)(this.$content())-J.v.oversize;(0,be.k$)(this.$overlayContent(),ye),(0,be.k$)(this.$content(),de)}}},_getContainerPosition:function(){return this._positionController._getContainerPosition()},_hideOnParentScrollTarget:function(){return(0,k.A)(this._positionController._position.of||this.callBase())},_getSideByLocation:function(V){var J=V.v.flip,$=V.h.flip;return this._isVerticalSide()&&J||this._isHorizontalSide()&&$||this._isPopoverInside()?X[this._positionController._positionSide]:this._positionController._positionSide},_togglePositionClass:function(V){this.$wrapper().removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(V)},_toggleFlippedClass:function(V,J){this.$wrapper().toggleClass("dx-popover-flipped-horizontal",V).toggleClass("dx-popover-flipped-vertical",J)},_renderArrowPosition:function(V){var J=(0,j.N)(this._$arrow.get(0)),$=-(this._isVerticalSide(V)?J.height:J.width);this._$arrow.css(X[V],$);var pe,ye=this._isVerticalSide(V)?"left":"top",de=this._isVerticalSide(V)?"width":"height",Te=(0,k.A)(this._positionController._position.of),Ne=ee.A.offset(Te)||{top:0,left:0},T=ee.A.offset(this.$overlayContent()),r=J[de],v=T[ye],f=(0,j.N)(this.$overlayContent().get(0))[de],s=Ne[ye],t=Te.get(0),u=t&&!t.preventDefault?(0,j.N)(t)[de]:0,y=Math.max(v,s),K=Math.min(v+f,s+u);pe="start"===this.option("arrowPosition")?y-v:"end"===this.option("arrowPosition")?K-v-r:(y+K)/2-v-r/2;var we=this._positionController._getContentBorderWidth(V),R=(0,P.df)(pe-we+this.option("arrowOffset"),we,f-r-2*we);this._$arrow.css(ye,R)},_isPopoverInside:function(){return this._positionController._isPopoverInside()},_setContentHeight:function(V){V&&this.callBase()},_getPositionControllerConfig(){var{shading:V,target:J}=this.option();return(0,ae.X)({},this.callBase(),{target:J,shading:V,$arrow:this._$arrow})},_initPositionController(){this._positionController=new _(this._getPositionControllerConfig())},_renderWrapperDimensions:function(){this.option("shading")&&this.$wrapper().css({width:"100%",height:"100%"})},_isVerticalSide:function(V){return this._positionController._isVerticalSide(V)},_isHorizontalSide:function(V){return this._positionController._isHorizontalSide(V)},_clearEventTimeout:function(V){clearTimeout(this._timeouts[V])},_clearEventsTimeouts:function(){this._clearEventTimeout("show"),this._clearEventTimeout("hide")},_clean:function(){this._detachEvents(this.option("target")),this.callBase.apply(this,arguments)},_optionChanged:function(V){switch(V.name){case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":V.value&&this.option("fullScreen",!1);break;case"target":V.previousValue&&this._detachEvents(V.previousValue),this._positionController.updateTarget(V.value),this._invalidate();break;case"showEvent":case"hideEvent":var J=V.name.substring(0,4),$=ge(V.previousValue);this.hide(),U(this,this.option("target"),J,$),D(this,J);break;case"visible":this._clearEventTimeout(V.value?"show":"hide"),this.callBase(V);break;default:this.callBase(V)}},show:function(V){return V&&this.option("target",V),this.callBase()}});(0,le.A)("dxPopover",p);const w=p},4038:(Mt,dt,i)=>{i.d(dt,{A:()=>Ce}),i(6845);var k=i(4633),se=i(4905),_e=i(7951);let he=(()=>{class le extends k.A{_getDefaultOptions(){return(0,_e.X)(super._getDefaultOptions(),{preventScrollEvents:!1})}_getToolbarName(){return"dxToolbar"}}return le.defaultOptions=function(ae){k.A.defaultOptions(ae)},le})();(0,se.A)("dxPopup",he);const Ce=he},2328:(Mt,dt,i)=>{i.d(dt,{Dy:()=>Ie,Mo:()=>n,WX:()=>N,Z7:()=>c,js:()=>Pe,rK:()=>I,sf:()=>B,zY:()=>xe});var be=i(4292),k=i(1269),se=i(9104),_e=i(7951),he=i(7669),Ce=i(5042),le="dx-state-focused",ae="dx-cell-focus-disabled",ee=".dx-datagrid-rowsview .dx-row",q="".concat(ee," > td"),P=".dx-treelist-rowsview .dx-row",Y="".concat(P," > td"),Ee={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:["".concat(".dx-row-focused"),"".concat(ee,"[tabindex]"),"".concat(q,"[tabindex]"),"".concat(q),"".concat(P,"[tabindex]"),"".concat(Y,"[tabindex]"),"".concat(Y)],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]},re=!1,j=!1,ue=null;function c(g,o){var l=(0,be.A)(g),_=l.attr("aria-label"),C=a(_,o.element()).index(l);ue=(0,_e.X)({},{ariaLabel:_,index:C},{viewInstance:o})}function a(g,o){return(0,be.A)(o).find(g?'[aria-label="'.concat(g,'"][tabindex]'):"[tabindex]")}function d(g,o){var l=o?.getRootNode()||he.A.getDocument();for(var _ in g){var h=g[_],C=(0,be.A)(l).find(h).first();if(C.length)return C}}function S(){j="visible"===he.A.getDocument().visibilityState}function I(){k.A.on(he.A.getDocument(),"visibilitychange",S)}function N(){k.A.off(he.A.getDocument(),"visibilitychange",S)}function xe(g,o){j=!0,g.focus({preventScroll:o}),j=!1}function Pe(g,o,l,_,h,C){if(o.option("useLegacyKeyboardNavigation"))return Ce.lQ;var F=()=>(0,be.A)(o.element()),te=He=>function b(g,o,l,_,h,C){var F=function m(g,o,l){var _={event:o,handled:!1};return l?l(_):g._createActionByOption("onKeyDown")(_),_.handled}(o,l.originalEvent,C);if(!F){var te=(0,se.YD)(l);"enter"===te||"space"===te?(c(l.target,o),_&&_({event:l})):"tab"===te?h.addClass(le):B(g,o,l)}}(g,o,He,h,F(),C),X=()=>{re=!0,F().removeClass(le)},ge=()=>{!re&&!j&&F().addClass(le),re=!1};return k.A.on(l,"keydown",_,te),k.A.on(l,"mousedown",_,X),k.A.on(l,"focusin",_,ge),()=>{k.A.off(l,"keydown",_,te),k.A.off(l,"mousedown",_,X),k.A.off(l,"focusin",_,ge)}}function Ie(g){if(!g.option("useLegacyKeyboardNavigation")&&ue){var o=ue.viewInstance;if(o){var _=a(ue.ariaLabel,o.element()).eq(ue.index);ue=null,k.A.trigger(_,"focus")}}}function B(g,o,l){var _=(0,se.YD)(l);if(l.ctrlKey&&("upArrow"===_||"downArrow"===_))for(var h=Object.keys(Ee),C=h.indexOf(g);C>=0&&C<h.length;){C="upArrow"===_?--C:++C;var X=d(Ee[h[C]],l.target);if(X&&X.length){X.attr("tabindex",o.option("tabindex")||0),k.A.trigger(X,"focus"),X.removeClass(ae);break}}}function n(g,o){g.option("useLegacyKeyboardnavigation")||o.attr("tabindex",g.option("tabindex")||0)}},438:(Mt,dt,i)=>{i.d(dt,{A:()=>le});var be=i(2463),k=i(2101),se=["year","month","day"],_e=["year","month","day","hour","minute"],he=function(ae){return"date"===ae||"datetime"===ae},Ce=function(ae){var oe,ee=[],q=["year","month","day","hour","minute","second"],P=ae.headerFilter&&ae.headerFilter.groupInterval,Y="quarter"===P?"month":P;return he(ae.dataType)&&null!==P?(ee="datetime"===ae.dataType?_e:se,(oe=q.indexOf(Y))>=0&&(ee=q.slice(0,oe)).push(P),ee):(0,be.O9)(P)?Array.isArray(P)?P:[P]:void 0};const le=function(){var ae=function(P,Y){var Ee=P.dataField||P.selector;return"search"===Y&&(Ee=P.displayField||P.calculateDisplayValue||Ee),Ee},oe=function(P,Y){var Ee,re,j,b,ue=ae(this,Y);if(Array.isArray(P)&&(0,be.O9)(P[0])&&(0,be.O9)(P[1]))return re=[ue,">=",P[0]],j=[ue,"<=",P[1]],he(this.dataType)&&(b=P[1]).getHours()+b.getMinutes()+b.getSeconds()+b.getMilliseconds()<1&&(Ee=new Date(P[1].getTime()),"date"===this.dataType&&Ee.setDate(P[1].getDate()+1),j=[ue,"<",Ee]),[re,"and",j]},ee=function(P,Y,Ee){var re,j,ue,a,b=(0,be.$P)(a=P)?[a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()]:(0,k.Tj)((""+a).split("/"),function(d,m){return 1===m?Number(d)-1:Number(d)}),c=ae(this,Ee);switch("headerFilter"===Ee?ue=Ce(this)[b.length-1]:"datetime"===this.dataType&&(ue="minute"),ue){case"year":re=new Date(b[0],0,1),j=new Date(b[0]+1,0,1);break;case"month":re=new Date(b[0],b[1],1),j=new Date(b[0],b[1]+1,1);break;case"quarter":re=new Date(b[0],3*b[1],1),j=new Date(b[0],3*b[1]+3,1);break;case"hour":re=new Date(b[0],b[1],b[2],b[3]),j=new Date(b[0],b[1],b[2],b[3]+1);break;case"minute":re=new Date(b[0],b[1],b[2],b[3],b[4]),j=new Date(b[0],b[1],b[2],b[3],b[4]+1);break;case"second":re=new Date(b[0],b[1],b[2],b[3],b[4],b[5]),j=new Date(b[0],b[1],b[2],b[3],b[4],b[5]+1);break;default:re=new Date(b[0],b[1],b[2]),j=new Date(b[0],b[1],b[2]+1)}switch(Y){case"<":return[c,"<",re];case"<=":return[c,"<",j];case">":return[c,">=",j];case">=":return[c,">=",re];case"<>":return[[c,"<",re],"or",[c,">=",j]];default:return[[c,">=",re],"and",[c,"<",j]]}},q=function(P,Y,Ee){var re=ae(this,Ee),j=Ce(this);if("headerFilter"===Ee&&j&&(0,be.O9)(P)){var ue=(""+P).split("/"),b=Number(ue[ue.length-1]);return[[re,">=",b],"and",[re,"<",b+j[ue.length-1]]]}return[re,Y||"=",P]};return{defaultCalculateFilterExpression:function(P,Y,Ee){var re=this,j=ae(re,Ee),ue=re.calculateDisplayValue&&"search"===Ee,b=ue&&re.lookup&&re.lookup.dataType||re.dataType,c=null;if("headerFilter"!==Ee&&"filterBuilder"!==Ee||null!==P)if("string"!==b||re.lookup&&!ue){if("between"===Y)return oe.apply(re,[P,Ee]);if(he(b)&&(0,be.O9)(P))return ee.apply(re,arguments);if("number"===b)return q.apply(re,arguments);c=[j,Y||"=",P]}else c=[j,Y||"contains",P];else c=[j,Y||"=",null],"string"===b&&(c=[c,"="===Y?"or":"and",[j,Y||"=",""]]);return c},getGroupInterval:Ce}}()},4626:(Mt,dt,i)=>{i.d(dt,{A:()=>d});var be=i(4292),k=i(1269),se=i(2463),_e=i(8059),he=i(9407),Ce=i(9263),le=i(7951),ae=i(3862),oe=i(181),ee=i(1076),q=i(9104),{isWrapped:ue}=(i(2934),i(8709),i(9454),i(2379),i(1214),_e.A);const d=function(){var m=function(o,l){return(0,le.X)(o,{readOnly:l.readOnly,placeholder:l.placeholder,inputAttr:{id:l.id,"aria-labelledby":l["aria-labelledby"]},tabIndex:l.tabIndex},l.editorOptions)},S=function(){return Ce.A.mozilla||ae.A.real().ios},I=function(o){var l={},_=S(),h=o.sharedData||l;return m({placeholder:o.placeholder,width:o.width,value:o.value,onValueChanged:function(C){var F="filterRow"===o.parentType||"searchPanel"===o.parentType,te=C.event&&("input"===C.event.type||"keyup"===C.event.type),X=function(ge,He){o&&o.setValue(ge.value,He)};clearTimeout(l.valueChangeTimeout),te&&F?h.valueChangeTimeout=l.valueChangeTimeout=setTimeout(function(){X(C,l.valueChangeTimeout!==h.valueChangeTimeout)},(0,se.O9)(o.updateValueTimeout)?o.updateValueTimeout:0):X(C)},onKeyDown:function(C){_&&"enter"===(0,q.YD)(C.event)&&k.A.trigger((0,be.A)(C.component._input()),"change")},valueChangeEvent:"change"+("filterRow"===o.parentType?" keyup input":"")},o)},N=function(o){o.editorName="dxDateBox",o.editorOptions=m({value:o.value,onValueChanged:function(l){o.setValue(l.value)},onKeyDown:function(l){var{component:_,event:h}=l,C=_.option("useMaskBehavior");(S()||C)&&"enter"===(0,q.YD)(h)&&(_.blur(),_.focus())},displayFormat:o.format,type:o.dataType,dateSerializationFormat:null,width:"filterBuilder"===o.parentType?void 0:"auto"},o)},xe=function(o){var h,l=I(o),_="searchPanel"===o.parentType;l.value=o.editorType&&"dxTextBox"!==o.editorType?o.value:(0,se.O9)(h=o.value)?h.toString():"",l.valueChangeEvent+=_?" keyup input search":"",l.mode=l.mode||(_?"search":"text"),o.editorName="dxTextBox",o.editorOptions=l},Pe=function(o){var l=I(o);l.value=(0,se.O9)(o.value)?o.value:null,o.editorName="dxNumberBox",o.editorOptions=l};function Ie(o){var _,h,C,l=o.lookup,F="filterRow"===o.parentType;if(l){var te;_=(0,he.Hz)(l.displayExpr),(0,se.Tn)(h=l.dataSource)&&!ue(h)&&(h=h(o.row||{}),function(ge){if(ge.row&&ge.row.watch&&"dataRow"===ge.parentType){var He=ge.editorOptions||{};ge.editorOptions=He;var Z,D=He.onInitialized;He.onInitialized=function(w){D&&D.apply(this,arguments),(Z=w.component).on("disposing",p)};var U,p=ge.row.watch(()=>(U=ge.lookup.dataSource(ge.row))&&U.filter,()=>{Z.option("dataSource",U)},w=>{ge.row=w})}}(o)),((0,se.Gv)(h)||Array.isArray(h))&&(h=(0,ee.ho)(h),F&&(C=h.postProcess,h.postProcess=function(ge){return 0===this.pageIndex()&&(ge=ge.slice(0)).unshift(null),C?C.call(this,ge):ge}));var X=!(!l.allowClearing||F);o.editorName=null!==(te=o.editorType)&&void 0!==te?te:"dxSelectBox",o.editorOptions=m({searchEnabled:!0,value:o.value,valueExpr:o.lookup.valueExpr,searchExpr:o.lookup.searchExpr||o.lookup.displayExpr,allowClearing:X,showClearButton:X,displayExpr:function(ge){return null===ge?o.showAllText:_(ge)},dataSource:h,onValueChanged:function(ge){var He=[ge.value];!F&&He.push(ge.component.option("text")),o.setValue.apply(this,He)}},o)}}function B(o){o.editorName="dxCheckBox",o.editorOptions=m({elementAttr:{id:o.id},value:(0,se.O9)(o.value)?o.value:void 0,hoverStateEnabled:!o.readOnly,focusStateEnabled:!o.readOnly,activeStateEnabled:!1,onValueChanged:function(l){o.setValue&&o.setValue(l.value,l)}},o)}var n=o=>{o.editorName=o.editorType,o.editorOptions=m({value:o.value,onValueChanged:function(l){o.setValue(l.value)}},o)},g=o=>{var h,l={dxDateBox:N,dxCheckBox:B,dxNumberBox:Pe,dxTextBox:xe};if(o.lookup)Ie(o);else if(o.editorType){var _;(null!==(_=l[o.editorType])&&void 0!==_?_:n)(o)}else switch(o.dataType){case"date":case"datetime":N(o);break;case"boolean":"filterRow"===(h=o).parentType||"filterBuilder"===h.parentType?Ie((0,le.X)(h,{lookup:{displayExpr:function(C){return!0===C?h.trueText||"true":!1===C?h.falseText||"false":void 0},dataSource:[!0,!1]}})):B(h);break;case"number":Pe(o);break;default:xe(o)}};return{createEditor:function(o,l){l.cancel=!1,l.editorElement=(0,oe.c)(o),(0,se.O9)(l.tabIndex)||(l.tabIndex=this.option("tabIndex")),g(l),this.executeAction("onEditorPreparing",l),!l.cancel&&("dataRow"===l.parentType&&!l.isOnForm&&!(0,se.O9)(l.editorOptions.showValidationMark)&&(l.editorOptions.showValidationMark=!1),function(_,h){var C=(0,be.A)(h.editorElement);if(h.editorName&&h.editorOptions&&C[h.editorName]){if(("dxCheckBox"===h.editorName||"dxSwitch"===h.editorName)&&(h.isOnForm||(C.addClass(_.addWidgetPrefix("checkbox-size")),C.parent().addClass("dx-editor-inline-block"))),_._createComponent(C,h.editorName,h.editorOptions),"dxDateBox"===h.editorName){var F=C.dxDateBox("instance"),te=F._supportedKeys().enter;F.registerKeyHandler("enter",X=>(F.option("opened")&&te(X),!0))}"dxTextArea"===h.editorName&&C.dxTextArea("instance").registerKeyHandler("enter",function(X){"enter"===(0,q.YD)(X)&&!X.ctrlKey&&!X.shiftKey&&X.stopPropagation()})}}(this,l),this.executeAction("onEditorPrepared",l))}}}()},400:(Mt,dt,i)=>{i.d(dt,{A:()=>s});var F,te,be=i(3930),k=i(2824),se=i(4905),_e=i(181),he=i(4292),Ce=i(2984),le=i(7951),ae=i(448),oe=i(186),ee=i(4435),q=i(1269),P=i(8168),Y=i(4441),Ee=i(7669),re=i(8365),j=i(7465),ue=i(5042),b=i(8745),c=i(370),a=i(2463),d=i(3558),m=i(9393),S=i(4159),I=i(9104),N=i(9639),xe=(0,ee.zk)(),Ie="dxDraggable",B=(0,I.b4)(m.ni,Ie),n=(0,I.b4)(m.Cy,Ie),g=(0,I.b4)(m._N,Ie),o=(0,I.b4)(m.Ve,Ie),l=(0,I.b4)(m.qG,Ie),_=(0,I.b4)(S.A.down,Ie),h=(0,I.b4)("keydown",Ie),C="clone",ge=t=>({x:t.pageX-(0,he.A)(xe).scrollLeft(),y:t.pageY-(0,he.A)(xe).scrollTop()});class U{constructor(u,y){this._$scrollableAtPointer=null,this._preventScroll=!0,this._component=y,"vertical"===u?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}updateScrollable(u,y){var K=!1;u.some(pe=>{var we=(0,he.A)(pe),R=we.hasClass("dx-overlay-wrapper"),z=we.hasClass("dx-overlay-content");return!(!R&&!z)||(K=this._trySetScrollable(pe,y))}),K||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}isScrolling(){return!!this._scrollSpeed}isScrollable(u){return("auto"===u.css(this._overFlowAttr)||u.hasClass("dx-scrollable-container"))&&u.prop(this._scrollSizeProp)>Math.ceil("width"===this._sizeAttr?(0,oe.RG)(u):(0,oe.Oq)(u))}_trySetScrollable(u,y){var pe,K=(0,he.A)(u),we=this._component.option("scrollSensitivity"),R=this.isScrollable(K);return R&&(we>(pe=this._calculateDistanceToBorders(K,y))[this._limitProps.start]?this._preventScroll||(this._scrollSpeed=-this._calculateScrollSpeed(pe[this._limitProps.start]),this._$scrollableAtPointer=K):we>pe[this._limitProps.end]?this._preventScroll||(this._scrollSpeed=this._calculateScrollSpeed(pe[this._limitProps.end]),this._$scrollableAtPointer=K):(R=!1,this._preventScroll=!1)),R}_calculateDistanceToBorders(u,y){var pe,K=u.get(0);return K?(pe=(0,ae.N)(K),{left:y.x-pe.left,top:y.y-pe.top,right:pe.right-y.x,bottom:pe.bottom-y.y}):{}}_calculateScrollSpeed(u){var y=this._component,K=y.option("scrollSensitivity"),pe=y.option("scrollSpeed");return Math.ceil(((K-u)/K)**2*pe)}scrollByStep(){if(this._$scrollableAtPointer&&this._scrollSpeed){if(this._$scrollableAtPointer.hasClass("dx-scrollable-container")){var u=this._$scrollableAtPointer.closest(".dx-scrollable"),y=u.data("dxScrollable")||u.data("dxScrollView");if(y){var K=y.scrollOffset()[this._limitProps.start]+this._scrollSpeed;y.scrollTo({[this._limitProps.start]:K})}}else{var pe=this._$scrollableAtPointer[this._scrollValue]()+this._scrollSpeed;this._$scrollableAtPointer[this._scrollValue](pe)}var we=this._component._dragMoveArgs;we&&this._component._dragMoveHandler(we)}}reset(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}isOutsideScrollable(u,y){if(!u)return!1;var K=(0,ae.N)(u.get(0)),pe=K[this._limitProps.start],we=K[this._sizeAttr],R=ge(y),z="width"===this._sizeAttr?R.x:R.y;return z<pe||z>pe+we}}var p=N.A.inherit({ctor(t){this.callBase(),this._strategy=t},_step(){var t=this._strategy._horizontalScrollHelper,u=this._strategy._verticalScrollHelper;t&&t.scrollByStep(),u&&u.scrollByStep()}}),w=re.A.inherit({reset:ue.lQ,dragMove:ue.lQ,dragEnter:ue.lQ,dragLeave:ue.lQ,dragEnd(t){return this._getSourceDraggable()._fireRemoveEvent(t),(0,Ce.cY)().resolve()},_fireRemoveEvent:ue.lQ,_getDefaultOptions(){return(0,le.X)(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDragCancel:null,onCancelByEsc:!1,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference(){this.callBase.apply(this,arguments),(0,le.X)(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new p(this),this._horizontalScrollHelper=new U("horizontal",this),this._verticalScrollHelper=new U("vertical",this),this._initScrollTop=0,this._initScrollLeft=0},_normalizeCursorOffset:t=>((0,a.Gv)(t)&&(t={h:t.x,v:t.y}),{left:(t=(0,ue.T6)(t).map(u=>parseFloat(u)))[0],top:1===t.length?t[0]:t[1]}),_getNormalizedCursorOffset(t,u){return(0,a.Tn)(t)&&(t=t.call(this,u)),this._normalizeCursorOffset(t)},_calculateElementOffset(t){var u,y,{event:K}=t,pe=(0,he.A)(t.itemElement),we=(0,he.A)(t.dragElement),R=this._dragElementIsCloned(),z=this.option("cursorOffset"),fe={left:0,top:0},Me=this._initialLocate=(0,k.x5)(we);return(R||t.initialOffset||z)&&(u=t.initialOffset||pe.offset(),z&&(fe=this._getNormalizedCursorOffset(z,t),isFinite(fe.left)&&(u.left=K.pageX),isFinite(fe.top)&&(u.top=K.pageY)),y=we.offset(),u.top-=y.top+(fe.top||0)-Me.top,u.left-=y.left+(fe.left||0)-Me.left),u},_initPosition(t){var u=(0,he.A)(t.dragElement),y=this._calculateElementOffset(t);y&&this._move(y,u),this._startPosition=(0,k.x5)(u)},_startAnimator(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator(){this._scrollAnimator.stop()},_addWidgetPrefix(t){return(0,b._k)(this.NAME)+(t?"-".concat(t):"")},_getItemsSelector(){return this.option("filter")||""},_$content(){var t=this.$element(),u=t.children(".dx-template-wrapper");return u.length?u:t},_attachEventHandlers(){if(!this.option("disabled")){var t=this._$content(),u=this._getItemsSelector(),y=this.option("allowMoveByClick"),K={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:(pe,we)=>{var R=this.option("group"),z=this._getSourceDraggable().option("group"),fe=this._getScrollable(pe);return!this._verticalScrollHelper.isOutsideScrollable(fe,we)&&!this._horizontalScrollHelper.isOutsideScrollable(fe,we)&&z&&z===R}};y&&(t=this._getArea(),q.A.on(t,_,K,this._pointerDownHandler.bind(this))),">"===u[0]&&(u=u.slice(1)),q.A.on(t,B,u,K,this._dragStartHandler.bind(this)),q.A.on(t,n,K,this._dragMoveHandler.bind(this)),q.A.on(t,g,K,this._dragEndHandler.bind(this)),q.A.on(t,o,K,this._dragEnterHandler.bind(this)),q.A.on(t,l,K,this._dragLeaveHandler.bind(this)),this.option("onCancelByEsc")&&q.A.on(t,h,this._keydownHandler.bind(this))}},_dragElementIsCloned(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix(C))},_getDragTemplateArgs(t,u){return{container:(0,_e.c)(u),model:{itemData:this.option("itemData"),itemElement:(0,_e.c)(t)}}},_createDragElement(t){var u=t,y=this.option("clone"),K=this._getContainer(),pe=this.option("dragTemplate");return pe?(pe=this._getTemplate(pe),u=(0,he.A)("<div>").appendTo(K),pe.render(this._getDragTemplateArgs(t,u))):y&&(u=(0,he.A)("<div>").appendTo(K),t.clone().css({width:t.css("width"),height:t.css("height")}).appendTo(u)),u.toggleClass(this._addWidgetPrefix(C),u.get(0)!==t.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))},_resetDragElement(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers(){q.A.off(this._$content(),".".concat(Ie)),q.A.off(this._getArea(),".".concat(Ie))},_move(t,u){(0,k.Cy)(u||this._$dragElement,t)},_getDraggableElement(t){var u=this._getSourceElement();if(u)return u;if(this.option("allowMoveByClick"))return this.$element();var K=(0,he.A)(t&&t.target),pe=this._getItemsSelector();if(">"===pe[0]){var we=this._$content().find(pe);we.is(K)||(K=K.closest(we))}return K},_getSourceElement(){return this._getSourceDraggable()._$sourceElement},_pointerDownHandler(t){if(!(0,I.eT)(t)){var u={},y=this.$element(),K=this.option("dragDirection");("horizontal"===K||"both"===K)&&(u.left=t.pageX-y.offset().left+(0,k.x5)(y).left-(0,oe.RG)(y)/2),("vertical"===K||"both"===K)&&(u.top=t.pageY-y.offset().top+(0,k.x5)(y).top-(0,oe.Oq)(y)/2),this._move(u,y),this._getAction("onDragMove")(this._getEventArgs(t))}},_isValidElement(t,u){var y=this.option("handle"),K=(0,he.A)(t.originalEvent&&t.originalEvent.target);return!(y&&!K.closest(y).length||!u.length||u.is(".dx-state-disabled, .dx-state-disabled *"))},_dragStartHandler(t){var u=this._getDraggableElement(t);if(this.dragInProgress=!0,this._isValidElement(t,u)){if(!this._$sourceElement){var y=this._getDragStartArgs(t,u);if(this._getAction("onDragStart")(y),y.cancel)return void(t.cancel=!0);this.option("itemData",y.itemData),this._setSourceDraggable(),this._$sourceElement=u;var K=u.offset();!this._hasClonedDraggable()&&this.option("autoScroll")&&(this._initScrollTop=this._getScrollableScrollTop(),this._initScrollLeft=this._getScrollableScrollLeft(),K=this._getDraggableElementOffset(K.left,K.top));var pe=this._$dragElement=this._createDragElement(u);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(pe.children());var we="fixed"===pe.css("position");this._initPosition((0,le.X)({},y,{dragElement:pe.get(0),initialOffset:we&&K})),this._getAction("onDraggableElementShown")((0,P.A)((0,P.A)({},y),{dragElement:pe}));var R=this._getArea(),z=this._getAreaOffset(R),fe=this._getBoundOffset(),Me=(0,oe.Ot)(R),ze=(0,oe.P$)(R),tt=(0,oe.RG)(pe),ht=(0,oe.Oq)(pe),St=pe.offset().left-z.left,xt=pe.offset().top-z.top;R.length&&(t.maxLeftOffset=St-fe.left,t.maxRightOffset=Me-St-tt-fe.right,t.maxTopOffset=xt-fe.top,t.maxBottomOffset=ze-xt-ht-fe.bottom),this.option("autoScroll")&&this._startAnimator()}}else t.cancel=!0},_getAreaOffset:t=>t&&Y.A.offset(t)||{left:0,top:0},_toggleDraggingClass(t){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),t)},_toggleDragSourceClass(t,u){var y=u||this._$sourceElement;y&&y.toggleClass(this._addWidgetPrefix("source"),t)},_setGestureCoverCursor(t){(0,he.A)(".".concat("dx-gesture-cover")).css("cursor",t.css("cursor"))},_getBoundOffset(){var t=this.option("boundOffset");return(0,a.Tn)(t)&&(t=t.call(this)),(0,c.oN)(t)},_getArea(){var t=this.option("boundary");return(0,a.Tn)(t)&&(t=t.call(this)),(0,he.A)(t)},_getContainer(){var t=this.option("container");return void 0===t&&(t=(0,d.Uq)()),(0,he.A)(t)},_getDraggableElementOffset(t,u){var y,K,pe,we,R=this._initScrollTop,z=this._initScrollLeft,fe=this._getScrollableScrollTop(),Me=this._getScrollableScrollLeft(),ze=(0,he.A)(this.element()).css("position"),ht={left:(null!==(K=null===(y=this._startPosition)||void 0===y?void 0:y.left)&&void 0!==K?K:0)+t,top:(null!==(we=null===(pe=this._startPosition)||void 0===pe?void 0:pe.top)&&void 0!==we?we:0)+u};return"fixed"===ze||this._hasClonedDraggable()?ht:{left:(0,a.kf)(Me)?ht.left+Me-z:ht.left,top:(0,a.kf)(fe)?ht.top+fe-R:ht.top}},_hasClonedDraggable(){return this.option("clone")||this.option("dragTemplate")},_dragMoveHandler(t){if(this._dragMoveArgs=t,this._$dragElement){var u=this._getDraggableElementOffset(t.offset.x,t.offset.y);this._move(u),this._updateScrollable(t);var y=this._getEventArgs(t);this._getAction("onDragMove")(y),!0!==y.cancel&&this._getTargetDraggable().dragMove(t,scrollBy)}else t.cancel=!0},_updateScrollable(t){if(this.option("autoScroll")){var u=ge(t),y=Ee.A.elementsFromPoint(u.x,u.y,this.$element().get(0));this._verticalScrollHelper.updateScrollable(y,u),this._horizontalScrollHelper.updateScrollable(y,u)}},_getScrollable(t){var u;return t.parents().toArray().some(y=>{var K=(0,he.A)(y);return!(!this._horizontalScrollHelper.isScrollable(K)&&!this._verticalScrollHelper.isScrollable(K)||(u=K,0))}),u},_getScrollableScrollTop(){var t,u;return null!==(u=null===(t=this._getScrollable((0,he.A)(this.element())))||void 0===t?void 0:t.scrollTop())&&void 0!==u?u:0},_getScrollableScrollLeft(){var t,u;return null!==(u=null===(t=this._getScrollable((0,he.A)(this.element())))||void 0===t?void 0:t.scrollLeft())&&void 0!==u?u:0},_defaultActionArgs(){var t=this.callBase.apply(this,arguments),u=this.option("component");return u&&(t.component=u,t.element=u.element()),t},_getEventArgs(t){var u=this._getSourceDraggable(),y=this._getTargetDraggable();return{event:t,itemData:u.option("itemData"),itemElement:(0,_e.c)(u._$sourceElement),fromComponent:u.option("component")||u,toComponent:y.option("component")||y,fromData:u.option("data"),toData:y.option("data")}},_getDragStartArgs(t,u){var y=this._getEventArgs(t);return{event:y.event,itemData:y.itemData,itemElement:u,fromData:y.fromData}},_revertItemToInitialPosition(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler(t){var u=(0,Ce.cY)(),y=this._getEventArgs(t),K=this._getEventArgs(t),pe=this._getTargetDraggable(),we=!0;this.dragInProgress=!1;try{this._getAction("onDragEnd")(y)}finally{(0,Ce.z7)((0,Ce.Sx)(y.cancel)).done(R=>{if(!R&&(pe!==this&&pe._getAction("onDrop")(K),!K.cancel))return we=!1,void(0,Ce.z7)((0,Ce.Sx)(pe.dragEnd(y))).always(u.resolve);u.resolve()}).fail(u.resolve),u.done(()=>{we&&this._revertItemToInitialPosition(),this._resetDragOptions(pe)})}},_isTargetOverAnotherDraggable(t){var u=this._getSourceDraggable();if(this===u)return!1;var y=u._$dragElement,K=u.$element(),pe=this.$element(),we=ge(t),z=Ee.A.elementsFromPoint(we.x,we.y,this.element()).filter(tt=>{var ht=(0,he.A)(tt);return!!ht.hasClass(this._addWidgetPrefix())&&!ht.closest(y).length})[0],fe=this._getSourceElement(),Me=z===K.get(0),ze=(0,he.A)(z).closest(fe).length;return!z||z===pe.get(0)&&!Me&&!ze},_dragEnterHandler(t){this._fireDragEnterEvent(t),this._isTargetOverAnotherDraggable(t)&&this._setTargetDraggable(),this._getSourceDraggable().dragEnter(t)},_dragLeaveHandler(t){this._fireDragLeaveEvent(t),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset(),this._getSourceDraggable().dragLeave(t)},_keydownHandler(t){this.dragInProgress&&"Escape"===t.key&&this._keydownEscapeHandler(t)},_keydownEscapeHandler(t){if(this._getSourceElement()){var y=this._getEventArgs(t);if(this._getAction("onDragCancel")(y),!y.cancel){this.dragInProgress=!1,te?._toggleDraggingClass(!1),this._detachEventHandlers(),this._revertItemToInitialPosition();var K=this._getTargetDraggable();this._resetDragOptions(K),this._attachEventHandlers()}}},_getAction(t){return this["_".concat(t,"Action")]||this._createActionByOption(t)},_getAnonymousTemplateName:()=>"content",_initTemplates(){this.option("contentTemplate")&&(this._templateManager.addDefaultTemplates({content:new j.A}),this.callBase.apply(this,arguments))},_render(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());var t=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),u=this._getTemplateByOption("contentTemplate");u&&(0,he.A)(u.render({container:this.element(),transclude:t}))},_optionChanged(t){var{name:u}=t;switch(u){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":case"onDragCancel":case"onDraggableElementShown":this["_".concat(u,"Action")]=this._createActionByOption(u);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"onCancelByEsc":this._keydownHandler();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;default:this.callBase(t)}},_getTargetDraggable(){return F||this},_getSourceDraggable(){return te||this},_setTargetDraggable(){var t=this.option("group"),u=this._getSourceDraggable();t&&t===u.option("group")&&(F=this)},_setSourceDraggable(){te=this},_resetSourceDraggable(){te=null},_resetTargetDraggable(){F=null},_resetDragOptions(t){this.reset(),t.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()},_dispose(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()},_fireDragEnterEvent(t){var u=this._getEventArgs(t);this._getAction("onDragEnter")(u)},_fireDragLeaveEvent(t){var u=this._getEventArgs(t);this._getAction("onDragLeave")(u)}});(0,se.A)(Ie,w);const V=w;var J=(0,ee.zk)(),ye="placeholder",Te=t=>(0,he.A)(t).is(":visible"),Ne=(t,u)=>{var y,K;if(t){var pe=(null===(y=u.to)||void 0===y?void 0:y.left)||0,we=(null===(K=u.to)||void 0===K?void 0:K.top)||0;t.style.transform="translate(".concat(pe,"px,").concat(we,"px)"),t.style.transition=be.A.off?"":"transform ".concat(u.duration,"ms ").concat(u.easing)}},T=t=>{t&&(t.style.transform="",t.style.transition="")},v=V.inherit({_init(){this.callBase(),this._sourceScrollHandler=this._handleSourceScroll.bind(this),this._sourceScrollableInfo=null},_getDefaultOptions(){return(0,le.X)(this.callBase(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,animation:{type:"slide",duration:300,easing:"ease"},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null,fromIndexOffset:0,offset:0,autoUpdate:!1,draggableElementSize:0})},reset(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null,itemPoints:null,fromIndexOffset:0,draggableElementSize:0}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)},_getPrevVisibleItem:(t,u)=>t.slice(0,u).reverse().filter(Te)[0],_dragStartHandler(t){if(this.callBase.apply(this,arguments),!0!==t.cancel){var u=this._getSourceElement();this._updateItemPoints(),this._subscribeToSourceScroll(t),this.option("fromIndex",this._getElementIndex(u)),this.option("fromIndexOffset",this.option("offset"))}},_subscribeToSourceScroll(t){var u=this._getScrollable((0,he.A)(t.target));u&&(this._sourceScrollableInfo={element:u,scrollLeft:u.scrollLeft(),scrollTop:u.scrollTop()},q.A.off(u,"scroll",this._sourceScrollHandler),q.A.on(u,"scroll",this._sourceScrollHandler))},_unsubscribeFromSourceScroll(){this._sourceScrollableInfo&&(q.A.off(this._sourceScrollableInfo.element,"scroll",this._sourceScrollHandler),this._sourceScrollableInfo=null)},_handleSourceScroll(t){var u=this._sourceScrollableInfo;u&&["scrollLeft","scrollTop"].forEach(y=>{t.target[y]!==u[y]&&(this._correctItemPoints(t.target[y]-u[y]),this._movePlaceholder(),u[y]=t.target[y])})},_dragEnterHandler(t){if(this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&(this._subscribeToSourceScroll(t),this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){var u=this.option("itemPoints"),y=u[u.length-1];if(y){var K=this.$element(),pe=this._getSourceElement(),we=this._isVerticalOrientation(),R=we?(0,oe.P$)(pe,!0):(0,oe.Ot)(pe,!0),z=K.get(0)[we?"scrollHeight":"scrollWidth"],fe=K.get(0)[we?"scrollTop":"scrollLeft"],Me=we?"top":"left",ze=y[Me],ht=K.offset()[Me]+z-fe-ze;if(ht<R&&we){var St=this._getItems(),xt=(0,he.A)(this._getPrevVisibleItem(St));this._$modifiedItem=xt,this._modifiedItemMargin=xt.get(0).style.marginBottom,xt.css("marginBottom",R-ht);var Tt=xt.closest(".dx-sortable"),Pt=Tt.data("dxScrollable")||Tt.data("dxScrollView");Pt&&Pt.update()}}}},_dragLeaveHandler(){this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&this._unsubscribeFromSourceScroll()},dragEnter(){this!==this._getTargetDraggable()&&this.option("toIndex",-1)},dragLeave(){this!==this._getTargetDraggable()&&this.option("toIndex",this.option("fromIndex"))},_allowDrop(t){var y=this._getTargetDraggable().$element(),K=this._getScrollable(y);if(K){var{left:pe,right:we,top:R,bottom:z}=function r(t){var u=t.offset(),{style:y}=t[0],K=parseFloat(y.paddingLeft)||0,pe=parseFloat(y.paddingRight)||0,we=parseFloat(y.paddingTop)||0,R=t[0].clientWidth-(K+pe),z=(0,oe.Oq)(t),fe=u.left+K,Me=u.top+we;return{left:fe,right:fe+R,top:Me,bottom:Me+z}}(K),fe=this.option("toIndex"),Me=this.option("itemPoints"),ze=Me?.filter(ht=>ht.index===fe)[0];if(ze&&void 0!==ze.top)return this._isVerticalOrientation()?R<=Math.ceil(ze.top)&&Math.floor(ze.top)<=z:pe<=Math.ceil(ze.left)&&Math.floor(ze.left)<=we}return!0},dragEnd(t){this._unsubscribeFromSourceScroll();var z,fe,u=this._getSourceElement(),y=this._getSourceDraggable(),K=y.NAME!==this.NAME,pe=this.option("toIndex"),{event:we}=t,R=this._allowDrop(we);return null!==pe&&pe>=0&&R&&(y!==this&&((z=this._fireAddEvent(we))||(fe=this._fireRemoveEvent(we))),K&&(0,k.fw)(u),this.option("moveItemOnDrop")&&!z&&this._moveItem(u,pe,fe),y===this)?this._fireReorderEvent(we):(0,Ce.cY)().resolve()},dragMove(t){var u=this.option("itemPoints");if(u){for(var R,y=this._isVerticalOrientation(),K=y?"top":"left",pe=y?t.pageY:t.pageX,we=this.option("rtlEnabled"),z=u.length-1;z>=0;z--){var fe=u[z+1]&&(u[z][K]+u[z+1][K])/2;if(!(!y&&we?pe>fe:fe>pe)&&void 0!==fe)break;R=u[z]}R&&(this._updatePlaceholderPosition(t,R),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())}},_isIndicateMode(){return"indicate"===this.option("dropFeedbackMode")||this.option("allowDropInsideItem")},_createPlaceholder(){var t;return this._isIndicateMode()&&(t=(0,he.A)("<div>").addClass(this._addWidgetPrefix(ye)).insertBefore(this._getSourceDraggable()._$dragElement)),this._$placeholderElement=t,t},_getItems(){var t=this._getItemsSelector();return this._$content().find(t).not(".".concat(this._addWidgetPrefix(ye))).not(".".concat(this._addWidgetPrefix("clone"))).toArray()},_allowReordering(){return this._getSourceDraggable()!==this._getTargetDraggable()||this.option("allowReordering")},_isValidPoint(t,u,y){var K=this.option("allowDropInsideItem");return!!(y||this._allowReordering()||0===t&&K)&&(!this._isIndicateMode()||-1===u||t!==u&&(y||t!==u+1))},_getItemPoints(){var u,y,K,t=[],pe=this.option("rtlEnabled"),we=this._isVerticalOrientation(),R=this._getItems(),z=R.filter(Te),fe=z.length,Me=this._getDraggableElement(),ze=z.indexOf(Me.get(0));if(fe){for(var tt=0;tt<=fe;tt++){var ht=!we&&pe^tt===fe,St=we&&tt===fe;tt<fe&&(y=(u=(0,he.A)(z[tt])).offset(),K=(0,oe.Ot)(u)),t.push({dropInsideItem:!1,left:y.left+(ht?K:0),top:y.top+(St?t[tt-1].height:0),index:tt===fe?R.length:R.indexOf(u.get(0)),$item:u,width:(0,oe.Ot)(u),height:(0,oe.P$)(u),isValid:this._isValidPoint(tt,ze)})}if(this.option("allowDropInsideItem")){var xt=t;t=[];for(var Tt=0;Tt<xt.length;Tt++)t.push(xt[Tt]),xt[Tt+1]&&t.push((0,le.X)({},xt[Tt],{dropInsideItem:!0,top:Math.floor((xt[Tt].top+xt[Tt+1].top)/2),left:Math.floor((xt[Tt].left+xt[Tt+1].left)/2),isValid:this._isValidPoint(Tt,ze,!0)}))}}else t.push({dropInsideItem:!1,index:0,isValid:!0});return t},_updateItemPoints(t){(t||this.option("autoUpdate")||!this.option("itemPoints"))&&this.option("itemPoints",this._getItemPoints())},_correctItemPoints(t){var u=this.option("itemPoints");if(t&&u&&!this.option("autoUpdate")){var K=this._isVerticalOrientation()?"top":"left";u.forEach(pe=>{pe[K]-=t})}},_getElementIndex(t){return this._getItems().indexOf(t.get(0))},_getDragTemplateArgs(t){var u=this.callBase.apply(this,arguments);return u.model.fromIndex=this._getElementIndex(t),u},_togglePlaceholder(t){this._$placeholderElement&&this._$placeholderElement.toggle(t)},_isVerticalOrientation(){return"vertical"===this.option("itemOrientation")},_normalizeToIndex(t,u){var y=this._getSourceDraggable()!==this._getTargetDraggable(),K=this._getActualFromIndex();return null===t?K:Math.max(y||K>=t||u?t:t-1,0)},_updatePlaceholderPosition(t,u){var y=this._getSourceDraggable(),K=this._normalizeToIndex(u.index,u.dropInsideItem),pe=(0,le.X)(this._getEventArgs(t),{toIndex:K,dropInsideItem:u.dropInsideItem});u.isValid&&this._getAction("onDragChange")(pe),!pe.cancel&&u.isValid?(this.option({dropInsideItem:u.dropInsideItem,toIndex:u.index}),this._getAction("onPlaceholderPrepared")((0,le.X)(this._getEventArgs(t),{placeholderElement:(0,_e.c)(this._$placeholderElement),dragElement:(0,_e.c)(y._$dragElement)})),this._updateItemPoints()):u.isValid||this.option({dropInsideItem:!1,toIndex:null})},_makeWidthCorrection(t,u){if(this._$scrollable=this._getScrollable(t),this._$scrollable){var y=(0,oe.RG)(this._$scrollable),K=this._$scrollable.offset().left-t.offset().left,pe=(0,oe.Ot)(t)-K-y;K>0&&(u-=K),pe>0&&(u-=pe)}return u},_updatePlaceholderSizes(t,u){var y=this.option("dropInsideItem"),K=(0,he.A)(u),pe=this._isVerticalOrientation(),we="",R="";t.toggleClass(this._addWidgetPrefix("placeholder-inside"),y),(pe||y)&&(we=(0,oe.Ot)(K)),(!pe||y)&&(R=(0,oe.P$)(K)),we=this._makeWidthCorrection(K,we),t.css({width:we,height:R})},_moveItem(t,u,y){var K,pe=this._getItems(),we=pe[u],R=this._getSourceDraggable();y&&(t=t.clone(),R._toggleDragSourceClass(!1,t)),we||(K=pe[u-1]),this._moveItemCore(t,we,K)},_moveItemCore(t,u,y){u||y?y?t.insertAfter((0,he.A)(y)):t.insertBefore((0,he.A)(u)):t.appendTo(this.$element())},_getDragStartArgs(t,u){return(0,le.X)(this.callBase.apply(this,arguments),{fromIndex:this._getElementIndex(u)})},_getEventArgs(t){var u=this._getSourceDraggable(),y=this._getTargetDraggable(),K=y.option("dropInsideItem");return(0,le.X)(this.callBase.apply(this,arguments),{fromIndex:u.option("fromIndex"),toIndex:this._normalizeToIndex(y.option("toIndex"),K),dropInsideItem:K})},_optionChanged(t){var{name:u}=t;switch(u){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this["_".concat(u,"Action")]=this._createActionByOption(u);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"animation":case"allowReordering":case"fromIndexOffset":case"offset":case"draggableElementSize":case"autoUpdate":break;case"fromIndex":[!1,!0].forEach(y=>{var K=y?t.value:t.previousValue;if(null!==K){var pe=(0,he.A)(this._getItems()[K]);this._toggleDragSourceClass(y,pe)}});break;case"dropInsideItem":this._optionChangedDropInsideItem(t);break;case"toIndex":this._optionChangedToIndex(t);break;default:this.callBase(t)}},_optionChangedDropInsideItem(){this._isIndicateMode()&&this._$placeholderElement&&this._movePlaceholder()},_isPositionVisible(t){var y,u=this.$element();if("hidden"!==u.css("overflow")?y=u.get(0):u.parents().each(function(){if("visible"!==(0,he.A)(this).css("overflow"))return y=this,!1}),y){var K=(0,ae.N)(y),pe=this._isVerticalOrientation(),we=pe?"top":"left",z=pe?J.pageYOffset:J.pageXOffset;if(t[we]<K[we]+z||t[we]>K[pe?"bottom":"right"]+z)return!1}return!0},_optionChangedToIndex(t){var u=t.value;if(this._isIndicateMode()){var y=null!==u&&u>=0;this._togglePlaceholder(y),y&&this._movePlaceholder()}else this._moveItems(t.previousValue,t.value,t.fullUpdate)},update(){if(null!==this.option("fromIndex")||null!==this.option("toIndex")){this._updateItemPoints(!0),this._updateDragSourceClass();var t=this.option("toIndex");this._optionChangedToIndex({value:t,fullUpdate:!0})}},_updateDragSourceClass(){var t=this._getActualFromIndex(),u=(0,he.A)(this._getItems()[t]);u.length&&(this._$sourceElement=u,this._toggleDragSourceClass(!0,u))},_makeLeftCorrection(t){var u=this._$scrollable;if(u&&this._isVerticalOrientation()){var y=u.offset().left-t;y>0&&(t+=y)}return t},_movePlaceholder(){var t=this._$placeholderElement||this._createPlaceholder();if(t){var u=this._getItems(),y=this.option("toIndex"),K=this._isVerticalOrientation(),pe=this.option("rtlEnabled"),we=this.option("dropInsideItem"),R=null,z=u[y];if(z){var fe=(0,he.A)(z);R=fe.offset(),!K&&pe&&!we&&(R.left+=(0,oe.Ot)(fe,!0))}else{var Me=z=this._getPrevVisibleItem(u,y);Me&&(R=(0,he.A)(Me).offset(),K?R.top+=(0,oe.P$)(Me,!0):pe||(R.left+=(0,oe.Ot)(Me,!0)))}if(this._updatePlaceholderSizes(t,z),R&&!this._isPositionVisible(R)&&(R=null),R){var ze=K&&y===u.length,tt=(0,oe.P$)(t);R.left=this._makeLeftCorrection(R.left),R.top=ze&&R.top>=tt?R.top-tt:R.top,this._move(R,t)}t.toggle(!!R)}},_getPositions(t,u,y,K){for(var pe=[],we=0;we<t.length;we++){var R=0;null!==K&&null!==y?(-1===y?we>=K&&(R=u):-1===K?we>y&&(R=-u):y<K?we>y&&we<K&&(R=-u):y>K&&we>=K&&we<y&&(R=u),pe.push(R)):pe.push(R)}return pe},_getDraggableElementSize(t){var u=this._getDraggableElement(),y=this.option("draggableElementSize");return y||(y=t?((0,oe.P$)(u)+(0,oe.P$)(u,!0))/2:((0,oe.Ot)(u)+(0,oe.Ot)(u,!0))/2,this.option("autoUpdate")||this.option("draggableElementSize",y)),y},_getActualFromIndex(){var{fromIndex:t,fromIndexOffset:u,offset:y}=this.option();return null==t?null:t+u-y},_moveItems(t,u,y){for(var K=this._getActualFromIndex(),pe=this._isVerticalOrientation(),we=pe?"top":"left",R=this._getDraggableElementSize(pe),z=this._getItems(),fe=this._getPositions(z,R,K,t),Me=this._getPositions(z,R,K,u),ze=this.option("animation"),tt=this.option("rtlEnabled"),ht=0;ht<z.length;ht++){var St=z[ht],xt=fe[ht],Tt=Me[ht];null===u||null===K?T(St):(xt!==Tt||y&&Tt)&&Ne(St,(0,le.X)({},ze,{to:{[we]:!pe&&tt?-Tt:Tt}}))}},_toggleDragSourceClass(t,u){var y=u||this._$sourceElement;this.callBase.apply(this,arguments),this._isIndicateMode()||y&&y.toggleClass(this._addWidgetPrefix("source-hidden"),t)},_dispose(){this.reset(),this.callBase()},_fireAddEvent(t){var u=this._getEventArgs(t);return this._getAction("onAdd")(u),u.cancel},_fireRemoveEvent(t){var u=this._getSourceDraggable(),y=this._getEventArgs(t);return u._getAction("onRemove")(y),y.cancel},_fireReorderEvent(t){var u=this._getEventArgs(t);return this._getAction("onReorder")(u),u.promise||(0,Ce.cY)().resolve()}});(0,se.A)("dxSortable",v);const s=v},5281:(Mt,dt,i)=>{i.d(dt,{N:()=>_e,f:()=>se});var be=i(4292),k=i(9104),se=function(he,Ce,le){var ae=(0,be.A)(he),oe=le?ae.scrollLeft():ae.scrollTop(),ee=le?"Width":"Height",Y=ae.prop("scroll".concat(ee))-ae.prop("client".concat(ee))-oe|0;return(0!==oe||0!==Y)&&(!!(0===oe&&Ce>=0||0===Y&&Ce<=0||oe>0&&Y>0)||void 0)},_e=function(he,Ce){var le=(0,be.A)(he);return{validate:function(ae){if((0,k.X1)(ae)&&(!Ce||(0,be.A)(ae.target).is(he)))return!!se(le,-ae.delta,ae.shiftKey)&&(ae._needSkipEvent=!0,!0)}}}},6845:(Mt,dt,i)=>{i.d(dt,{A:()=>$});var be=i(4905),k=i(7951),se=i(2376),_e=i(4292),Ce=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"];function ae(ye,de){var Te;if(ye){var Ne=ye._findItemElementByItem(de);if(Ne.length){var T=ye._getItemData(Ne),r=!!(null!==(Te=T.options)&&void 0!==Te&&Te.disabled||T.disabled||ye.option("disabled")),{widget:v}=T;if(v&&-1!==Ce.indexOf(v)){var f=Ne.find(v.toLowerCase().replace("dx",".dx-"));if(f.length){var s,t,u=function(ye){var de=ye.data&&ye.data(),Te=de&&de.dxComponents,Ne=Te&&Te[0];return Ne&&de[Ne]}(f);if(!u)return;var K,y=null===(s=u._focusTarget)||void 0===s?void 0:s.call(u);y="dxDropDownButton"===v?y&&y.find(".".concat("dx-buttongroup")):null!==(K=y)&&void 0!==K?K:(0,_e.A)(u.element());var pe=null===(t=T.options)||void 0===t?void 0:t.tabIndex;y.attr("tabIndex",r?-1:pe??0)}}}}}var oe=i(186);class q{constructor(de){this._toolbar=de}_initMarkup(){}_updateMenuVisibility(){}_renderMenuItems(){}_renderItem(){}_getMenuItems(){}_getToolbarItems(){var de;return null!==(de=this._toolbar.option("items"))&&void 0!==de?de:[]}_getItemsWidth(){return this._toolbar._getSummaryItemsSize("width",this._toolbar.itemElements(),!0)}_arrangeItems(){var de=this._toolbar._$toolbarItemsContainer.find(".".concat("dx-toolbar-label")).eq(0);if(de.length){var Te=(0,oe.RG)(this._toolbar.$element()),Ne=(0,oe.Ot)(de)-(0,oe.RG)(de);de.css("maxWidth",Te-Ne)}}_hideOverflowItems(){}_dimensionChanged(){}_itemOptionChanged(){}_optionChanged(){}}var P=i(2101),Y=i(5042),Ee=i(3862),re=i(8041),j=i(2839),ue=i(1207),b="dx-toolbar-menu-action",a="dx-toolbar-hidden-button-group",d="dx-toolbar-menu-section",S="dx-toolbar-menu-last-section";class N extends ue.i{_init(){super._init(),this._activeStateUnit=".".concat(b,":not(.").concat(a,")")}_initMarkup(){this._renderSections(),super._initMarkup(),this._setMenuRole()}_getSections(){return this._itemContainer().children()}_itemElements(){return this._getSections().children(this._itemSelector())}_renderSections(){var de=this._itemContainer();(0,P.__)(["before","center","after","menu"],(Te,Ne)=>{var T="_$".concat(Ne,"Section");this[T]||(this[T]=(0,_e.A)("<div>").addClass(d)),this[T].appendTo(de)})}_renderItems(){super._renderItems.apply(this,arguments),this._updateSections()}_setMenuRole(){this.$element().find(".".concat("dx-scrollview-content")).attr("role","menu")}_updateSections(){var de=this.$element().find(".".concat(d));de.removeClass(S),de.not(":empty").eq(-1).addClass(S)}_renderItem(de,Te,Ne,T){var r,v=null!==(r=Te.location)&&void 0!==r?r:"menu",f=this["_$".concat(v,"Section")],s=super._renderItem(de,Te,f,T);return this._getItemTemplateName({itemData:Te})&&s.addClass("dx-toolbar-menu-custom"),("menu"===v||"dxButton"===Te.widget||"dxButtonGroup"===Te.widget||Te.isAction)&&s.addClass(b),"dxButton"===Te.widget&&s.addClass("dx-toolbar-hidden-button"),"dxButtonGroup"===Te.widget&&s.addClass(a),s.addClass(Te.cssClass),s}_getItemTemplateName(de){var Te=super._getItemTemplateName(de),Ne=de.itemData;return Ne&&Ne.menuItemTemplate||Te}_dataSourceOptions(){return{paginate:!1}}_itemClickHandler(de,Te,Ne){(0,_e.A)(de.target).closest(".".concat(b)).length&&super._itemClickHandler(de,Te,Ne)}_clean(){this._getSections().empty(),super._clean()}}var xe=i(1299),Pe=i(9902),Ie=i(4435);i(4038);class F extends re.A{_supportedKeys(){var de={};return(!this.option("opened")||!this._list.option("focusedElement"))&&(de=this._button._supportedKeys()),(0,k.X)(super._supportedKeys(),de,{tab:function(){this._popup&&this._popup.hide()}})}_getDefaultOptions(){return(0,k.X)(super._getDefaultOptions(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",onButtonClick:null,activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,onItemRendered:null,closeOnClick:!0,useInkRipple:!1,container:void 0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return"desktop"===Ee.A.real().deviceType&&!Ee.A.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return(0,xe.Nt)()},options:{useInkRipple:!0,animation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}}])}_init(){super._init(),this.$element().addClass("dx-dropdownmenu"),this._initItemClickAction(),this._initButtonClickAction()}_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_initButtonClickAction(){this._buttonClickAction=this._createActionByOption("onButtonClick")}_initTemplates(){this._templateManager.addDefaultTemplates({content:new Pe.M("content")}),super._initTemplates()}_initMarkup(){this._renderButton(),super._initMarkup()}_render(){super._render(),this.setAria({haspopup:!0,expanded:this.option("opened")})}_renderContentImpl(){this.option("opened")&&this._renderPopup()}_clean(){this._cleanFocusState(),this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove(),delete this._list,delete this._popup}_renderButton(){var de=this.$element().addClass("dx-dropdownmenu-button");this._button=this._createComponent(de,j.A,{icon:"overflow",template:"content",stylingMode:(0,xe.Ft)()?"text":"contained",useInkRipple:this.option("useInkRipple"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:Te=>{this.option("opened",!this.option("opened")),this._buttonClickAction(Te)}})}_toggleActiveState(de,Te,Ne){this._button._toggleActiveState(de,Te,Ne)}_toggleMenuVisibility(de){var Te=de??!this._popup.option("visible");de&&this._renderPopup(),this._popup.toggle(Te),this.setAria("expanded",Te)}_renderPopup(){if(!this._$popup){this._$popup=(0,_e.A)("<div>").appendTo(this.$element());var{rtlEnabled:de,container:Te,animation:Ne}=this.option();this._popup=this._createComponent(this._$popup,"dxPopup",{onInitialized(T){var{component:r}=T;r.$wrapper().addClass("dx-dropdownmenu-popup-wrapper").addClass("dx-dropdownmenu-popup")},deferRendering:!1,contentTemplate:T=>this._renderList(T),_ignoreFunctionValueDeprecation:!0,maxHeight:()=>this._getMaxHeight(),position:{my:"top ".concat(de?"left":"right"),at:"bottom ".concat(de?"left":"right"),collision:"fit flip",offset:{v:3},of:this.$element()},animation:Ne,onOptionChanged:T=>{var{name:r,value:v}=T;"visible"===r&&this.option("opened",v)},container:Te,autoResizeEnabled:!1,height:"auto",width:"auto",hideOnOutsideClick:T=>this._closeOutsideDropDownHandler(T),hideOnParentScroll:!0,shading:!1,dragEnabled:!1,showTitle:!1,fullScreen:!1,_fixWrapperPosition:!0})}}_getMaxHeight(){var de=this.$element(),Te=de.offset().top,Ne=(0,oe.P$)((0,Ie.zk)()),T=Math.max(Te,Ne-Te-(0,oe.P$)(de));return Math.min(Ne,T-3-10)}_closeOutsideDropDownHandler(de){return!(0,_e.A)(de.target).closest(this.$element()).length}_renderList(de){var Te=(0,_e.A)(de);Te.addClass("dx-dropdownmenu-list"),this._list=this._createComponent(Te,N,{dataSource:this._getListDataSource(),pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:this.option("itemTemplate"),onItemClick:Ne=>{this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(Ne)},tabIndex:-1,focusStateEnabled:!1,activeStateEnabled:!0,onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}})}_itemOptionChanged(de,Te,Ne){var T;null===(T=this._list)||void 0===T||T._itemOptionChanged(de,Te,Ne),ae(this._list,de)}_getListDataSource(){var de;return null!==(de=this.option("dataSource"))&&void 0!==de?de:this.option("items")}_setListDataSource(){var de;null===(de=this._list)||void 0===de||de.option("dataSource",this._getListDataSource()),delete this._deferRendering}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._list])}_toggleVisibility(de){super._toggleVisibility(de),this._button.option("visible",de)}_optionChanged(de){var Te,Ne,T,{name:r,value:v}=de;switch(r){case"items":case"dataSource":this.option("opened")?this._setListDataSource():this._deferRendering=!0;break;case"itemTemplate":null===(Te=this._list)||void 0===Te||Te.option(r,this._getTemplate(v));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"useInkRipple":this._invalidate();break;case"focusStateEnabled":null===(Ne=this._list)||void 0===Ne||Ne.option(r,v),super._optionChanged(de);break;case"onItemRendered":null===(T=this._list)||void 0===T||T.option(r,v);break;case"opened":this._deferRendering&&this._setListDataSource(),this._toggleMenuVisibility(v),this._updateFocusableItemsTabIndex();break;case"closeOnClick":break;case"container":this._popup&&this._popup.option(r,v);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:super._optionChanged(de)}}_updateFocusableItemsTabIndex(){this.option("items").forEach(de=>ae(this._list,de))}}var te=i(9407),X="dx-state-invisible",Z="dx-toolbar-item-auto-hide",D="dx-toolbar-item-invisible";class U{constructor(de){this._toolbar=de}_initMarkup(){(0,Y.zE)(()=>{this._renderOverflowMenu(),this._renderMenuItems()})}_renderOverflowMenu(){if(this._hasVisibleMenuItems()){this._renderMenuButtonContainer();var de=(0,_e.A)("<div>").appendTo(this._overflowMenuContainer()),Te=this._toolbar._createActionByOption("onItemClick"),Ne=this._toolbar._getTemplateByOption("menuItemTemplate");this._menu=this._toolbar._createComponent(de,F,{disabled:this._toolbar.option("disabled"),itemTemplate:()=>Ne,onItemClick:T=>{Te(T)},container:this._toolbar.option("menuContainer"),onOptionChanged:T=>{var{name:r,value:v}=T;"opened"===r&&this._toolbar.option("overflowMenuVisible",v),"items"===r&&this._updateMenuVisibility(v)}})}}renderMenuItems(){this._menu||this._renderOverflowMenu(),this._menu&&this._menu.option("items",this._getMenuItems()),this._menu&&!this._menu.option("items").length&&this._menu.option("opened",!1)}_renderMenuButtonContainer(){this._$overflowMenuContainer=(0,_e.A)("<div>").appendTo(this._toolbar._$afterSection).addClass("dx-toolbar-button").addClass("dx-toolbar-menu-container")}_overflowMenuContainer(){return this._$overflowMenuContainer}_updateMenuVisibility(de){var Te=de??this._getMenuItems(),Ne=Te.length&&this._hasVisibleMenuItems(Te);this._toggleMenuVisibility(Ne)}_toggleMenuVisibility(de){this._overflowMenuContainer()&&this._overflowMenuContainer().toggleClass(X,!de)}_renderMenuItems(){(0,Y.zE)(()=>{this.renderMenuItems()})}_dimensionChanged(){this.renderMenuItems()}_getToolbarItems(){var de;return(0,Y.VM)(null!==(de=this._toolbar.option("items"))&&void 0!==de?de:[],Te=>!this._toolbar._isMenuItem(Te))}_getHiddenItems(){return this._toolbar._itemContainer().children(".".concat(Z,".").concat(D)).not(".".concat(X))}_getMenuItems(){var de,Te,Ne=(0,Y.VM)(null!==(de=this._toolbar.option("items"))&&void 0!==de?de:[],v=>this._toolbar._isMenuItem(v)),T=this._getHiddenItems();return this._restoreItems=null!==(Te=this._restoreItems)&&void 0!==Te?Te:[],[...[].slice.call(T).map(v=>{var f=this._toolbar._getItemData(v),s=(0,_e.A)(v),t=s.children();return(0,k.X)({menuItemTemplate:()=>(this._restoreItems.push({container:s,item:t}),(0,_e.A)("<div>").addClass(Z).append(t))},f)}),...Ne]}_hasVisibleMenuItems(de){var Te=de??this._toolbar.option("items"),Ne=!1,T=(0,te.Hz)("visible"),r=(0,te.Hz)("locateInMenu");return(0,P.__)(Te,function(v,f){var s=T(f,{functionsAsIs:!0}),t=r(f,{functionsAsIs:!0});(!1!==s&&("auto"===t||"always"===t)||"menu"===f.location)&&(Ne=!0)}),Ne}_arrangeItems(){var de;this._toolbar._$centerSection.css({margin:"0 auto",float:"none"}),(0,P.__)(null!==(de=this._restoreItems)&&void 0!==de?de:[],function(Ne,T){(0,_e.A)(T.container).append(T.item)}),this._restoreItems=[];var Te=(0,oe.RG)(this._toolbar.$element());return this._hideOverflowItems(Te),Te}_hideOverflowItems(de){var Te,Ne=this._toolbar.$element().find(".".concat(Z));if(Ne.length){de=null!==(Te=de)&&void 0!==Te?Te:(0,oe.RG)(this._toolbar.$element()),(0,_e.A)(Ne).removeClass(D);for(var T=this._getItemsWidth();Ne.length&&de<T;)Ne.eq(-1).addClass(D),T=this._getItemsWidth(),Ne.splice(-1,1)}}_getItemsWidth(){return this._toolbar._getSummaryItemsSize("width",[this._toolbar._$beforeSection,this._toolbar._$centerSection,this._toolbar._$afterSection])}_itemOptionChanged(de,Te,Ne){var T;"disabled"!==Te&&"options.disabled"!==Te||!this._toolbar._isMenuItem(de)?this.renderMenuItems():null===(T=this._menu)||void 0===T||T._itemOptionChanged(de,Te,Ne)}_renderItem(de,Te){"auto"===de.locateInMenu&&Te.addClass(Z)}_optionChanged(de,Te){var Ne,T,r,v,f;switch(de){case"disabled":null===(Ne=this._menu)||void 0===Ne||Ne.option(de,Te);break;case"overflowMenuVisible":null===(T=this._menu)||void 0===T||T.option("opened",Te);break;case"onItemClick":null===(r=this._menu)||void 0===r||r.option(de,Te);break;case"menuContainer":null===(v=this._menu)||void 0===v||v.option("container",Te);break;case"menuItemTemplate":null===(f=this._menu)||void 0===f||f.option("itemTemplate",Te)}}}class V extends se.A{_getDefaultOptions(){return(0,k.X)(super._getDefaultOptions(),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1,multiline:!1})}_isMultiline(){return this.option("multiline")}_dimensionChanged(de){"height"!==de&&(super._dimensionChanged(),this._layoutStrategy._dimensionChanged())}_initMarkup(){super._initMarkup(),this._updateFocusableItemsTabIndex(),this._layoutStrategy._initMarkup()}_renderToolbar(){super._renderToolbar(),this._renderLayoutStrategy()}_itemContainer(){return this._isMultiline()?this._$toolbarItemsContainer:super._itemContainer()}_renderLayoutStrategy(){this.$element().toggleClass("dx-toolbar-multiline",this._isMultiline()),this._layoutStrategy=this._isMultiline()?new q(this):new U(this)}_renderSections(){if(!this._isMultiline())return super._renderSections()}_postProcessRenderItems(){this._layoutStrategy._hideOverflowItems(),this._layoutStrategy._updateMenuVisibility(),super._postProcessRenderItems(),this._layoutStrategy._renderMenuItems()}_renderItem(de,Te,Ne,T){var r=super._renderItem(de,Te,Ne,T);this._layoutStrategy._renderItem(Te,r);var{widget:v,showText:f}=Te;return"dxButton"===v&&"inMenu"===f&&r.toggleClass("dx-toolbar-text-auto-hide"),r}_getItemsWidth(){return this._layoutStrategy._getItemsWidth()}_getMenuItems(){return this._layoutStrategy._getMenuItems()}_getToolbarItems(){return this._layoutStrategy._getToolbarItems()}_arrangeItems(){if(!this.$element().is(":hidden")){var de=this._layoutStrategy._arrangeItems();this._isMultiline()||super._arrangeItems(de)}}_itemOptionChanged(de,Te,Ne){this._isMenuItem(de)||super._itemOptionChanged(de,Te,Ne),this._layoutStrategy._itemOptionChanged(de,Te,Ne),("disabled"===Te||"options.disabled"===Te)&&ae(this,de),"location"===Te&&this.repaint()}_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(de=>ae(this,de))}_isMenuItem(de){return"menu"===de.location||"always"===de.locateInMenu}_isToolbarItem(de){return void 0===de.location||"never"===de.locateInMenu}_optionChanged(de){var{name:Te,value:Ne}=de;switch(this._layoutStrategy._optionChanged(Te,Ne),Te){case"menuContainer":case"menuItemTemplate":case"overflowMenuVisible":break;case"multiline":this._invalidate();break;case"disabled":super._optionChanged.apply(this,arguments),this._updateFocusableItemsTabIndex();break;default:super._optionChanged.apply(this,arguments)}}updateDimensions(){this._dimensionChanged()}}(0,be.A)("dxToolbar",V);const $=V},8321:(Mt,dt,i)=>{i.d(dt,{A:()=>we});var be=i(4292),k=i(4905),se=i(638),_e=i(2934),he=i(7951),Ce=i(186),le=i(7669),ae=i(1269),oe=i(736),ee=i(8060),q=i(5042),P=i(4435),Y=i(2463),Ee=i(2101),re=i(181),j=i(9454),ue=i(219),b=i(9104),c=i(4159),a=i(3501),d=i(3930),m=i(9057),S=i(1100),I=i(2984),N=i(9900),xe=i(8221),Pe=i(8500),Ie=i(6018),B="dx-treeview",n="".concat(B,"-node"),g="".concat(n,"-container"),o="".concat(n,"-loadindicator"),l="".concat(n,"-container-opened"),_="".concat(n,"-is-leaf"),h="".concat(B,"-item"),C="".concat(h,"-with-checkbox"),F="".concat(h,"-with-custom-expander-icon"),te="".concat(B,"-custom-expander-icon-item-container"),X="".concat(h,"-without-checkbox"),ge="".concat(h,"-data"),He="".concat(B,"-toggle-item-visibility"),Z="".concat(B,"-custom-collapse-icon"),D="".concat(B,"-custom-expand-icon"),U="".concat(B,"-loadindicator"),p="".concat(B,"-loadindicator-wrapper"),w="".concat(B,"-toggle-item-visibility-opened"),V="".concat(B,"-select-all-item"),J="dx-state-invisible",$="dx-state-disabled",de="dxTreeView_expand",Te="data-item-id",T="dx-checkbox",v="".concat(B,"-root-node"),f="".concat(B,"-expander-icon-stub");const t=ue.A.inherit({_supportedKeys:function(R){var z=ze=>{var tt=(0,be.A)(this.option("focusedElement"));tt.length&&(ze.target=tt,ze.currentTarget=tt,this._itemClickHandler(ze,tt.children("."+h)),this._getEventNameByOption(this.option("expandEvent"))===(0,b.b4)(ee.U,de)&&this._expandEventHandler(ze))},fe=ze=>{ze.preventDefault();var tt=(0,be.A)(this.option("focusedElement")),ht=this._getCheckBoxInstance(tt);if(!ht.option("disabled")){var St=ht.option("value");this._updateItemSelection(!St,tt.find("."+h).get(0),!0)}},Me=function(ze,tt){if(this.option("expandAllEnabled")){tt.preventDefault();var ht=(0,be.A)(this.option("focusedElement"));if(ht.length){var St=this._getItemData(ht.find(".".concat(h)));this._toggleExpandedNestedItems([St],ze)}}};return(0,he.X)(this.callBase(),{enter:this._showCheckboxes()?fe:z,space:this._showCheckboxes()?fe:z,asterisk:Me.bind(this,!0),minus:Me.bind(this,!1)})},_toggleExpandedNestedItems:function(R,z){if(R)for(var fe=0,Me=R.length;fe<Me;fe++){var ze=R[fe],tt=this._dataAdapter.getNodeByItem(ze);this._toggleExpandedState(tt,z),this._toggleExpandedNestedItems(ze.items,z)}},_getNodeElement:function(R,z){var fe=this._encodeString(R.internalFields.key);if(z)return z.$nodeByKey||(z.$nodeByKey={},this.$element().find(".".concat(n)).each(function(){var ze=(0,be.A)(this),tt=ze.attr(Te);z.$nodeByKey[tt]=ze})),z.$nodeByKey[fe]||(0,be.A)();var Me=this.$element().get(0).querySelector("[".concat(Te,'="').concat(fe,'"]'));return(0,be.A)(Me)},_activeStateUnit:"."+h,_widgetClass:function(){return B},_getDefaultOptions:function(){var R=(0,he.X)(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",expandIcon:null,collapseIcon:null,selectAllText:oe.A.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",useNativeScrolling:!0,virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null});return(0,he.X)(!0,R,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!N.nativeScrolling},options:{useNativeScrolling:!1}}])},_initSelectedItems:q.lQ,_syncSelectionOptions:q.TA,_fireSelectionChanged:function(){(0,I.z7)(this._selectionChangePromise).done(function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}.bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(R){this._selectAllValueChangedAction({value:R})},_checkBoxModeChange:function(R,z){var fe=this.option("searchEnabled"),Me=this._selectAllEnabled(z),ze=this._itemContainer(fe,Me);if(this._detachClickEvent(ze),this._detachExpandEvent(ze),"none"!==z&&"none"!==R){var tt=this._$selectAllItem&&this._$selectAllItem.length;switch(R){case"selectAll":tt||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":tt&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}}},_removeSelection:function(){var R=this;(0,Ee.__)(this._dataAdapter.getFullData(),function(z,fe){R._hasChildren(fe)&&R._dataAdapter.toggleSelection(fe.internalFields.key,!1,!0)})},_optionChanged:function(R){var{name:z,value:fe,previousValue:Me}=R;switch(z){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",fe);break;case"showCheckBoxesMode":this._checkBoxModeChange(fe,Me),this._invalidate();break;case"scrollDirection":this.getScrollable().option("direction",fe);break;case"useNativeScrolling":this.getScrollable().option("useNative",fe);break;case"items":delete this._$selectAllItem,this.callBase(R);break;case"dataSource":this.callBase(R),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._attachExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(R);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",R.value),this.repaint();break;case"expandIcon":case"collapseIcon":this.repaint();break;default:this.callBase(R)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done(function(R){R&&R.length&&this.option("items",R)}.bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var R=this._filter;R.custom||(R.custom=this._dataSource.filter()),R.internal||(R.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return(0,Y.Tn)(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(R){var z=this.option("createChildren").call(this,R);return Array.isArray(z)?(new I.cY).resolve(z).promise():z&&(0,Y.Tn)(z.then)?(0,I.Sx)(z):(new I.cY).resolve([]).promise()},_combineFilter:function(){return this._filter.custom&&this._filter.custom.length?[this._filter.custom,this._filter.internal]:this._filter.internal},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(R){var z=this.option("items");this._initialized&&this._isVirtualMode()&&z.length||this.option("items",R)},_removeTreeViewLoadIndicator:function(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=(0,be.A)("<div>").addClass(U),this._createComponent(this._treeViewLoadIndicator,S.A,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(R){var z;if(this._isVirtualMode()&&(z=this._combineFilter(),this._dataSource.filter(z)),R&&!this._dataSource.isLoaded()){this.option("items",[]);var fe=(0,be.A)("<div>").addClass(p);this._createTreeViewLoadIndicator().appendTo(fe),this.itemsContainer().append(fe),this._isVirtualMode()&&this._dataSource.filter()!==z&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){"plain"===this.option("dataStructure")&&this._dataSource&&this._dataSource.store().on("inserted",R=>{this.option().items=this.option("items").concat(R),this._dataAdapter.addItem(R),this._dataAdapter.isFiltered(R)&&this._updateLevel(this._parentIdGetter(R))}).on("removed",R=>{var z=this._dataAdapter.getNodeByKey(R);(0,Y.O9)(z)&&(this.option("items")[this._dataAdapter.getIndexByKey(z.internalFields.key)]=0,this._markChildrenItemsToRemove(z),this._removeItems(),this._dataAdapter.removeItem(R),this._updateLevel(this._parentIdGetter(z)))})},_markChildrenItemsToRemove:function(R){(0,Ee.__)(R.internalFields.childrenKeys,(fe,Me)=>{this.option("items")[this._dataAdapter.getIndexByKey(Me)]=0,this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(Me))})},_removeItems:function(){var R=(0,he.X)(!0,[],this.option("items")),z=0;(0,Ee.__)(R,(fe,Me)=>{Me||(this.option("items").splice(fe-z,1),z++)})},_updateLevel:function(R){var z=this._getContainerByParentKey(R);this._renderItems(z,this._dataAdapter.getChildrenNodes(R))},_getOldContainer:function(R){if(R.length)return R.children(".".concat(g));var z=this.getScrollable();return z?(0,be.A)(z.content()).children():(0,be.A)()},_getContainerByParentKey:function(R){var z=this._dataAdapter.getNodeByKey(R),fe=z?this._getNodeElement(z):[];this._getOldContainer(fe).remove();var Me=this._renderNodeContainer(fe);if(this._isRootLevel(R)){var ze=this.getScrollable();ze||this._renderScrollableContainer(),(0,be.A)(ze.content()).append(Me)}return Me},_isRootLevel:function(R){return R===this.option("rootValue")},_getAccessors:function(){var R=this.callBase();return R.push("hasItems"),R},_getDataAdapterOptions:function(){var R,z,fe;return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort(),langParams:null===(R=this._dataSource)||void 0===R||null===(z=R.loadOptions)||void 0===z||null===(fe=z.call(R))||void 0===fe?void 0:fe.langParams}},_initMarkup:function(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){var R=this._renderNodeContainer();(0,be.A)(this.getScrollable().content()).append(R),this.option("items")&&this.option("items").length&&(this._renderItems(R,this._dataAdapter.getRootNodes()),this._attachExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(R)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return"plain"===this.option("dataStructure")},_fireContentReadyAction:function(){var R=this.getDataSource(),z=R&&!R.isLoaded()||this._skipContentReadyAndItemExpanded,fe=this.getScrollable();fe&&(0,P.Vd)()&&fe.update(),z||this.callBase(),fe&&(0,P.Vd)()&&fe.update()},_renderScrollableContainer:function(){this._scrollable=this._createComponent((0,be.A)("<div>").appendTo(this.$element()),m.A,{useNative:this.option("useNativeScrolling"),direction:this.option("scrollDirection"),useKeyboard:!1}),this.setAria("role","treeitem",this._scrollable.$element())},_renderNodeContainer:function(R){var z=(0,be.A)("<ul>").addClass(g);if(this.setAria("role","group",z),R&&R.length){var fe=this._getItemData(R.children("."+h));this._expandedGetter(fe)&&z.addClass(l),z.appendTo(R)}return z},_createDOMElement:function(R,z){var fe,Me,ze=(0,be.A)("<li>").addClass(n).attr(Te,this._encodeString(z.internalFields.key)).prependTo(R),tt={role:"treeitem",label:this._displayGetter(z.internalFields.item)||"",level:this._getLevel(R)};return!(null==z||null===(fe=z.internalFields)||void 0===fe||null===(Me=fe.childrenKeys)||void 0===Me||!Me.length)&&(tt.expanded=z.internalFields.expanded||!1),this.setAria(tt,ze),ze},_getLevel:function(R){var z=R.parent();return z.hasClass("dx-scrollable-content")?1:parseInt(z.attr("aria-level"))+1},_showCheckboxes:function(){return"none"!==this.option("showCheckBoxesMode")},_hasCustomExpanderIcons:function(){return this.option("expandIcon")||this.option("collapseIcon")},_selectAllEnabled:function(R){return"selectAll"===(R??this.option("showCheckBoxesMode"))&&!this._isSingleSelection()},_renderItems:function(R,z){for(var Me=z.length-1;Me>=0;Me--)this._renderItem(Me,z[Me],R);this._renderedItemsCount+=z.length},_renderItem:function(R,z,fe){var Me=this._createDOMElement(fe,z),ze=z.internalFields,tt=this._showCheckboxes();Me.addClass(tt?C:X),Me.toggleClass(J,!1===ze.item.visible),this._hasCustomExpanderIcons()&&(Me.addClass(F),fe.addClass(te)),this.setAria("selected",ze.selected,Me),this._toggleSelectedClass(Me,ze.selected),ze.disabled&&this.setAria("disabled",ze.disabled,Me),this.callBase(this._renderedItemsCount+R,ze.item,Me),this._getNode(z.internalFields.parentKey)||Me.addClass(v),!1!==ze.item.visible&&this._renderChildren(Me,z)},_setAriaSelectionAttribute:q.lQ,_renderChildren:function(R,z){if(!this._hasChildren(z))return this._addLeafClass(R),void(0,be.A)("<div>").addClass(f).appendTo(this._getItem(R));this._hasCustomExpanderIcons()?this._renderCustomExpanderIcons(R,z):this._renderDefaultExpanderIcons(R,z),this._shouldRenderSublevel(z.internalFields.expanded)&&this._loadSublevel(z).done(fe=>{this._renderSublevel(R,this._getActualNode(z),fe)})},_shouldRenderSublevel:function(R){return R||!this.option("deferRendering")},_getActualNode:function(R){return this._dataAdapter.getNodeByKey(R.internalFields.key)},_hasChildren:function(R){return this._isVirtualMode()||this._useCustomChildrenLoader()?!1!==this._hasItemsGetter(R.internalFields.item):this.callBase(R)},_loadSublevel:function(R){var z=new I.cY,fe=this._getChildNodes(R);return fe.length?z.resolve(fe):this._loadNestedItems(R).done(Me=>{z.resolve(this._dataAdapter.getNodesByItems(Me))}),z.promise()},_getItemExtraPropNames:()=>["url","linkAttr"],_addContent:function(R,z){var{html:fe,url:Me}=z;if(Me){R.html(fe);var ze=this._getLinkContainer(this._getIconContainer(z),this._getTextContainer(z),z);R.append(ze)}else this.callBase(R,z)},_postprocessRenderItem(R){var{itemData:z,itemElement:fe}=R;this._showCheckboxes()&&this._renderCheckBox(fe,this._getNode(z)),this.callBase(R)},_renderSublevel:function(R,z,fe){var Me=this._renderNodeContainer(R,z),ze=fe.filter(ht=>-1!==z.internalFields.childrenKeys.indexOf(ht.internalFields.key));if(this._renderItems(Me,ze),ze.length&&!z.internalFields.selected){var tt=ze[0];this._updateParentsState(tt,this._getNodeElement(tt))}this._normalizeIconState(R,ze.length),z.internalFields.expanded&&Me.addClass(l)},_executeItemRenderAction:function(R,z,fe){var Me=this._getNode(fe);this._getItemRenderAction()({itemElement:fe,itemIndex:R,itemData:z,node:this._dataAdapter.getPublicNode(Me)})},_addLeafClass:function(R){R.addClass(_)},_expandEventHandler:function(R){(0,be.A)(R.currentTarget.parentNode).hasClass(_)||this._toggleExpandedState(R.currentTarget,void 0,R)},_attachExpandEvent:function(){var R=this._getEventNameByOption(this.option("expandEvent")),z=this._itemContainer();this._detachExpandEvent(z),ae.A.on(z,R,this._itemSelector(),this._expandEventHandler.bind(this))},_detachExpandEvent(R){ae.A.off(R,".".concat(de),this._itemSelector())},_getEventNameByOption:function(R){return(0,b.b4)("click"===R?ee.U:a.U,de)},_getNode:function(R){if(!(0,Y.O9)(R))return null;if(R.internalFields)return R;if((0,Y.sO)(R))return this._dataAdapter.getNodeByKey(R);var z=(0,be.A)(R).get(0);return z?le.A.isElementNode(z)?this._getNodeByElement(z):this._dataAdapter.getNodeByItem(z):null},_getNodeByElement:function(R){var z=(0,be.A)(R).closest("."+n),fe=this._decodeString(z.attr(Te));return this._dataAdapter.getNodeByKey(fe)},_toggleExpandedState:function(R,z,fe){var Me=this._getNode(R);if(!Me)return(new I.cY).reject().promise();if(Me.internalFields.disabled)return(new I.cY).reject().promise();var ze=Me.internalFields.expanded;if(ze===z)return(new I.cY).resolve().promise();if(this._hasChildren(Me)){var tt=this._getNodeElement(Me);if(tt.find(".".concat(o,":not(.").concat(J,")")).length)return(new I.cY).reject().promise();!ze&&!this._nodeHasRenderedChildren(tt)&&this._createLoadIndicator(tt)}return(0,Y.O9)(z)||(z=!ze),this._dataAdapter.toggleExpansion(Me.internalFields.key,z),this._updateExpandedItemsUI(Me,z,fe)},_nodeHasRenderedChildren:R=>R.children(".".concat(g)).not(":empty").length,_getItem:function(R){return R.children(".".concat(h)).eq(0)},_createLoadIndicator:function(R){var z=this._getItem(R);this._createComponent((0,be.A)("<div>").addClass(o),S.A,{}).$element().appendTo(z),z.children(".".concat(He,",.").concat(D)).hide()},_renderExpanderIcon:function(R,z,fe,Me){fe.appendTo(this._getItem(R)),fe.addClass(Me),z.internalFields.disabled&&fe.addClass($),this._renderToggleItemVisibilityIconClick(fe,z)},_renderDefaultExpanderIcons:function(R,z){var fe=this._getItem(R),Me=(0,be.A)("<div>").addClass(He).appendTo(fe);z.internalFields.expanded&&(Me.addClass(w),R.parent().addClass(l)),z.internalFields.disabled&&Me.addClass($),this._renderToggleItemVisibilityIconClick(Me,z)},_renderCustomExpanderIcons:function(R,z){var{expandIcon:fe,collapseIcon:Me}=this.option(),ze=(0,Ie.N)(fe??Me),tt=(0,Ie.N)(Me??fe);this._renderExpanderIcon(R,z,ze,D),this._renderExpanderIcon(R,z,tt,Z);var ht=z.internalFields.expanded;ht&&R.parent().addClass(l),this._toggleCustomExpanderIcons(ze,tt,ht)},_renderToggleItemVisibilityIconClick:function(R,z){var fe=(0,b.b4)(ee.U,this.NAME);ae.A.off(R,fe),ae.A.on(R,fe,Me=>(this._toggleExpandedState(z.internalFields.key,void 0,Me),!1))},_toggleCustomExpanderIcons:function(R,z,fe){z.toggle(fe),R.toggle(!fe)},_updateExpandedItemsUI:function(R,z,fe){var Me=this._getNodeElement(R),ze=!Me.length||z&&Me.is(":hidden");if(this.option("expandNodesRecursive")&&ze){var tt=this._getNode(R.internalFields.parentKey);tt&&this._updateExpandedItemsUI(tt,z,fe)}if(this._hasCustomExpanderIcons()){if(this._nodeHasRenderedChildren(Me)){var St=this._getItem(Me),xt=St.children(".".concat(D)),Tt=St.children(".".concat(Z));this._toggleCustomExpanderIcons(xt,Tt,z)}}else this._getItem(Me).children(".".concat(He)).toggleClass(w,z);var Pt=Me.children(".".concat(g)),Ht=Pt.length>0,nt=new I.cY;return!z||Ht&&!Pt.is(":empty")?(this._animateNodeContainer(R,z,fe,nt),nt.promise()):0===R.internalFields.childrenKeys.length&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(R,z,fe,nt),nt.promise()):(this._renderSublevel(Me,R,this._getChildNodes(R)),this._fireContentReadyAction(),this._animateNodeContainer(R,z,fe,nt),nt.promise())},_loadNestedItemsWithUpdate:function(R,z,fe,Me){var ze=this._getNodeElement(R);this._loadNestedItems(R).done(tt=>{var ht=this._getActualNode(R);this._renderSublevel(ze,ht,this._dataAdapter.getNodesByItems(tt)),tt&&tt.length?(this._fireContentReadyAction(),this._animateNodeContainer(ht,z,fe,Me)):Me.resolve()})},_loadNestedItems:function(R){if(this._useCustomChildrenLoader()){var z=this._dataAdapter.getPublicNode(R);return this._loadChildrenByCustomLoader(z).done(fe=>{this._areNodesExists(fe)||this._appendItems(fe)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),R.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(fe=>{this._areNodesExists(fe)||this._appendItems(fe)})):(new I.cY).resolve([]).promise()},_areNodesExists:function(R,z){var fe=this.keyOf(R[0]),Me=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(fe,Me)},_appendItems:function(R){this.option().items=this.option("items").concat(R),this._initDataAdapter()},_animateNodeContainer:function(R,z,fe,Me){var ze=this._getNodeElement(R),tt=ze.children(".".concat(g));R&&Me&&0===tt.length&&Me.resolve(),tt.addClass(l);var ht=(0,Ce.Oq)(tt);d.A.stop(tt,!0),d.A.animate(tt,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:z?0:ht},to:{maxHeight:z?ht:0},complete:function(){tt.css("maxHeight","none"),tt.toggleClass(l,z),this.setAria("expanded",z,ze),this.getScrollable().update(),this._fireExpandedStateUpdatedEvent(z,R,fe),Me&&Me.resolve()}.bind(this)})},_fireExpandedStateUpdatedEvent:function(R,z,fe){if(this._hasChildren(z)&&!this._skipContentReadyAndItemExpanded){var Me=R?"onItemExpanded":"onItemCollapsed";if((0,Y.O9)(fe))this._itemDXEventHandler(fe,Me,{node:this._dataAdapter.getPublicNode(z)});else{var ze=this._getNodeElement(z);this._itemEventHandler(ze,Me,{event:fe,node:this._dataAdapter.getPublicNode(z)})}}},_normalizeIconState:function(R,z){var Me,fe=R.find(".".concat(o));fe.length&&(null===(Me=S.A.getInstance(fe))||void 0===Me||Me.option("visible",!1));var tt=this._getItem(R).children(".".concat(Z,",.").concat(He));z?tt.show():(tt.removeClass(He),R.addClass(_))},_emptyMessageContainer:function(){var R=this.getScrollable();return R?(0,be.A)(R.content()):this.callBase()},_renderContent:function(){var R=this.option("items");R&&R.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(R){R=R||this.$element().find(".".concat(g)).first(),this._$selectAllItem=(0,be.A)("<div>").addClass(V);var z=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,j.A,{value:z,elementAttr:{"aria-label":"Select All"},text:this.option("selectAllText"),onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this)}),this._toggleSelectedClass(this._$selectAllItem,z),R.before(this._$selectAllItem)},_onSelectAllCheckboxValueChanged:function(R){this._toggleSelectAll(R),this._fireSelectAllValueChanged(R.value)},_toggleSelectAll:function(R){this._dataAdapter.toggleSelectAll(R.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(R,z){var fe=(0,be.A)("<div>").appendTo(R);this._createComponent(fe,j.A,{value:z.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,elementAttr:{"aria-label":"Check State"},disabled:this._disabledGetter(z)})},_toggleSelectedClass:function(R,z){R.toggleClass("dx-state-selected",!!z)},_toggleNodeDisabledState:function(R,z){var fe=this._getNodeElement(R),Me=fe.find("."+h).eq(0);this._dataAdapter.toggleNodeDisabledState(R.internalFields.key,z),Me.toggleClass($,!!z),this._showCheckboxes()&&this._getCheckBoxInstance(fe).option("disabled",!!z)},_itemOptionChanged:function(R,z,fe){var Me=this._dataAdapter.getNodeByItem(R);z===this.option("disabledExpr")&&this._toggleNodeDisabledState(Me,fe)},_changeCheckboxValue:function(R){var z=(0,be.A)(R.element).closest(".".concat(n)),fe=this._getItem(z),Me=this._getItemData(fe),ze=this._getNodeByElement(fe),tt=R.value;ze&&ze.internalFields.selected===tt||this._updateItemSelection(tt,Me,R.event)},_isSingleSelection:function(){return"single"===this.option("selectionMode")},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&"single"!==this.option("selectionMode")},_isLastSelectedBranch:function(R,z,fe){var Me=z.indexOf(R.key);return Me>=0&&z.splice(Me,1),fe&&(0,Ee.__)(R.children,function(ze,tt){this._isLastSelectedBranch(tt,z,!0)}.bind(this)),R.parent&&this._isLastSelectedBranch(R.parent,z),0===z.length},_isLastRequired:function(R){var z=this.option("selectionRequired"),fe=this._isSingleSelection(),Me=this.getSelectedNodeKeys();if(z)return fe?1===Me.length:this._isLastSelectedBranch(R.internalFields.publicNode,Me.slice(),!0)},_updateItemSelection:function(R,z,fe){var Me=this._getNode(z);if(!Me||!1===Me.visible)return!1;if(Me.internalFields.selected===R)return!0;if(!R&&this._isLastRequired(Me)){if(this._showCheckboxes()){var ze=this._getNodeElement(Me);this._getCheckBoxInstance(ze).option("value",!0)}return!1}if(R&&this._isSingleSelection()){var tt=this.getSelectedNodeKeys();(0,Ee.__)(tt,(xt,Tt)=>{this._dataAdapter.toggleSelection(Tt,!1),this._updateItemsUI(),this._fireItemSelectionChanged(this._getNode(Tt))})}this._dataAdapter.toggleSelection(Me.internalFields.key,R);var ht=this._dataAdapter.isAllSelected(),St=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==ht;return this._updateItemsUI(),this._fireItemSelectionChanged(Me,fe),this._fireSelectionChanged(),St&&this._fireSelectAllValueChanged(ht),!0},_fireItemSelectionChanged:function(R,z){var fe=z||this._findItemElementByItem(R.internalFields.item);(z?this._itemDXEventHandler:this._itemEventHandler).call(this,fe,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(R),itemData:R.internalFields.item})},_getCheckBoxInstance:function(R){return this._getItem(R).children(".".concat(T)).dxCheckBox("instance")},_updateItemsUI:function(){var R={};if((0,Ee.__)(this._dataAdapter.getData(),(fe,Me)=>{var ze=this._getNodeElement(Me,R),tt=Me.internalFields.selected;ze.length&&(this._toggleSelectedClass(ze,tt),this.setAria("selected",tt,ze),this._showCheckboxes()&&this._getCheckBoxInstance(ze).option("value",tt))}),this._selectAllEnabled()){var z=this._$selectAllItem.dxCheckBox("instance");z.option("onValueChanged",void 0),z.option("value",this._dataAdapter.isAllSelected()),z.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}},_updateParentsState:function(R,z){if(z){var fe=this._dataAdapter.getNodeByKey(R.internalFields.parentKey),Me=(0,be.A)(z.parents("."+n)[0]);if(this._showCheckboxes()){var ze=fe.internalFields.selected;this._getCheckBoxInstance(Me).option("value",ze),this._toggleSelectedClass(Me,ze)}fe.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(fe,Me)}},_itemEventHandlerImpl:function(R,z,fe){var Me=(0,be.A)(R).closest("."+n).children("."+h);return z((0,he.X)(this._extendActionArgs(Me),fe))},_itemContextMenuHandler:function(R){this._createEventHandler("onItemContextMenu",R)},_itemHoldHandler:function(R){this._createEventHandler("onItemHold",R)},_createEventHandler:function(R,z){var fe=this._getNodeByElement(z.currentTarget);this._itemDXEventHandler(z,R,{node:this._dataAdapter.getPublicNode(fe)})},_itemClass:function(){return h},_itemDataKey:function(){return ge},_attachClickEvent:function(){var R=this._itemContainer();this._detachClickEvent(R);var{clickEventNamespace:z,itemSelector:fe,pointerDownEventNamespace:Me,nodeSelector:ze}=this._getItemClickEventData();ae.A.on(R,z,fe,tt=>{(0,be.A)(tt.target).hasClass("dx-checkbox-icon")||(0,be.A)(tt.target).hasClass(T)||this._itemClickHandler(tt,(0,be.A)(tt.currentTarget))}),ae.A.on(R,Me,ze,tt=>{this._itemPointerDownHandler(tt)})},_detachClickEvent:function(R){var{clickEventNamespace:z,itemSelector:fe,pointerDownEventNamespace:Me,nodeSelector:ze}=this._getItemClickEventData();ae.A.off(R,z,fe),ae.A.off(R,Me,ze)},_getItemClickEventData:function(){var R=".".concat(this._itemClass()),z=".".concat(n,", .").concat(V);return{clickEventNamespace:(0,b.b4)(ee.U,this.NAME),itemSelector:R,pointerDownEventNamespace:(0,b.b4)(c.A.down,this.NAME),nodeSelector:z}},_itemClick:function(R){var z=R.args[0],Me=(z.event.target[0]||z.event.target).getElementsByClassName("dx-item-url")[0];z.itemData.url&&Me&&Me.click()},_itemClickHandler:function(R,z){var fe=this._getItemData(z),Me=this._getNodeByElement(z);this._itemDXEventHandler(R,"onItemClick",{node:this._dataAdapter.getPublicNode(Me)},{beforeExecute:this._itemClick}),this.option("selectByClick")&&!R.isDefaultPrevented()&&this._updateItemSelection(!Me.internalFields.selected,fe,R)},_updateSelectionToFirstItem:function(R,z){for(var fe=z;fe>=0;){var Me=(0,be.A)(R[fe]);this._updateItemSelection(!0,Me.find("."+h).get(0)),fe--}},_updateSelectionToLastItem:function(R,z){for(var fe=R.length,Me=z;Me<fe;){var ze=(0,be.A)(R[Me]);this._updateItemSelection(!0,ze.find("."+h).get(0)),Me++}},focus:function(){this._selectAllEnabled()?ae.A.trigger(this._$selectAllItem,"focus"):this.callBase()},_focusInHandler:function(R){this._updateFocusState(R,!0);var z=(0,be.A)(R.target).hasClass(V);if(z||this.option("focusedElement"))return clearTimeout(this._setFocusedItemTimeout),void(this._setFocusedItemTimeout=setTimeout(()=>{var Me=z?(0,re.c)(this._$selectAllItem):(0,be.A)(this.option("focusedElement"));this._setFocusedItem(Me)}));var fe=this._getActiveItem();this.option("focusedElement",(0,re.c)(fe.closest("."+n)))},_itemPointerDownHandler:function(R){if(this.option("focusStateEnabled")){var z=(0,be.A)(R.target).closest("."+n+", ."+V);if(z.length){var fe=z.hasClass($)?null:z;this.option("focusedElement",(0,re.c)(fe))}}},_findNonDisabledNodes:function(R){return R.not(function(){return(0,be.A)(this).children("."+h).hasClass($)})},_moveFocus:function(R,z){var ht=this.option("rtlEnabled")?"right":"left",St=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat(g)).each(function(){d.A.stop(this,!0)});var xt=this._nodeElements();if(xt&&xt.length)switch(R){case"up":var Tt=this._prevItem(xt);this.option("focusedElement",(0,re.c)(Tt));var Pt=this._getNodeItemElement(Tt);this.getScrollable().scrollToElement(Pt),z.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,Pt);break;case"down":var Ht=this._nextItem(xt);this.option("focusedElement",(0,re.c)(Ht));var nt=this._getNodeItemElement(Ht);this.getScrollable().scrollToElement(nt),z.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,nt);break;case"first":var M=xt.first();z.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(xt,xt.index(this._prevItem(xt))),this.option("focusedElement",(0,re.c)(M)),this.getScrollable().scrollToElement(this._getNodeItemElement(M));break;case"last":var ce=xt.last();z.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(xt,xt.index(this._nextItem(xt))),this.option("focusedElement",(0,re.c)(ce)),this.getScrollable().scrollToElement(this._getNodeItemElement(ce));break;case St:this._expandFocusedContainer();break;case ht:this._collapseFocusedContainer();break;default:return void this.callBase.apply(this,arguments)}},_getNodeItemElement:function(R){return R.find("."+h).get(0)},_nodeElements:function(){return this.$element().find("."+n).not(":hidden")},_expandFocusedContainer:function(){var R=(0,be.A)(this.option("focusedElement"));if(R.length&&!R.hasClass(_)){if(R.find(".".concat(g)).eq(0).hasClass(l)){var fe=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));return this.option("focusedElement",(0,re.c)(fe)),void this.getScrollable().scrollToElement(this._getNodeItemElement(fe))}var Me=this._getNodeByElement(this._getItem(R));this._toggleExpandedState(Me,!0)}},_getClosestNonDisabledNode:function(R){do{R=R.parent().closest("."+n)}while(R.children(".dx-treeview-item.dx-state-disabled").length);return R},_collapseFocusedContainer:function(){var R=(0,be.A)(this.option("focusedElement"));if(R.length){var z=R.find(".".concat(g)).eq(0);if(!R.hasClass(_)&&z.hasClass(l)){var fe=this._getNodeByElement(this._getItem(R));this._toggleExpandedState(fe,!1)}else{var Me=this._getClosestNonDisabledNode(R);Me.length&&this.option("focusedElement",(0,re.c)(Me)),this.getScrollable().scrollToElement(this._getNodeItemElement(Me))}}},_encodeString:function(R){return(0,Y.Kg)(R)?encodeURI(R):R},_decodeString:function(R){return(0,Y.Kg)(R)?decodeURI(R):R},getScrollable:function(){return this._scrollable},updateDimensions:function(){var R=new I.cY,z=this.getScrollable();return z?z.update().done(()=>{R.resolveWith(this)}):R.resolveWith(this),R.promise()},selectItem:function(R){return this._updateItemSelection(!0,R)},unselectItem:function(R){return this._updateItemSelection(!1,R)},expandItem:function(R){return this._toggleExpandedState(R,!0)},collapseItem:function(R){return this._toggleExpandedState(R,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){return this.getSelectedNodeKeys().map(R=>{var z=this._dataAdapter.getNodeByKey(R);return this._dataAdapter.getPublicNode(z)})},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},_allItemsExpandedHandler:function(){this._skipContentReadyAndItemExpanded=!1,this._fireContentReadyAction()},expandAll:function(){var R=this._dataAdapter.getData(),z=[];this._skipContentReadyAndItemExpanded=!0,R.forEach(fe=>z.push(this._toggleExpandedState(fe.internalFields.key,!0))),Promise.allSettled(z).then(()=>{var fe;return null===(fe=this._allItemsExpanded)||void 0===fe?void 0:fe.call(this)})},collapseAll:function(){(0,Ee.__)(this._dataAdapter.getExpandedNodesKeys(),function(R,z){this._toggleExpandedState(z,!1)}.bind(this))},scrollToItem:function(R){var z=this._getNode(R);if(!z)return(new I.cY).reject().promise();for(var fe=[],Me=z.internalFields.publicNode.parent;null!=Me;)Me.expanded||fe.push(Me.key),Me=Me.parent;var ze=new I.cY;return this._expandNodes(fe.reverse()).always(()=>{var tt=this._getNodeElement(z);tt&&tt.length?(this.scrollToElementTopLeft(tt.get(0)),ze.resolve()):ze.reject()}),ze.promise()},scrollToElementTopLeft:function(R){var z=this.getScrollable(),{scrollDirection:fe,rtlEnabled:Me}=this.option(),ze={top:0,left:0},tt=(0,xe.Y)(Pe.JU,R);if(fe!==Pe.lm){var ht=(0,be.A)(z.container()).get(0);ze.left=Me?tt.left+R.offsetWidth-ht.clientWidth:tt.left}fe!==Pe.fK&&(ze.top=tt.top),z.scrollTo(ze)},_expandNodes:function(R){if(!R||0===R.length)return(new I.cY).resolve().promise();var z=new I.cY,fe=R.map(Me=>this.expandItem(Me));return I.z7.apply(be.A,fe).done(()=>z.resolve()).fail(()=>z.reject()),z.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout),this._allItemsExpandedHandler=null}});se.A.setEditorClass(_e.A);var u="dx-treeview",y="".concat(u,"-node-container"),K=t.inherit(se.A).inherit({_addWidgetPrefix:function(R){return"".concat(u,"-").concat(R)},_optionChanged:function(R){switch(R.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer(),this.option("focusedElement",null);break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(R)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return(0,he.X)(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_getNodeContainer:function(){return this.$element().find(".".concat(y)).first()},_updateSearch:function(){if(this._searchEditor){var R=this._getSearchEditorOptions();this._searchEditor.option(R)}},_repaintContainer:function(){var z,R=this._getNodeContainer();R.length&&(R.empty(),z=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(z),this._renderItems(R,z),this._fireContentReadyAction())},_focusTarget:function(){return this._itemContainer(this.option("searchEnabled"))},_cleanItemContainer:function(){this.$element().empty()},_itemContainer:function(R,z){var fe;return null!==(fe=z)&&void 0!==fe||(z=this._selectAllEnabled()),z?this._getNodeContainer():this._scrollable&&R?(0,be.A)(this._scrollable.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});(0,k.A)("dxTreeView",K);const we=K}}]);